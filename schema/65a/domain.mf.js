
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
 
 jQuery Tools @VERSION Tooltip - UI essentials

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tooltip/

 Since: November 2008
 Date: @DATE 
*/
(function(b){b.extend({tablesorter:new function(){function c(b,a){e(b+","+((new Date).getTime()-a.getTime())+"ms")}function e(b){"undefined"!=typeof console&&"undefined"!=typeof console.debug?console.log(b):alert(b)}function a(a,c){var f="";if(0!=a.tBodies.length){var k=a.tBodies[0].rows;if(k[0])for(var F=[],j=k[0].cells.length,i=0;i<j;i++){var r=!1;b.metadata&&b(c[i]).metadata()&&b(c[i]).metadata().sorter?r=d(b(c[i]).metadata().sorter):a.config.headers[i]&&a.config.headers[i].sorter&&(r=d(a.config.headers[i].sorter));
if(!r)a:{for(var r=a,n=k,l=-1,m=i,o=q.length,h=!1,s=!1,p=!0;""==s&&p;)l++,n[l]?(h=n[l].cells[m],s=b.trim(g(r.config,h)),r.config.debug&&e("Checking if value was empty on row:"+l)):p=!1;for(n=1;n<o;n++)if(q[n].is(s,r,h)){r=q[n];break a}r=q[0]}a.config.debug&&(f+="column:"+i+" parser:"+r.id+"\n");F.push(r)}a.config.debug&&e(f);return F}}function d(b){for(var a=q.length,c=0;c<a;c++)if(q[c].id.toLowerCase()==b.toLowerCase())return q[c];return!1}function f(a){var d;a.config.debug&&(d=new Date);for(var f=
a.tBodies[0]&&a.tBodies[0].rows.length||0,k=a.tBodies[0].rows[0]&&a.tBodies[0].rows[0].cells.length||0,e=a.config.parsers,i={row:[],normalized:[]},j=0;j<f;++j){var n=b(a.tBodies[0].rows[j]),l=[];if(n.hasClass(a.config.cssChildRow))i.row[i.row.length-1]=i.row[i.row.length-1].add(n);else{i.row.push(n);for(var m=0;m<k;++m)l.push(e[m].format(g(a.config,n[0].cells[m]),a,n[0].cells[m]));l.push(i.normalized.length);i.normalized.push(l)}}a.config.debug&&c("Building cache for "+f+" rows:",d);return i}function g(a,
c){var d="";if(!c)return"";a.supportsTextContent||(a.supportsTextContent=c.textContent||!1);return d="simple"==a.textExtraction?a.supportsTextContent?c.textContent:c.childNodes[0]&&c.childNodes[0].hasChildNodes()?c.childNodes[0].innerHTML:c.innerHTML:"function"==typeof a.textExtraction?a.textExtraction(c):b(c).text()}function j(a,d){var f;a.config.debug&&(f=new Date);for(var k=d.row,e=d.normalized,i=e.length,g=e[0].length-1,n=b(a.tBodies[0]),j=[],l=0;l<i;l++){var v=e[l][g];j.push(k[v]);if(!a.config.appender)for(var h=
k[v].length,o=0;o<h;o++)n[0].appendChild(k[v][o])}a.config.appender&&a.config.appender(a,j);j=null;a.config.debug&&c("Rebuilt table:",f);m(a);setTimeout(function(){b(a).trigger("sortEnd")},0)}function l(b,a){return b.config.headers[a]&&b.config.headers[a].lockedOrder?b.config.headers[a].lockedOrder:!1}function m(b){for(var a=b.config.widgets,c=a.length,d=0;d<c;d++)o(a[d]).format(b)}function o(b){for(var a=p.length,c=0;c<a;c++)if(p[c].id.toLowerCase()==b.toLowerCase())return p[c]}function n(a,c,d,
f){c.removeClass(f[0]).removeClass(f[1]);var e=[];c.each(function(){this.sortDisabled||(e[this.column]=b(this))});a=d.length;for(c=0;c<a;c++)e[d[c][0]].addClass(f[d[c][1]])}function i(b,a,d){var f,e;b.config.debug&&(f=new Date);var i="var sortWrapper = function(a,b) {",g=a.length;for(e=0;e<g;e++)var j=a[e][0],n=a[e][1],j="text"==b.config.parsers[j].type?0==n?h("text","asc",j):h("text","desc",j):0==n?h("numeric","asc",j):h("numeric","desc",j),l="e"+e,i=i+("var "+l+" = "+j),i=i+("if("+l+") { return "+
l+"; } "),i=i+"else { ";e=d.normalized[0].length-1;i+="return a["+e+"]-b["+e+"];";for(e=0;e<g;e++)i+="}; ";i+="return 0; }; ";b.config.debug&&c("Evaling expression:"+i,new Date);eval(i);d.normalized.sort(sortWrapper);b.config.debug&&c("Sorting on "+a.toString()+" and dir "+n+" time:",f);return d}function h(b,a,c){var d="a["+c+"]",c="b["+c+"]";if("text"==b&&"asc"==a)return"("+d+" == "+c+" ? 0 : ("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : ("+d+" < "+c+") ? -1 : 1 )));";
if("text"==b&&"desc"==a)return"("+d+" == "+c+" ? 0 : ("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : ("+c+" < "+d+") ? -1 : 1 )));";if("numeric"==b&&"asc"==a)return"("+d+" === null && "+c+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : "+d+" - "+c+"));";if("numeric"==b&&"desc"==a)return"("+d+" === null && "+c+" === null) ? 0 :("+d+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : "+
c+" - "+d+"));"}var q=[],p=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1};this.benchmark=c;this.construct=
function(d){return this.each(function(){if(this.tHead&&this.tBodies){var u,x,k;this.config={};k=b.extend(this.config,b.tablesorter.defaults,d);u=b(this);b.data(this,"tablesorter",k);var h=this,q;h.config.debug&&(q=new Date);for(var p=[],r={},G=h.getElementsByTagName("THEAD")[0].getElementsByTagName("TR"),B=0;B<G.length;B++)for(var H=G[B].cells,C=0;C<H.length;C++){var y=H[C],s=y.parentNode.rowIndex,D=s+"-"+y.cellIndex,K=y.rowSpan||1,y=y.colSpan||1,A;"undefined"==typeof p[s]&&(p[s]=[]);var t;for(t=
0;t<p[s].length+1;t++)if("undefined"==typeof p[s][t]){A=t;break}r[D]=A;for(t=s;t<s+K;t++){"undefined"==typeof p[t]&&(p[t]=[]);for(var D=p[t],E=A;E<A+y;E++)D[E]="x"}}var z=b(h.config.selectorHeaders,h).each(function(a){this.column=r[this.parentNode.rowIndex+"-"+this.cellIndex];this.count=this.order="Number"!=typeof h.config.sortInitialOrder?"desc"==h.config.sortInitialOrder.toLowerCase()?1:0:1==h.config.sortInitialOrder?1:0;if(b.metadata&&!1===b(this).metadata().sorter||h.config.headers[a]&&!1===h.config.headers[a].sorter)this.sortDisabled=
!0;l(h,a)&&(this.order=this.lockedOrder=l(h,a));if(!this.sortDisabled){var c=b(this).addClass(h.config.cssHeader);h.config.onRenderHeader&&h.config.onRenderHeader.apply(c)}h.config.headerList[a]=this});h.config.debug&&(c("Built headers:",q),e(z));this.config.parsers=a(this,z);x=f(this);var I=[k.cssDesc,k.cssAsc];if(this.config.widthFixed){var J=b("<colgroup>");b("tr:first td",this.tBodies[0]).each(function(){J.append(b("<col>").css("width",b(this).width()))});b(this).prepend(J)}z.click(function(a){var c=
u[0].tBodies[0]&&u[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&c>0){u.trigger("sortStart");b(this);c=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(a[k.sortMultiSortKey]){a:{for(var a=k.sortList,d=a.length,f=0;f<d;f++)if(a[f][0]==c){a=true;break a}a=false}if(a)for(a=0;a<k.sortList.length;a++){d=k.sortList[a];f=k.headerList[d[0]];if(d[0]==c){f.count=d[1];f.count++;d[1]=f.count%2}}else k.sortList.push([c,this.order])}else{k.sortList=[];if(k.sortForce!=
null){d=k.sortForce;for(a=0;a<d.length;a++)d[a][0]!=c&&k.sortList.push(d[a])}k.sortList.push([c,this.order])}setTimeout(function(){n(u[0],z,k.sortList,I);j(u[0],i(u[0],k.sortList,x))},1);return false}}).mousedown(function(){if(k.cancelSelection){this.onselectstart=function(){return false};return false}});u.bind("update",function(){var b=this;setTimeout(function(){b.config.parsers=a(b,z);x=f(b)},1)}).bind("updateCell",function(a,b){var c=this.config,d=[b.parentNode.rowIndex-1,b.cellIndex];x.normalized[d[0]][d[1]]=
c.parsers[d[1]].format(g(c,b),b)}).bind("sorton",function(a,c){b(this).trigger("sortStart");k.sortList=c;for(var d=k.sortList,f=this.config,e=d.length,g=0;g<e;g++){var l=d[g],h=f.headerList[l[0]];h.count=l[1];h.count++}n(this,z,d,I);j(this,i(this,d,x))}).bind("appendCache",function(){j(this,x)}).bind("applyWidgetId",function(a,b){o(b).format(this)}).bind("applyWidgets",function(){m(this)});b.metadata&&(b(this).metadata()&&b(this).metadata().sortlist)&&(k.sortList=b(this).metadata().sortlist);0<k.sortList.length&&
u.trigger("sorton",[k.sortList]);m(this)}})};this.addParser=function(a){for(var b=q.length,c=!0,d=0;d<b;d++)q[d].id.toLowerCase()==a.id.toLowerCase()&&(c=!1);c&&q.push(a)};this.addWidget=function(a){p.push(a)};this.formatFloat=function(a){a=parseFloat(a);return isNaN(a)?0:a};this.formatInt=function(a){a=parseInt(a);return isNaN(a)?0:a};this.isDigit=function(a){return/^[-+]?\d*$/.test(b.trim(a.replace(/[,.']/g,"")))};this.clearTableBody=function(a){b.browser.msie?function(){for(;this.firstChild;)this.removeChild(this.firstChild)}.apply(a.tBodies[0]):
a.tBodies[0].innerHTML=""}}});b.fn.extend({tablesorter:b.tablesorter.construct});var g=b.tablesorter;g.addParser({id:"text",is:function(){return!0},format:function(c){return b.trim(c.toLocaleLowerCase())},type:"text"});g.addParser({id:"digit",is:function(c,e){return b.tablesorter.isDigit(c,e.config)},format:function(c){return b.tablesorter.formatFloat(c)},type:"numeric"});g.addParser({id:"currency",is:function(b){return/^[\u00a3$\u20ac?.]/.test(b)},format:function(c){return b.tablesorter.formatFloat(c.replace(RegExp(/[\u00a3$\u20ac]/g),
""))},type:"numeric"});g.addParser({id:"ipAddress",is:function(b){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(b)},format:function(c){for(var c=c.split("."),e="",a=c.length,d=0;d<a;d++)var f=c[d],e=2==f.length?e+("0"+f):e+f;return b.tablesorter.formatFloat(e)},type:"numeric"});g.addParser({id:"url",is:function(b){return/^(https?|ftp|file):\/\/$/.test(b)},format:function(b){return jQuery.trim(b.replace(RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});g.addParser({id:"isoDate",is:function(b){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(b)},
format:function(c){return b.tablesorter.formatFloat(""!=c?(new Date(c.replace(RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});g.addParser({id:"percent",is:function(c){return/\%$/.test(b.trim(c))},format:function(c){return b.tablesorter.formatFloat(c.replace(RegExp(/%/g),""))},type:"numeric"});g.addParser({id:"usLongDate",is:function(b){return b.match(RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(c){return b.tablesorter.formatFloat((new Date(c)).getTime())},
type:"numeric"});g.addParser({id:"shortDate",is:function(b){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(b)},format:function(c,e){var a=e.config,c=c.replace(/\-/g,"/");if("us"==a.dateFormat)c=c.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if("uk"==a.dateFormat)c=c.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if("dd/mm/yy"==a.dateFormat||"dd-mm-yy"==a.dateFormat)c=c.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return b.tablesorter.formatFloat((new Date(c)).getTime())},
type:"numeric"});g.addParser({id:"time",is:function(b){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(b)},format:function(c){return b.tablesorter.formatFloat((new Date("2000/01/01 "+c)).getTime())},type:"numeric"});g.addParser({id:"metadata",is:function(){return!1},format:function(c,e,a){c=e.config;c=!c.parserMetadataName?"sortValue":c.parserMetadataName;return b(a).metadata()[c]},type:"numeric"});g.addWidget({id:"zebra",format:function(c){var e;c.config.debug&&(e=new Date);
var a,d=-1,f;b("tr:visible",c.tBodies[0]).each(function(){a=b(this);a.hasClass(c.config.cssChildRow)||d++;f=0==d%2;a.removeClass(c.config.widgetZebra.css[f?0:1]).addClass(c.config.widgetZebra.css[f?1:0])});c.config.debug&&b.tablesorter.benchmark("Applying Zebra widget",e)}})})(jQuery);
(function(b){b(function(){b.tablesorter&&(b("<div>"),b.tablesorter.defaults.cssAsc="column-header-asc",b.tablesorter.defaults.cssDesc="column-header-desc",b.tablesorter.defaults.cssHeader="column-header",b.tablesorter.addParser({id:"datetime",is:function(){return!1},format:function(g,c,e){return b("[datetime]:first",e).attr("datetime")},type:"text"}),b.tablesorter.addParser({id:"ignoreCase",is:function(){return!1},format:function(b){return b.toLowerCase()},type:"text"}),b.tablesorter.addParser({id:"string",
is:function(){return!1},format:function(b){return b},type:"text"}),b.tablesorter.addParser({id:"number",is:function(){return!1},format:function(g,c,e){g=b(".number:first",e).attr("data-value");null==g&&(g=Number.MIN_VALUE);return g},type:"numeric"}),b(".table-sortable").each(function(){b(this).tablesorter()}))})})(jQuery);
(function(b){b.fn.showRow=function(g,c,e){var c="fadeIn"===c?"fadeIn":"slideDown",a=this;return this.each(function(){var d=b(this).hide(),f=b("> td, > th",d).wrapInner('<div class="wrapInner" style="display: block;">'),f=b(".wrapInner",f).hide();d.show();f[c](e,function(){b(this).each(function(){b(this).replaceWith(b(this).contents())});g&&g.call(a)})})};b.fn.hideRow=function(g,c,e){var c="fadeOut"===c?"fadeOut":"slideUp",a=this;return this.each(function(){var d=b(this).show(),f=b("> td, > th",d).wrapInner('<div class="wrapInner" style="display: block;">');
b(".wrapInner",f)[c](e,function(){b(this).each(function(){b(this).replaceWith(b(this).contents())});d.hide();g&&g.call(a)})})}})(jQuery);
(function(b){function g(a,d,f){var e=this,j=a.add(this),g=a.find(f.tabs),m=d.jquery?d:a.children(d),o;g.length||(g=a.children());m.length||(m=a.parent().find(d));m.length||(m=b(d));b.extend(this,{click:function(a,d){var h=g.eq(a);"string"==typeof a&&a.replace("#","")&&(a=a.replace(/([\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1"),h=g.filter("[href*="+a.replace("#","")+"]"),a=Math.max(g.index(h),0));if(f.rotate){var m=g.length-1;if(0>a)return e.click(m,d);if(a>m)return e.click(0,
d)}if(!h.length){if(0<=o)return e;a=f.initialIndex;h=g.eq(a)}if(a===o)return e;d=d||b.Event();d.type="onBeforeClick";j.trigger(d,[a]);if(!d.isDefaultPrevented())return c[f.effect].call(e,a,function(){d.type="onClick";j.trigger(d,[a])}),o=a,g.removeClass(f.current),h.addClass(f.current),e},getConf:function(){return f},getTabs:function(){return g},getPanes:function(){return m},getCurrentPane:function(){return m.eq(o)},getCurrentTab:function(){return g.eq(o)},getIndex:function(){return o},next:function(){return e.click(o+
1)},prev:function(){return e.click(o-1)},destroy:function(){g.unbind(f.event).removeClass(f.current);m.find("a[href^=#]").unbind("click.T");return e}});b.each(["onBeforeClick","onClick"],function(a,d){b.isFunction(f[d])&&b(e).bind(d,f[d]);e[d]=function(a){b(e).bind(d,a);return e}});f.history&&b.fn.history&&(b.tools.history.init(g),f.event="history");g.each(function(a){b(this).bind(f.event,function(b){e.click(a,b);return b.preventDefault()})});m.find("a[href^=#]").bind("click.T",function(a){e.click(b(this).attr("href"),
a)});location.hash?e.click(location.hash):(0===f.initialIndex||0<f.initialIndex)&&e.click(f.initialIndex)}b.tools=b.tools||{version:"@VERSION"};b.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(a,b){c[a]=b}};var c={"default":function(a,b){this.getPanes().hide().eq(a).show();b.call()},fade:function(a,b){var c=this.getConf(),e=c.fadeOutSpeed,g=this.getPanes();e?g.fadeOut(e):g.hide();g.eq(a).fadeIn(c.fadeInSpeed,
b)},slide:function(a,b){this.getPanes().slideUp(200);this.getPanes().eq(a).slideDown(400,b)},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b)}},e;b.tools.tabs.addEffect("horizontal",function(a,d){e||(e=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){b(this).hide()});this.getPanes().eq(a).animate({width:e},function(){b(this).show();d.call()})});b.fn.tabs=function(a,d){var c=this.data("tabs");c&&(c.destroy(),this.removeData("tabs"));
b.isFunction(d)&&(d={onBeforeClick:d});d=b.extend({},b.tools.tabs.conf,d);this.each(function(){c=new g(b(this),a,d);b(this).data("tabs",c)});return d.api?c:this}})(jQuery);
(function(b){function g(a,b,c){var e=c.relative?a.position().top:a.offset().top,g=c.relative?a.position().left:a.offset().left,l=c.position[0],e=e-(b.outerHeight()-c.offset[0]),g=g+(a.outerWidth()+c.offset[1]),m=b.outerHeight()+a.outerHeight();"center"==l&&(e+=m/2);"bottom"==l&&(e+=m);l=c.position[1];a=b.outerWidth()+a.outerWidth();"center"==l&&(g-=a/2);"left"==l&&(g-=a);return{top:e,left:g}}function c(a,c){var f=this,v=a.add(f),j,l=0,m=0,o=a.attr("title"),n=e[c.effect],i,h=a.is(":input"),q=h&&a.is(":checkbox, :radio, select, :button, :submit"),
p=a.attr("type"),w=c.events[p]||c.events[h?q?"widget":"input":"def"];if(!n)throw'Nonexistent effect "'+c.effect+'"';w=w.split(/,\s*/);if(2!=w.length)throw"Tooltip: bad events configuration for "+p;a.bind(w[0],function(a){clearTimeout(l);c.predelay?m=setTimeout(function(){f.show(a)},c.predelay):f.show(a)}).bind(w[1],function(a){clearTimeout(m);c.delay?l=setTimeout(function(){f.hide(a)},c.delay):f.hide(a)});o&&c.cancelDefault&&(a.removeAttr("title"),a.data("title",o));b.extend(f,{show:function(e){if(!j){if(o)j=
b(c.layout).addClass(c.tipClass).appendTo(document.body).hide().append(o);else if(c.tip)j=b(c.tip).eq(0);else{j=a.next();j.length||(j=a.parent().next())}if(!j.length)throw"Cannot find tooltip for "+a;}if(f.isShown())return f;j.stop(true,true);var h=g(a,j,c),e=e||b.Event();e.type="onBeforeShow";v.trigger(e,[h]);if(e.isDefaultPrevented())return f;h=g(a,j,c);j.css({position:"absolute",top:h.top,left:h.left});i=true;n[0].call(f,function(){e.type="onShow";i="full";v.trigger(e)});h=c.events.tooltip.split(/,\s*/);
j.bind(h[0],function(){clearTimeout(l);clearTimeout(m)});h[1]&&!a.is("input:not(:checkbox, :radio), textarea")&&j.bind(h[1],function(b){b.relatedTarget!=a[0]&&a.trigger(w[1].split(" ")[0])});return f},hide:function(a){if(!j||!f.isShown())return f;a=a||b.Event();a.type="onBeforeHide";v.trigger(a);if(!a.isDefaultPrevented()){i=false;e[c.effect][1].call(f,function(){a.type="onHide";i=false;v.trigger(a)});return f}},isShown:function(a){return a?i=="full":i},getConf:function(){return c},getTip:function(){return j},
getTrigger:function(){return a}});b.each(["onHide","onBeforeShow","onShow","onBeforeHide"],function(a,e){b.isFunction(c[e])&&b(f).bind(e,c[e]);f[e]=function(a){b(f).bind(e,a);return f}})}b.tools=b.tools||{version:"@VERSION"};b.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},
layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,c){e[a]=[b,c]}};var e={toggle:[function(a){var b=this.getConf(),c=this.getTip(),b=b.opacity;1>b&&c.css({opacity:b});c.show();a.call()},function(a){this.getTip().hide();a.call()}],fade:[function(a){var b=this.getConf();this.getTip().fadeTo(b.fadeInSpeed,b.opacity,a)},function(a){this.getTip().fadeOut(this.getConf().fadeOutSpeed,a)}]};b.fn.tooltip=function(a){var e=this.data("tooltip");if(e)return e;a=b.extend(!0,{},b.tools.tooltip.conf,a);
"string"==typeof a.position&&(a.position=a.position.split(/,?\s/));this.each(function(){e=new c(b(this),a);b(this).data("tooltip",e)});return a.api?e:this}})(jQuery);
(function(b,g){var c=g.schema={init_row_menu:function(e){b(".row-menu-trigger",e).each(function(){var a=b(this);a.tooltip({events:{def:"click,mouseout"},position:"bottom right",offset:[-10,-10],effect:"fade",delay:300});a.parents("tr:first").hover(c.row_menu_hoverover,c.row_menu_hoverout)})},row_menu_hoverover:function(){var c=b(this);c.addClass("row-hover");b(".row-menu-trigger",c).css("visibility","visible")},row_menu_hoverout:function(){var c=b(this);b(".row-menu-trigger",c).css("visibility","hidden");
c.removeClass("row-hover")},close_message:function(c,a){var d=b(this).parents(a);d.is("tr")?d.hideRow(function(){d.remove()}):d.slideUp(function(){d.remove()});return!1},init_modal_help:function(c){b(".modal-help-toggle",c).click(function(){var a=b(this),c=a.parents().find(".modal-help"),e=a.parents().find(".modal-content");c.is(":hidden")?(c.height(e.height()-5).slideDown(),a.html("[ - ] Hide Help")):(c.slideUp(),a.html("[ + ] Show Help"))})}};b(function(){c.init_row_menu();var e=b(".breadcrumb-sibling-trigger").outerWidth();
b(".breadcrumb-sibling-trigger").tooltip({events:{def:"click,mouseout"},position:"bottom right",offset:[-5,-e],effect:"fade",delay:300,onBeforeShow:function(){this.getTrigger().addClass("active")},onHide:function(){this.getTrigger().removeClass("active")}})})})(jQuery,window.freebase);
(function(b,g){var c=g.schema.domain={init:function(){c.init_tablesorter();c.init_toggle_help_messages()},init_tablesorter:function(){b(".table-sortable").each(function(){var c=b(this);b("> tbody > tr",c).length&&(b("thead th:nth-child(2)",c)[0].count=1,b("thead th:nth-child(3)",c)[0].count=1,b("thead th:nth-child(4)",c)[0].count=1)})},init_toggle_help_messages:function(){b(".table-empty-trigger").click(function(){var c=b(this).parents(".table-empty-msg"),a=c.find(".table-empty-text");a.is(":hidden")?
(c.addClass("active"),a.slideDown()):(c.removeClass("active"),a.slideUp())})},init_edit:function(){var c=b("table.table");c.first().find(".table-empty-msg").addClass("active").find(".table-empty-text").slideDown();0===c.find("tbody > tr").length?b(".table-title > .help-link").hide():b(".table-empty-msg").hide()},add_type:function(e,a,d){var f=b(this);if(f.is(".editing"))return!1;f.addClass("editing");g.get_script(g.h.static_url("domain-edit.mf.js"),function(){c.edit.add_type_begin(f,a,d)});return!1},
edit_type:function(e,a){var d=b(this);if(d.is(".editing"))return!1;d.addClass("editing");d.parents(".tooltip:first").siblings(".row-menu-trigger:first").data("tooltip").hide();g.get_script(g.h.static_url("domain-edit.mf.js"),function(){c.edit.edit_type_begin(d,a)});return!1}};b(window).bind("fb.permission.has_permission",function(b,a){a&&c.init_edit()});b(c.init)})(jQuery,window.freebase);
