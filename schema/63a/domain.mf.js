
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
 
 jQuery Tools @VERSION Tooltip - UI essentials

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tooltip/

 Since: November 2008
 Date: @DATE 
*/
(function(a){a.extend({tablesorter:new (function(){function c(b,g){h(b+","+((new Date).getTime()-g.getTime())+"ms")}function h(b){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(b):alert(b)}function d(b,g){if(b.config.debug)var j="";var n=b.tBodies[0].rows;if(b.tBodies[0].rows[0]){var k=[];n=n[0].cells;for(var w=n.length,l=0;l<w;l++){var p=false;if(a.metadata&&a(g[l]).metadata()&&a(g[l]).metadata().sorter)p=e(a(g[l]).metadata().sorter);else if(b.config.headers[l]&&b.config.headers[l].sorter)p=
e(b.config.headers[l].sorter);if(!p)a:{p=n[l];for(var s=z.length,u=1;u<s;u++)if(z[u].is(a.trim(o(b.config,p)),b,p)){p=z[u];break a}p=z[0]}if(b.config.debug)j+="column:"+l+" parser:"+p.id+"\n";k.push(p)}}b.config.debug&&h(j);return k}function e(b){for(var g=z.length,j=0;j<g;j++)if(z[j].id.toLowerCase()==b.toLowerCase())return z[j];return false}function f(b){if(b.config.debug)var g=new Date;for(var j=b.tBodies[0]&&b.tBodies[0].rows.length||0,n=b.tBodies[0].rows[0]&&b.tBodies[0].rows[0].cells.length||
0,k=b.config.parsers,w={row:[],normalized:[]},l=0;l<j;++l){var p=b.tBodies[0].rows[l],s=[];w.row.push(a(p));for(var u=0;u<n;++u)s.push(k[u].format(o(b.config,p.cells[u]),b,p.cells[u]));s.push(l);w.normalized.push(s)}b.config.debug&&c("Building cache for "+j+" rows:",g);return w}function o(b,g){if(!g)return"";var j="";return j=b.textExtraction=="simple"?g.childNodes[0]&&g.childNodes[0].hasChildNodes()?g.childNodes[0].innerHTML:g.innerHTML:typeof b.textExtraction=="function"?b.textExtraction(g):a(g).text()}
function q(b,g){if(b.config.debug)var j=new Date;for(var n=g.row,k=g.normalized,w=k.length,l=k[0].length-1,p=a(b.tBodies[0]),s=[],u=0;u<w;u++){s.push(n[k[u][l]]);if(!b.config.appender)for(var F=n[k[u][l]],E=F.length,D=0;D<E;D++)p[0].appendChild(F[D])}b.config.appender&&b.config.appender(b,s);s=null;b.config.debug&&c("Rebuilt table:",j);x(b);setTimeout(function(){a(b).trigger("sortEnd")},0)}function v(b){if(b.config.debug)var g=new Date;for(var j=[],n=0;n<b.tHead.rows.length;n++)j[n]=0;$tableHeaders=
a("thead th",b);$tableHeaders.each(function(k){this.count=0;this.column=k;var w=b.config.sortInitialOrder;this.order=i=typeof w!="Number"?w.toLowerCase()=="desc"?1:0:w==1?w:0;if(!(w=a.metadata&&a(this).metadata().sorter===false?true:false))w=b.config.headers[k]&&b.config.headers[k].sorter===false?true:false;if(w)this.sortDisabled=true;this.sortDisabled||a(this).addClass(b.config.cssHeader);b.config.headerList[k]=this});if(b.config.debug){c("Built headers:",g);h($tableHeaders)}return $tableHeaders}
function x(b){for(var g=b.config.widgets,j=g.length,n=0;n<j;n++)y(g[n]).format(b)}function y(b){for(var g=B.length,j=0;j<g;j++)if(B[j].id.toLowerCase()==b.toLowerCase())return B[j]}function t(b,g){for(var j=g.length,n=0;n<j;n++)if(g[n][0]==b)return true;return false}function r(b,g,j,n){g.removeClass(n[0]).removeClass(n[1]);var k=[];g.each(function(){this.sortDisabled||(k[this.column]=a(this))});b=j.length;for(g=0;g<b;g++)k[j[g][0]].addClass(n[j[g][1]])}function A(b){if(b.config.widthFixed){var g=
a("<colgroup>");a("tr:first td",b.tBodies[0]).each(function(){g.append(a("<col>").css("width",a(this).width()))});a(b).prepend(g)}}function C(b,g,j){if(b.config.debug)var n=new Date;for(var k="var sortWrapper = function(a,b) {",w=g.length,l=0;l<w;l++){var p=g[l][0],s=g[l][1],u="e"+l;k+="var "+u+" = "+(b.config.parsers[p].type=="text"?s==0?"sortText":"sortTextDesc":s==0?"sortNumeric":"sortNumericDesc")+"(a["+p+"],b["+p+"]); ";k+="if("+u+") { return "+u+"; } ";k+="else { "}l=j.normalized[0].length-
1;k+="return a["+l+"]-b["+l+"];";for(l=0;l<w;l++)k+="}; ";k+="return 0; ";k+="}; ";eval(k);j.normalized.sort(sortWrapper);b.config.debug&&c("Sorting on "+g.toString()+" and dir "+s+" time:",n);return j}var z=[],B=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,
sortList:[],headerList:[],dateFormat:"us",decimal:".",debug:false};this.benchmark=c;this.construct=function(b){return this.each(function(){if(this.tHead&&this.tBodies){var g,j,n,k;this.config={};k=a.extend(this.config,a.tablesorter.defaults,b);g=a(this);j=v(this);this.config.parsers=d(this,j);n=f(this);var w=[k.cssDesc,k.cssAsc];A(this);j.click(function(l){g.trigger("sortStart");var p=g[0].tBodies[0]&&g[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&p>0){a(this);p=this.column;this.order=this.count++%
2;if(l[k.sortMultiSortKey])if(t(p,k.sortList))for(l=0;l<k.sortList.length;l++){var s=k.sortList[l],u=k.headerList[s[0]];if(s[0]==p){u.count=s[1];u.count++;s[1]=u.count%2}}else k.sortList.push([p,this.order]);else{k.sortList=[];if(k.sortForce!=null){s=k.sortForce;for(l=0;l<s.length;l++)s[l][0]!=p&&k.sortList.push(s[l])}k.sortList.push([p,this.order])}setTimeout(function(){r(g[0],j,k.sortList,w);q(g[0],C(g[0],k.sortList,n))},1);return false}}).mousedown(function(){if(k.cancelSelection){this.onselectstart=
function(){return false};return false}});g.bind("update",function(){this.config.parsers=d(this,j);n=f(this)}).bind("sorton",function(l,p){a(this).trigger("sortStart");k.sortList=p;for(var s=k.sortList,u=this.config,F=s.length,E=0;E<F;E++){var D=s[E],G=u.headerList[D[0]];G.count=D[1];G.count++}r(this,j,s,w);q(this,C(this,s,n))}).bind("appendCache",function(){q(this,n)}).bind("applyWidgetId",function(l,p){y(p).format(this)}).bind("applyWidgets",function(){x(this)});if(a.metadata&&a(this).metadata()&&
a(this).metadata().sortlist)k.sortList=a(this).metadata().sortlist;k.sortList.length>0&&g.trigger("sorton",[k.sortList]);x(this)}})};this.addParser=function(b){for(var g=z.length,j=true,n=0;n<g;n++)if(z[n].id.toLowerCase()==b.id.toLowerCase())j=false;j&&z.push(b)};this.addWidget=function(b){B.push(b)};this.formatFloat=function(b){b=parseFloat(b);return isNaN(b)?0:b};this.formatInt=function(b){b=parseInt(b);return isNaN(b)?0:b};this.isDigit=function(b,g){var j="\\"+g.decimal;return RegExp("/(^[+]?0("+
j+"0+)?$)|(^([-+]?[1-9][0-9]*)$)|(^([-+]?((0?|[1-9][0-9]*)"+j+"(0*[1-9][0-9]*)))$)|(^[-+]?[1-9]+[0-9]*"+j+"0+$)/").test(a.trim(b))};this.clearTableBody=function(b){if(a.browser.msie)(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}).apply(b.tBodies[0]);else b.tBodies[0].innerHTML=""}})});a.fn.extend({tablesorter:a.tablesorter.construct});var m=a.tablesorter;m.addParser({id:"text",is:function(){return true},format:function(c){return a.trim(c.toLowerCase())},type:"text"});m.addParser({id:"digit",
is:function(c,h){return a.tablesorter.isDigit(c,h.config)},format:function(c){return a.tablesorter.formatFloat(c)},type:"numeric"});m.addParser({id:"currency",is:function(c){return/^[\u00c3\u201a\u00c2\u00a3$\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac?.]/.test(c)},format:function(c){return a.tablesorter.formatFloat(c.replace(new RegExp(/[^0-9.]/g),""))},type:"numeric"});m.addParser({id:"ipAddress",is:function(c){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(c)},format:function(c){c=c.split(".");
for(var h="",d=c.length,e=0;e<d;e++){var f=c[e];h+=f.length==2?"0"+f:f}return a.tablesorter.formatFloat(h)},type:"numeric"});m.addParser({id:"url",is:function(c){return/^(https?|ftp|file):\/\/$/.test(c)},format:function(c){return jQuery.trim(c.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});m.addParser({id:"isoDate",is:function(c){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},format:function(c){return a.tablesorter.formatFloat(c!=""?(new Date(c.replace(new RegExp(/-/g),"/"))).getTime():
"0")},type:"numeric"});m.addParser({id:"percent",is:function(c){return/\%$/.test(a.trim(c))},format:function(c){return a.tablesorter.formatFloat(c.replace(new RegExp(/%/g),""))},type:"numeric"});m.addParser({id:"usLongDate",is:function(c){return c.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(c){return a.tablesorter.formatFloat((new Date(c)).getTime())},type:"numeric"});m.addParser({id:"shortDate",
is:function(c){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(c)},format:function(c,h){var d=h.config;c=c.replace(/\-/g,"/");if(d.dateFormat=="us")c=c.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if(d.dateFormat=="uk")c=c.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(d.dateFormat=="dd/mm/yy"||d.dateFormat=="dd-mm-yy")c=c.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return a.tablesorter.formatFloat((new Date(c)).getTime())},type:"numeric"});
m.addParser({id:"time",is:function(c){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(c)},format:function(c){return a.tablesorter.formatFloat((new Date("2000/01/01 "+c)).getTime())},type:"numeric"});m.addParser({id:"metadata",is:function(){return false},format:function(c,h,d){c=h.config;c=!c.parserMetadataName?"sortValue":c.parserMetadataName;return a(d).metadata()[c]},type:"numeric"});m.addWidget({id:"zebra",format:function(c){if(c.config.debug)var h=new Date;a("tr:visible",
c.tBodies[0]).filter(":even").removeClass(c.config.widgetZebra.css[1]).addClass(c.config.widgetZebra.css[0]).end().filter(":odd").removeClass(c.config.widgetZebra.css[0]).addClass(c.config.widgetZebra.css[1]);c.config.debug&&a.tablesorter.benchmark("Applying Zebra widget",h)}})})(jQuery);
(function(a){a(function(){if(a.tablesorter){var m=a("<div>");a.tablesorter.defaults.cssAsc="column-header-asc";a.tablesorter.defaults.cssDesc="column-header-desc";a.tablesorter.defaults.cssHeader="column-header";a.tablesorter.addParser({id:"datetime",is:function(){return false},format:function(c){m.html(c);return m.find("time:first").attr("datetime")},type:"text"});a.tablesorter.addParser({id:"ignoreCase",is:function(){return false},format:function(c){m.html(c);return m.text().toLowerCase()},type:"text"});
a.tablesorter.addParser({id:"string",is:function(){return false},format:function(c){m.html(c);return m.text()},type:"text"});a.tablesorter.addParser({id:"number",is:function(){return false},format:function(c){m.html(c);c=m.find(".number:first").attr("data-value");if(c==null)return Number.MAX_VALUE;return c},type:"numeric"});a(".table-sortable").each(function(){a(this).tablesorter()})}})})(jQuery);
(function(a){a.fn.showRow=function(m,c,h){c=c==="fadeIn"?"fadeIn":"slideDown";var d=this;return this.each(function(){var e=a(this).hide(),f=a("> td, > th",e).wrapInner('<div class="wrapInner" style="display: block;">');f=a(".wrapInner",f).hide();e.show();f[c](h,function(){a(this).each(function(){a(this).replaceWith(a(this).contents())});m&&m.call(d)})})};a.fn.hideRow=function(m,c,h){c=c==="fadeOut"?"fadeOut":"slideUp";var d=this;return this.each(function(){var e=a(this).show(),f=a("> td, > th",e).wrapInner('<div class="wrapInner" style="display: block;">');
a(".wrapInner",f)[c](h,function(){a(this).each(function(){a(this).replaceWith(a(this).contents())});e.hide();m&&m.call(d)})})}})(jQuery);
(function(a){function m(d,e,f){var o=this,q=d.add(this),v=d.find(f.tabs),x=e.jquery?e:d.children(e),y;v.length||(v=d.children());x.length||(x=d.parent().find(e));x.length||(x=a(e));a.extend(this,{click:function(t,r){var A=v.eq(t);if(typeof t=="string"&&t.replace("#","")){t=t.replace(/([\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1");A=v.filter("[href*="+t.replace("#","")+"]");t=Math.max(v.index(A),0)}if(f.rotate){var C=v.length-1;if(t<0)return o.click(C,r);if(t>C)return o.click(0,
r)}if(!A.length){if(y>=0)return o;t=f.initialIndex;A=v.eq(t)}if(t===y)return o;r=r||a.Event();r.type="onBeforeClick";q.trigger(r,[t]);if(!r.isDefaultPrevented()){c[f.effect].call(o,t,function(){r.type="onClick";q.trigger(r,[t])});y=t;v.removeClass(f.current);A.addClass(f.current);return o}},getConf:function(){return f},getTabs:function(){return v},getPanes:function(){return x},getCurrentPane:function(){return x.eq(y)},getCurrentTab:function(){return v.eq(y)},getIndex:function(){return y},next:function(){return o.click(y+
1)},prev:function(){return o.click(y-1)},destroy:function(){v.unbind(f.event).removeClass(f.current);x.find("a[href^=#]").unbind("click.T");return o}});a.each("onBeforeClick,onClick".split(","),function(t,r){a.isFunction(f[r])&&a(o).bind(r,f[r]);o[r]=function(A){a(o).bind(r,A);return o}});if(f.history&&a.fn.history){a.tools.history.init(v);f.event="history"}v.each(function(t){a(this).bind(f.event,function(r){o.click(t,r);return r.preventDefault()})});x.find("a[href^=#]").bind("click.T",function(t){o.click(a(this).attr("href"),
t)});if(location.hash)o.click(location.hash);else if(f.initialIndex===0||f.initialIndex>0)o.click(f.initialIndex)}a.tools=a.tools||{version:"@VERSION"};a.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(d,e){c[d]=e}};var c={"default":function(d,e){this.getPanes().hide().eq(d).show();e.call()},fade:function(d,e){var f=this.getConf(),o=f.fadeOutSpeed,q=this.getPanes();o?q.fadeOut(o):
q.hide();q.eq(d).fadeIn(f.fadeInSpeed,e)},slide:function(d,e){this.getPanes().slideUp(200);this.getPanes().eq(d).slideDown(400,e)},ajax:function(d,e){this.getPanes().eq(0).load(this.getTabs().eq(d).attr("href"),e)}},h;a.tools.tabs.addEffect("horizontal",function(d,e){h||(h=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){a(this).hide()});this.getPanes().eq(d).animate({width:h},function(){a(this).show();e.call()})});a.fn.tabs=function(d,e){var f=this.data("tabs");if(f){f.destroy();
this.removeData("tabs")}if(a.isFunction(e))e={onBeforeClick:e};e=a.extend({},a.tools.tabs.conf,e);this.each(function(){f=new m(a(this),d,e);a(this).data("tabs",f)});return e.api?f:this}})(jQuery);
(function(a){function m(d,e,f){var o=f.relative?d.position().top:d.offset().top,q=f.relative?d.position().left:d.offset().left,v=f.position[0];o-=e.outerHeight()-f.offset[0];q+=d.outerWidth()+f.offset[1];var x=e.outerHeight()+d.outerHeight();if(v=="center")o+=x/2;if(v=="bottom")o+=x;v=f.position[1];d=e.outerWidth()+d.outerWidth();if(v=="center")q-=d/2;if(v=="left")q-=d;return{top:o,left:q}}function c(d,e){var f=this,o=d.add(f),q,v=0,x=0,y=d.attr("title"),t=h[e.effect],r,A=d.is(":input"),C=A&&d.is(":checkbox, :radio, select, :button, :submit"),
z=d.attr("type"),B=e.events[z]||e.events[A?C?"widget":"input":"def"];if(!t)throw'Nonexistent effect "'+e.effect+'"';B=B.split(/,\s*/);if(B.length!=2)throw"Tooltip: bad events configuration for "+z;d.bind(B[0],function(b){clearTimeout(v);if(e.predelay)x=setTimeout(function(){f.show(b)},e.predelay);else f.show(b)}).bind(B[1],function(b){clearTimeout(x);if(e.delay)v=setTimeout(function(){f.hide(b)},e.delay);else f.hide(b)});if(y&&e.cancelDefault){d.removeAttr("title");d.data("title",y)}a.extend(f,{show:function(b){if(!q){if(y)q=
a(e.layout).addClass(e.tipClass).appendTo(document.body).hide().append(y);else if(e.tip)q=a(e.tip).eq(0);else{q=d.next();q.length||(q=d.parent().next())}if(!q.length)throw"Cannot find tooltip for "+d;}if(f.isShown())return f;q.stop(true,true);var g=m(d,q,e);b=b||a.Event();b.type="onBeforeShow";o.trigger(b,[g]);if(b.isDefaultPrevented())return f;g=m(d,q,e);q.css({position:"absolute",top:g.top,left:g.left});r=true;t[0].call(f,function(){b.type="onShow";r="full";o.trigger(b)});g=e.events.tooltip.split(/,\s*/);
q.bind(g[0],function(){clearTimeout(v);clearTimeout(x)});g[1]&&!d.is("input:not(:checkbox, :radio), textarea")&&q.bind(g[1],function(j){j.relatedTarget!=d[0]&&d.trigger(B[1].split(" ")[0])});return f},hide:function(b){if(!q||!f.isShown())return f;b=b||a.Event();b.type="onBeforeHide";o.trigger(b);if(!b.isDefaultPrevented()){r=false;h[e.effect][1].call(f,function(){b.type="onHide";r=false;o.trigger(b)});return f}},isShown:function(b){return b?r=="full":r},getConf:function(){return e},getTip:function(){return q},
getTrigger:function(){return d}});a.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(b,g){a.isFunction(e[g])&&a(f).bind(g,e[g]);f[g]=function(j){a(f).bind(g,j);return f}})}a.tools=a.tools||{version:"@VERSION"};a.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},
layout:"<div/>",tipClass:"tooltip"},addEffect:function(d,e,f){h[d]=[e,f]}};var h={toggle:[function(d){var e=this.getConf(),f=this.getTip();e=e.opacity;e<1&&f.css({opacity:e});f.show();d.call()},function(d){this.getTip().hide();d.call()}],fade:[function(d){var e=this.getConf();this.getTip().fadeTo(e.fadeInSpeed,e.opacity,d)},function(d){this.getTip().fadeOut(this.getConf().fadeOutSpeed,d)}]};a.fn.tooltip=function(d){var e=this.data("tooltip");if(e)return e;d=a.extend(true,{},a.tools.tooltip.conf,d);
if(typeof d.position=="string")d.position=d.position.split(/,?\s/);this.each(function(){e=new c(a(this),d);a(this).data("tooltip",e)});return d.api?e:this}})(jQuery);
(function(a,m){var c=m.schema={init_row_menu:function(h){a(".row-menu-trigger",h).each(function(){var d=a(this);d.tooltip({events:{def:"click,mouseout"},position:"bottom right",offset:[-10,-10],effect:"fade",delay:300});d.parents("tr:first").hover(c.row_menu_hoverover,c.row_menu_hoverout)})},row_menu_hoverover:function(){var h=a(this);h.addClass("row-hover");a(".row-menu-trigger",h).css("visibility","visible")},row_menu_hoverout:function(){var h=a(this);a(".row-menu-trigger",h).css("visibility","hidden");
h.removeClass("row-hover")},close_message:function(h,d){var e=a(this).parents(d);e.is("tr")?e.hideRow(function(){e.remove()}):e.slideUp(function(){e.remove()});return false},init_modal_help:function(h){a(".modal-help-toggle",h).click(function(){var d=a(this),e=d.parents().find(".modal-help"),f=d.parents().find(".modal-content");if(e.is(":hidden")){e.height(f.height()-5).slideDown();d.html("[ - ] Hide Help")}else{e.slideUp();d.html("[ + ] Show Help")}})}};a(function(){c.init_row_menu();var h=a(".breadcrumb-sibling-trigger").outerWidth();
a(".breadcrumb-sibling-trigger").tooltip({events:{def:"click,mouseout"},position:"bottom right",offset:[-5,-h],effect:"fade",delay:300,onBeforeShow:function(){this.getTrigger().addClass("active")},onHide:function(){this.getTrigger().removeClass("active")}})})})(jQuery,window.freebase);
(function(a,m){var c=m.schema.domain={init:function(){c.init_tablesorter();c.init_toggle_help_messages()},init_tablesorter:function(){a(".table-sortable").each(function(){var h=a(this);if(a("> tbody > tr",h).length){a("thead th:nth-child(2)",h)[0].count=1;a("thead th:nth-child(3)",h)[0].count=1;a("thead th:nth-child(4)",h)[0].count=1}})},init_toggle_help_messages:function(){a(".table-empty-trigger").click(function(){var h=a(this).parents(".table-empty-msg"),d=h.find(".table-empty-text");if(d.is(":hidden")){h.addClass("active");
d.slideDown()}else{h.removeClass("active");d.slideUp()}})},init_edit:function(){var h=a("table.table");h.first().find(".table-empty-msg").addClass("active").find(".table-empty-text").slideDown();h.find("tbody > tr").length===0?a(".table-title > .help-link").hide():a(".table-empty-msg").hide()},add_type:function(h,d,e){var f=a(this);if(f.is(".editing"))return false;f.addClass("editing");m.get_script(m.h.static_url("domain-edit.mf.js"),function(){c.edit.add_type_begin(f,d,e)});return false},edit_type:function(h,
d){var e=a(this);if(e.is(".editing"))return false;e.addClass("editing");e.parents(".tooltip:first").siblings(".row-menu-trigger:first").data("tooltip").hide();m.get_script(m.h.static_url("domain-edit.mf.js"),function(){c.edit.edit_type_begin(e,d)});return false}};a(window).bind("fb.permission.has_permission",function(h,d){d&&c.init_edit()});a(c.init)})(jQuery,window.freebase);
