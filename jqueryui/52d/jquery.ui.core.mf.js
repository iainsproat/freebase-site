
/*
 * Copyright 2010, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
(function(a,g){function l(c){return!a(c).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.4",plugin:{add:function(c,d,b){c=a.ui[c].prototype;for(var e in b){c.plugins[e]=c.plugins[e]||[];c.plugins[e].push([d,b[e]])}},call:function(c,d,b){if((d=c.plugins[d])&&c.element[0].parentNode)for(var e=0;e<d.length;e++)c.options[d[e][0]]&&d[e][1].apply(c.element,b)}},contains:function(c,
d){return document.compareDocumentPosition?c.compareDocumentPosition(d)&16:c!==d&&c.contains(d)},hasScroll:function(c,d){if(a(c).css("overflow")==="hidden")return false;var b=d&&d==="left"?"scrollLeft":"scrollTop",e=false;if(c[b]>0)return true;c[b]=1;e=c[b]>0;c[b]=0;return e},isOverAxis:function(c,d,b){return c>d&&c<d+b},isOver:function(c,d,b,e,f,i){return a.ui.isOverAxis(c,b,f)&&a.ui.isOverAxis(d,e,i)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,
CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(c,d){return typeof c==="number"?this.each(function(){var b=this;setTimeout(function(){a(b).focus();d&&d.call(b)},c)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable",
"off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var c;c=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(document):c},zIndex:function(c){if(c!==g)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var d;c.length&&c[0]!==document;){d=c.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){d=parseInt(c.css("zIndex"));if(!isNaN(d)&&d!=0)return d}c=c.parent()}}return 0}});a.each(["Width","Height"],function(c,d){function b(h,j,m,k){a.each(e,function(){j-=
parseFloat(a.curCSS(h,"padding"+this,true))||0;if(m)j-=parseFloat(a.curCSS(h,"border"+this+"Width",true))||0;if(k)j-=parseFloat(a.curCSS(h,"margin"+this,true))||0});return j}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),i={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(h){if(h===g)return i["inner"+d].call(this);return this.each(function(){a.style(this,f,b(this,h)+"px")})};a.fn["outer"+
d]=function(h,j){if(typeof h!=="number")return i["outer"+d].call(this,h);return this.each(function(){a.style(this,f,b(this,h,true,j)+"px")})}});a.extend(a.expr[":"],{data:function(c,d,b){return!!a.data(c,b[3])},focusable:function(c){var d=c.nodeName.toLowerCase(),b=a.attr(c,"tabindex");if("area"===d){d=c.parentNode;b=d.name;if(!c.href||!b||d.nodeName.toLowerCase()!=="map")return false;c=a("img[usemap=#"+b+"]")[0];return!!c&&l(c)}return(/input|select|textarea|button|object/.test(d)?!c.disabled:"a"==
d?c.href||!isNaN(b):!isNaN(b))&&l(c)},tabbable:function(c){var d=a.attr(c,"tabindex");return(isNaN(d)||d>=0)&&a(c).is(":focusable")}})}})(jQuery);
(function(a,g){var l=a.fn.remove;a.fn.remove=function(c,d){return this.each(function(){if(!d)if(!c||a.filter(c,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return l.call(a(this),c,d)})};a.widget=function(c,d,b){var e=c.split(".")[0],f;c=c.split(".")[1];f=e+"-"+c;if(!b){b=d;d=a.Widget}a.expr[":"][f]=function(i){return!!a.data(i,c)};a[e]=a[e]||{};a[e][c]=function(i,h){arguments.length&&this._createWidget(i,h)};d=new d;d.options=a.extend(true,{},d.options);
a[e][c].prototype=a.extend(true,d,{namespace:e,widgetName:c,widgetEventPrefix:a[e][c].prototype.widgetEventPrefix||c,widgetBaseClass:f},b);a.widget.bridge(c,a[e][c])};a.widget.bridge=function(c,d){a.fn[c]=function(b){var e=typeof b==="string",f=Array.prototype.slice.call(arguments,1),i=this;b=!e&&f.length?a.extend.apply(null,[true,b].concat(f)):b;if(e&&b.substring(0,1)==="_")return i;e?this.each(function(){var h=a.data(this,c),j=h&&a.isFunction(h[b])?h[b].apply(h,f):h;if(j!==h&&j!==g){i=j;return false}}):
this.each(function(){var h=a.data(this,c);if(h){b&&h.option(b);h._init()}else a.data(this,c,new d(b,this))});return i}};a.Widget=function(c,d){arguments.length&&this._createWidget(c,d)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(c,d){a.data(d,this.widgetName,this);this.element=a(d);this.options=a.extend(true,{},this.options,a.metadata&&a.metadata.get(d)[this.widgetName],c);var b=this;this.element.bind("remove."+this.widgetName,function(){b.destroy()});
this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var b=c,e=this;if(arguments.length===0)return a.extend({},e.options);if(typeof c==="string"){if(d===g)return this.options[c];b={};b[c]=d}a.each(b,function(f,
i){e._setOption(f,i)});return e},_setOption:function(c,d){this.options[c]=d;if(c==="disabled")this.widget()[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",d);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(c,d,b){var e=this.options[c];d=a.Event(d);d.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();b=b||{};if(d.originalEvent){c=
a.event.props.length;for(var f;c;){f=a.event.props[--c];d[f]=d.originalEvent[f]}}this.element.trigger(d,b);return!(a.isFunction(e)&&e.call(this.element[0],d,b)===false||d.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var g=this;this.element.bind("mousedown."+this.widgetName,function(l){return g._mouseDown(l)}).bind("click."+this.widgetName,function(l){if(g._preventClickEvent){g._preventClickEvent=false;l.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(g){g.originalEvent=g.originalEvent||{};if(!g.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(g);this._mouseDownEvent=g;var l=this,c=g.which==1,d=typeof this.options.cancel=="string"?a(g.target).parents().add(g.target).filter(this.options.cancel).length:false;if(!c||d||!this._mouseCapture(g))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){l.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=this._mouseStart(g)!==false;if(!this._mouseStarted){g.preventDefault();
return true}}this._mouseMoveDelegate=function(b){return l._mouseMove(b)};this._mouseUpDelegate=function(b){return l._mouseUp(b)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||g.preventDefault();return g.originalEvent.mouseHandled=true}},_mouseMove:function(g){if(a.browser.msie&&!g.button)return this._mouseUp(g);if(this._mouseStarted){this._mouseDrag(g);return g.preventDefault()}if(this._mouseDistanceMet(g)&&
this._mouseDelayMet(g))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,g)!==false)?this._mouseDrag(g):this._mouseUp(g);return!this._mouseStarted},_mouseUp:function(g){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=g.target==this._mouseDownEvent.target;this._mouseStop(g)}return false},_mouseDistanceMet:function(g){return Math.max(Math.abs(this._mouseDownEvent.pageX-
g.pageX),Math.abs(this._mouseDownEvent.pageY-g.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.ui=a.ui||{};var g=/left|center|right/,l=/top|center|bottom/,c=a.fn.position,d=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return c.apply(this,arguments);b=a.extend({},b);var e=a(b.of),f=(b.collision||"flip").split(" "),i=b.offset?b.offset.split(" "):[0,0],h,j,m;if(b.of.nodeType===9){h=e.width();j=e.height();m={top:0,left:0}}else if(b.of.scrollTo&&b.of.document){h=e.width();j=e.height();m={top:e.scrollTop(),left:e.scrollLeft()}}else if(b.of.preventDefault){b.at="left top";h=j=
0;m={top:b.of.pageY,left:b.of.pageX}}else{h=e.outerWidth();j=e.outerHeight();m=e.offset()}a.each(["my","at"],function(){var k=(b[this]||"").split(" ");if(k.length===1)k=g.test(k[0])?k.concat(["center"]):l.test(k[0])?["center"].concat(k):["center","center"];k[0]=g.test(k[0])?k[0]:"center";k[1]=l.test(k[1])?k[1]:"center";b[this]=k});if(f.length===1)f[1]=f[0];i[0]=parseInt(i[0],10)||0;if(i.length===1)i[1]=i[0];i[1]=parseInt(i[1],10)||0;if(b.at[0]==="right")m.left+=h;else if(b.at[0]==="center")m.left+=
h/2;if(b.at[1]==="bottom")m.top+=j;else if(b.at[1]==="center")m.top+=j/2;m.left+=i[0];m.top+=i[1];return this.each(function(){var k=a(this),o=k.outerWidth(),p=k.outerHeight(),n=a.extend({},m);if(b.my[0]==="right")n.left-=o;else if(b.my[0]==="center")n.left-=o/2;if(b.my[1]==="bottom")n.top-=p;else if(b.my[1]==="center")n.top-=p/2;n.left=parseInt(n.left);n.top=parseInt(n.top);a.each(["left","top"],function(q,r){a.ui.position[f[q]]&&a.ui.position[f[q]][r](n,{targetWidth:h,targetHeight:j,elemWidth:o,
elemHeight:p,offset:i,my:b.my,at:b.at})});a.fn.bgiframe&&k.bgiframe();k.offset(a.extend(n,{using:b.using}))})};a.ui.position={fit:{left:function(b,e){var f=a(window);f=b.left+e.elemWidth-f.width()-f.scrollLeft();b.left=f>0?b.left-f:Math.max(0,b.left)},top:function(b,e){var f=a(window);f=b.top+e.elemHeight-f.height()-f.scrollTop();b.top=f>0?b.top-f:Math.max(0,b.top)}},flip:{left:function(b,e){if(e.at[0]!=="center"){var f=a(window);f=b.left+e.elemWidth-f.width()-f.scrollLeft();var i=e.my[0]==="left"?
-e.elemWidth:e.my[0]==="right"?e.elemWidth:0,h=-2*e.offset[0];b.left+=b.left<0?i+e.targetWidth+h:f>0?i-e.targetWidth+h:0}},top:function(b,e){if(e.at[1]!=="center"){var f=a(window);f=b.top+e.elemHeight-f.height()-f.scrollTop();var i=e.my[1]==="top"?-e.elemHeight:e.my[1]==="bottom"?e.elemHeight:0,h=e.at[1]==="top"?e.targetHeight:-e.targetHeight,j=-2*e.offset[1];b.top+=b.top<0?i+e.targetHeight+j:f>0?i+h+j:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(b,e){if(/static/.test(a.curCSS(b,"position")))b.style.position=
"relative";var f=a(b),i=f.offset(),h=parseInt(a.curCSS(b,"top",true),10)||0,j=parseInt(a.curCSS(b,"left",true),10)||0;i={top:e.top-i.top+h,left:e.left-i.left+j};"using"in e?e.using.call(b,i):f.css(i)};a.fn.offset=function(b){var e=this[0];if(!e||!e.ownerDocument)return null;if(b)return this.each(function(){a.offset.setOffset(this,b)});return d.call(this)}}})(jQuery);
