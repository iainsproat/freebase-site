
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
var JSLINT=function(){function ob(){}function U(b,d){return Object.prototype.hasOwnProperty.call(b,d)}function sa(b,d){var c;for(c in d)if(U(d,c))b[c]=d[c]}function Pa(){if(!k.safe){k.rhino&&sa(C,Bb);k.devel&&sa(C,Cb);k.browser&&sa(C,Db);k.windows&&sa(C,Eb);k.widget&&sa(C,Fb)}}function Qa(b,d,c){throw{name:"JSLintError",line:d,character:c,message:b+" ("+Math.floor(d/ta.length*100)+"% scanned)."};}function f(b,d,c,g,i,j){var n;d=d||a;if(d.id==="(end)")d=h;n=d.line||0;d=d.from||0;c={id:"(error)",raw:b,
evidence:ta[n-1]||"",line:n,character:d,a:c,b:g,c:i,d:j};c.reason=b.supplant(c);JSLINT.errors.push(c);k.passfail&&Qa("Stopping. ",n,d);Ra+=1;Ra>=k.maxerr&&Qa("Too many errors.",n,d);return c}function s(b,d,c,g,i,j,n){return f(b,{line:d,from:c},g,i,j,n)}function o(b,d,c,g,i,j){b=f(b,d,c,g,i,j);Qa("Stopping, unable to continue.",b.line,b.character)}function M(b,d,c,g,i,j,n){return o(b,{line:d,from:c},g,i,j,n)}function ga(b,d){if(k.safe&&p["(global)"]&&typeof C[b]!=="boolean")f("ADsafe global: "+b+".",
h);else b==="hasOwnProperty"&&f("'hasOwnProperty' is a really bad name.");if(U(p,b)&&!p["(global)"])f(p[b]===true?"'{a}' was used before it was defined.":"'{a}' is already defined.",a,b);p[b]=d;if(p["(global)"]){pb[b]=p;if(U(ba,b)){f("'{a}' was used before it was defined.",a,b);delete ba[b]}}else D[b]=p}function N(b){for(var d=0,c;d<=(b||0);){(c=Da[d])||(c=Da[d]=X.token());d+=1}return c}function e(b,d){switch(h.id){case "(number)":a.id==="."&&f("A dot following a number can be confused with a decimal point.",
h);break;case "-":if(a.id==="-"||a.id==="--")f("Confusing minusses.");break;case "+":if(a.id==="+"||a.id==="++")f("Confusing plusses.");break}if(h.type==="(string)"||h.identifier)Sa=h.value;if(b&&a.id!==b)if(d)a.id==="(end)"?f("Unmatched '{a}'.",d,d.id):f("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",a,b,d.id,d.line,a.value);else if(a.type!=="(identifier)"||a.value!==b)f("Expected '{a}' and instead saw '{b}'.",a,b,a.value);L=h;for(h=a;;){a=Da.shift()||X.token();if(a.id==="(end)"||
a.id==="(error)")return;if(a.type==="special"){var c=void 0,g=void 0,i=void 0,j=a.value;c=void 0;var n=void 0;switch(j){case "*/":o("Unbegun comment.");break;case "/*members":case "/*member":j="/*members";ha||(ha={});g=ha;break;case "/*jslint":k.safe&&f("ADsafe restriction.");g=k;i=Gb;break;case "/*global":k.safe&&f("ADsafe restriction.");g=C;break;default:}c=X.token();a:for(;;){for(;;){if(c.type==="special"&&c.value==="*/")break a;if(c.id!=="(endline)"&&c.id!==",")break;c=X.token()}c.type!=="(string)"&&
c.type!=="(identifier)"&&j!=="/*members"&&o("Bad option.",c);n=X.token();if(n.id===":"){n=X.token();g===ha&&o("Expected '{a}' and instead saw '{b}'.",c,"*/",":");if(c.value==="indent"&&j==="/*jslint"){c=+n.value;if(typeof c!=="number"||!isFinite(c)||c<=0||Math.floor(c)!==c)o("Expected a small integer and instead saw '{a}'.",n,n.value);g.white=true;g.indent=c}else if(c.value==="maxerr"&&j==="/*jslint"){c=+n.value;if(typeof c!=="number"||!isFinite(c)||c<=0||Math.floor(c)!==c)o("Expected a small integer and instead saw '{a}'.",
n,n.value);g.maxerr=c}else if(c.value==="maxlen"&&j==="/*jslint"){c=+n.value;if(typeof c!=="number"||!isFinite(c)||c<=0||Math.floor(c)!==c)o("Expected a small integer and instead saw '{a}'.",n,n.value);g.maxlen=c}else if(n.value==="true")g[c.value]=true;else if(n.value==="false")g[c.value]=false;else o("Bad option value.",n);c=X.token()}else{j==="/*jslint"&&o("Missing option value.",c);g[c.value]=false;c=n}}i&&Pa()}else if(a.id!=="(endline)")break}}function w(b,d){var c;a.id==="(end)"&&o("Unexpected early end of program.",
h);e();k.safe&&typeof C[h.value]==="boolean"&&a.id!=="("&&a.id!=="."&&f("ADsafe violation.",h);if(d){Sa="anonymous";p["(verb)"]=h.value}if(d===true&&h.fud)c=h.fud();else{if(h.nud)c=h.nud();else if(a.type==="(number)"&&h.id==="."){f("A leading decimal point can be confused with a dot: '.{a}'.",h,a.value);e();return h}else o("Expected an identifier and instead saw '{a}'.",h,h.id);for(;b<a.lbp;){e();if(h.led)c=h.led(c);else o("Expected an operator and instead saw '{a}'.",h,h.id)}}return c}function I(b,
d){b=b||h;d=d||a;if(k.white||r==="styleproperty"||r==="style")b.character!==d.from&&b.line===d.line&&f("Unexpected space after '{a}'.",d,b.value)}function J(b,d){b=b||h;d=d||a;k.white&&!b.comment&&b.line===d.line&&I(b,d)}function A(b,d){if(k.white){b=b||h;d=d||a;b.line===d.line&&b.character===d.from&&f("Missing space after '{a}'.",a,b.value)}}function qb(b,d){b=b||h;d=d||a;if(!k.laxbreak&&b.line!==d.line)f("Bad line breaking before '{a}'.",d,d.id);else if(k.white){b=b||h;d=d||a;b.character===d.from&&
f("Missing space after '{a}'.",a,b.value)}}function V(b){if(k.white&&a.id!=="(end)"){b=F+(b||0);a.from!==b&&f("Expected '{a}' to have an indentation at {b} instead at {c}.",a,a.value,b,a.from)}}function ca(b){b=b||h;b.line!==a.line&&f("Line breaking error '{a}'.",b,b.value)}function R(){if(h.line!==a.line)k.laxbreak||f("Bad line breaking before '{a}'.",h,a.id);else h.character!==a.from&&k.white&&f("Unexpected space after '{a}'.",a,h.value);e(",");A(h,a)}function da(b,d){var c=P[b];if(!c||typeof c!==
"object")P[b]=c={id:b,lbp:d,value:b};return c}function G(b){return da(b,0)}function ea(b,d){var c=G(b);c.identifier=c.reserved=true;c.fud=d;return c}function ka(b,d){var c=ea(b,d);c.block=true;return c}function Ta(b){var d=b.id.charAt(0);if(d>="a"&&d<="z"||d>="A"&&d<="Z")b.identifier=b.reserved=true;return b}function T(b,d){var c=da(b,150);Ta(c);c.nud=typeof d==="function"?d:function(){this.right=w(150);this.arity="unary";if(this.id==="++"||this.id==="--")if(k.plusplus)f("Unexpected use of '{a}'.",
this,this.id);else if((!this.right.identifier||this.right.reserved)&&this.right.id!=="."&&this.right.id!=="[")f("Bad operand.",this);return this};return c}function Ea(b,d){var c=G(b);c.type=b;c.nud=d;return c}function B(b,d){var c=Ea(b,d);c.identifier=c.reserved=true;return c}function Y(b){return B(b,function(){if(this.id==="this"||this.id==="arguments"||this.id==="eval")if(Ua&&p["(global)"])f("Strict violation.",this);else k.safe&&f("ADsafe violation.",this);return this})}function O(b,d,c,g){b=da(b,
c);Ta(b);b.led=function(i){if(!g){qb(L,h);A(h,a)}if(typeof d==="function")return d(i,this);else{this.left=i;this.right=w(c);return this}};return b}function fa(b,d){var c=da(b,100);c.led=function(g){qb(L,h);A(h,a);var i=w(100);if(g&&g.id==="NaN"||i&&i.id==="NaN")f("Use the isNaN function to compare with NaN.",this);else d&&d.apply(this,[g,i]);g.id==="!"&&f("Confusing use of '{a}'.",g,"!");i.id==="!"&&f("Confusing use of '{a}'.",g,"!");this.left=g;this.right=i;return this};return c}function Fa(b){return b&&
(b.type==="(number)"&&+b.value===0||b.type==="(string)"&&b.value===" "||b.type==="true"||b.type==="false"||b.type==="undefined"||b.type==="null")}function la(b){da(b,20).exps=true;return O(b,function(d,c){var g;c.left=d;C[d.value]===false&&D[d.value]["(global)"]===true&&f("Read only.",d);if(k.safe){g=d;do{typeof C[g.value]==="boolean"&&f("ADsafe violation.",g);g=g.left}while(g)}if(d){if(d.id==="."||d.id==="["){if(!d.left||d.left.value==="arguments")f("Bad assignment.",c);c.right=w(19);return c}else if(d.identifier&&
!d.reserved){p[d.value]==="exception"&&f("Do not assign to the exception parameter.",d);c.right=w(19);return c}d===P["function"]&&f("Expected an identifier in an assignment and instead saw a function invocation.",h)}o("Bad assignment.",c)},20)}function ma(b,d,c){b=da(b,c);Ta(b);b.led=typeof d==="function"?d:function(g){k.bitwise&&f("Unexpected use of '{a}'.",this,this.id);this.left=g;this.right=w(c);return this};return b}function na(b){da(b,20).exps=true;return O(b,function(d,c){k.bitwise&&f("Unexpected use of '{a}'.",
c,c.id);A(L,h);A(h,a);if(d){if(d.id==="."||d.id==="["||d.identifier&&!d.reserved){w(19);return c}d===P["function"]&&f("Expected an identifier in an assignment, and instead saw a function invocation.",h);return c}o("Bad assignment.",c)},20)}function rb(b){b=da(b,150);b.led=function(d){if(k.plusplus)f("Unexpected use of '{a}'.",this,this.id);else if((!d.identifier||d.reserved)&&d.id!=="."&&d.id!=="[")f("Bad operand.",this);this.left=d;return this};return b}function Va(){if(a.identifier){e();if(k.safe&&
Wa[h.value])f("ADsafe violation: '{a}'.",h,h.value);else h.reserved&&!k.es5&&f("Expected an identifier and instead saw '{a}' (a reserved word).",h,h.id);return h.value}}function ua(){var b=Va();if(b)return b;h.id==="function"&&a.id==="("?f("Missing name in function statement."):o("Expected an identifier and instead saw '{a}'.",a,a.value)}function Ga(b){var d=0,c;if(!(a.id!==";"||Xa))for(;;){c=N(d);if(c.reach)return;if(c.id!=="(endline)"){if(c.id==="function"){f("Inner functions should be listed at the top of the outer function.",
c);break}f("Unreachable '{a}' after '{b}'.",c,c.value,b);break}d+=1}}function Ya(b){var d=F,c=D,g=a;if(g.id===";"){f("Unnecessary semicolon.",g);e(";")}else{if(g.identifier&&!g.reserved&&N().id===":"){e();e(":");D=Object.create(c);ga(g.value,"label");a.labelled||f("Label '{a}' on {b} statement.",a,g.value,a.value);Za.test(g.value+":")&&f("Label '{a}' looks like a javascript url.",g,g.value);a.label=g.value;g=a}b||V();b=w(0,true);if(!g.block){if(!b||!b.exps)f("Expected an assignment or function call and instead saw an expression.",
h);else b.id==="("&&b.left.id==="new"&&f("Do not use 'new' for side effects.");if(a.id!==";")s("Missing semicolon.",h.line,h.from+h.value.length);else{I(h,a);e(";");A(h,a)}}F=d;D=c;return b}}function sb(){if(a.value==="use strict"){e();e(";");return Ua=true}else return false}function va(b){var d=[],c;b&&!sb()&&k.strict&&f('Missing "use strict" statement.',a);if(k.adsafe)switch(b){case "script":if(!oa)if(a.value!=="ADSAFE"||N(0).id!=="."||N(1).value!=="id"&&N(1).value!=="go")o("ADsafe violation: Missing ADSAFE.id or ADSAFE.go.",
a);if(a.value==="ADSAFE"&&N(0).id==="."&&N(1).value==="id"){oa&&o("ADsafe violation.",a);e("ADSAFE");e(".");e("id");e("(");a.value!==S&&o("ADsafe violation: id does not match.",a);e("(string)");e(")");e(";");oa=true}break;case "lib":if(a.value==="ADSAFE"){e("ADSAFE");e(".");e("lib");e("(");e("(string)");R();b=w(0);b.id!=="function"&&o("The second argument to lib must be a function.",b);(c=(c=b.funct["(params)"])&&c.join(", "))&&c!=="lib"&&o("Expected '{a}' and instead saw '{b}'.",b,"(lib)","("+c+
")");e(")");e(";");return d}else o("ADsafe lib violation.")}for(;!a.reach&&a.id!=="(end)";)if(a.id===";"){f("Unnecessary semicolon.");e(";")}else d.push(Ya());return d}function W(b){var d,c=wa,g=F,i=D,j;wa=b;D=Object.create(D);A(h,a);j=a;if(a.id==="{"){e("{");if(a.id!=="}"||h.line!==a.line){for(F+=k.indent;!b&&a.from>F;)F+=k.indent;b||sb();d=va();F-=k.indent;V()}e("}",j);F=g}else{f("Expected '{a}' and instead saw '{b}'.",a,"{",a.value);Xa=true;d=[Ya()];Xa=false}p["(verb)"]=null;D=i;wa=c;return d}
function tb(){return this}function Ha(b){ha&&typeof ha[b]!=="boolean"&&f("Unexpected /*member '{a}'.",h,b);if(typeof ia[b]==="number")ia[b]+=1;else ia[b]=1}function $a(b){var d=b.value;b=b.line;var c=ba[d];if(typeof c==="function")c=false;if(c)c[c.length-1]!==b&&c.push(b);else{c=[b];ba[d]=c}}function ab(){if(a.identifier){e();return true}}function Ia(){if(a.id==="-"){e("-");I();ca()}if(a.type==="(number)"){e("(number)");return true}}function bb(){if(a.type==="(string)"){e();return true}}function Z(){var b,
d,c;if(a.identifier){c=a.value;if(c==="rgb"||c==="rgba"){e();e("(");for(b=0;b<3;b+=1){b&&e(",");d=a.value;if(a.type!=="(number)"||d<0){f("Expected a positive number and instead saw '{a}'",a,d);e()}else{e();if(a.id==="%"){e("%");d>100&&f("Expected a percentage and instead saw '{a}'",h,d)}else d>255&&f("Expected a small number and instead saw '{a}'",h,d)}}if(c==="rgba"){e(",");d=+a.value;if(a.type!=="(number)"||d<0||d>1)f("Expected a number between 0 and 1 and instead saw '{a}'",a,d);e();if(a.id===
"%"){f("Unexpected '%'.");e("%")}}e(")");return true}else if(Hb[a.value]===true){e();return true}}else if(a.type==="(color)"){e();return true}return false}function y(){if(a.id==="-"){e("-");I();ca()}if(a.type==="(number)"){e();if(a.type!=="(string)"&&ub[a.value]===true){I();e()}else+h.value!==0&&f("Expected a linear unit and instead saw '{a}'.",a,a.value);return true}return false}function pa(){if(a.identifier)switch(a.value){case "thin":case "medium":case "thick":e();return true}else return y()}function xa(){if(a.identifier){if(a.value===
"auto"){e();return true}}else return y()}function ja(){var b,d;if(a.identifier&&a.value==="url"){a=X.range("(",")");d=a.value;b=d.charAt(0);if(b==='"'||b==="'")if(d.slice(-1)!==b)f("Bad url string.");else{d=d.slice(1,-1);d.indexOf(b)>=0&&f("Bad url string.")}d||f("Missing url.");e();k.safe&&vb.test(d)&&o("ADsafe URL violation.");ya.push(d);return true}return false}function cb(b){var d=0,c,g,i,j=0;switch(typeof b){case "function":return b();case "string":if(a.identifier&&a.value===b){e();return true}return false}for(;;){if(d>=
b.length)return false;i=b[d];d+=1;if(i===true)break;else if(typeof i==="number"){c=i;i=b[d];d+=1}else c=1;for(g=false;c>0;)if(cb(i)){g=true;c-=1}else break;if(g)return true}j=d;for(c=[];;){i=false;for(d=j;d<b.length;d+=1)if(!c[d])if(cb(Ja[b[d]])){i=g=true;c[d]=true;break}if(!i)return g}}function wb(){for(var b;;){if(a.id==="}"||a.id==="(end)"||Q&&a.id===Q)return;for(;a.id===";";){f("Misplaced ';'.");e(";")}for(b=void 0;a.id==="*"||a.id==="#"||a.value==="_";){k.css||f("Unexpected '{a}'.",a,a.value);
e()}if(a.id==="-"){k.css||f("Unexpected '{a}'.",a,a.value);e("-");a.identifier||f("Expected a non-standard style attribute and instead saw '{a}'.",a,a.value);e();b=db}else{if(a.identifier)if(U(Ja,a.value))b=Ja[a.value];else{b=db;k.css||f("Unrecognized style attribute '{a}'.",a,a.value)}else f("Excepted a style attribute, and instead saw '{a}'.",a,a.value);e();b=b}e(":");if(a.identifier&&a.value==="inherit")e();else if(!cb(b)){f("Unexpected token '{a}'.",a,a.value);e()}if(a.id==="!"){e("!");I();a.identifier&&
a.value==="important"?e():f("Expected '{a}' and instead saw '{b}'.",a,"important",a.value)}a.id==="}"||a.id===Q?f("Missing '{a}'.",a,";"):e(";")}}function eb(){if(a.identifier){U(fb,a.value)||f("Expected a tagName, and instead saw {a}.",a,a.value);e()}else switch(a.id){case ">":case "+":e();eb();break;case ":":e(":");switch(a.value){case "active":case "after":case "before":case "checked":case "disabled":case "empty":case "enabled":case "first-child":case "first-letter":case "first-line":case "first-of-type":case "focus":case "hover":case "last-of-type":case "link":case "only-of-type":case "root":case "target":case "visited":e();
break;case "lang":e();e("(");a.identifier||f("Expected a lang code, and instead saw :{a}.",a,a.value);e(")");break;case "nth-child":case "nth-last-child":case "nth-last-of-type":case "nth-of-type":e();e("(");a:if(a.id==="(number)"){e();if(a.value==="n"&&a.identifier){I();e();if(a.id==="+"){I();e("+");I();e("(number)")}}}else{switch(a.value){case "odd":case "even":if(a.identifier){e();break a}}f("Unexpected token '{a}'.",a,a.value)}e(")");break;case "not":e();e("(");a.id===":"&&N(0).value==="not"&&
f("Nested not.");eb();e(")");break;default:f("Expected a pseudo, and instead saw :{a}.",a,a.value)}break;case "#":e("#");a.identifier||f("Expected an id, and instead saw #{a}.",a,a.value);e();break;case "*":e("*");break;case ".":e(".");a.identifier||f("Expected a class, and instead saw #.{a}.",a,a.value);e();break;case "[":e("[");a.identifier||f("Expected an attribute, and instead saw [{a}].",a,a.value);e();if(a.id==="="||a.value==="~="||a.value==="$="||a.value==="|="||a.id==="*="||a.id==="^="){e();
a.type!=="(string)"&&f("Expected a string, and instead saw {a}.",a,a.value);e()}e("]");break;default:o("Expected a CSS selector, and instead saw {a}.",a,a.value)}}function xb(){for(var b;a.id==="@";){b=N();if(b.identifier&&b.value==="import"){e("@");e();if(!ja()){f("Expected '{a}' and instead saw '{b}'.",a,"url",a.value);e()}e(";")}else break}for(;a.id!=="</"&&a.id!=="(end)";){a:{b=void 0;if(a.id==="{")f("Expected a style pattern, and instead saw '{a}'.",a,a.id);else if(a.id==="@"){e("@");b=a.value;
if(a.identifier&&Ib[b]===true){e();break a}f("Expected an at-rule, and instead saw @{a}.",a,b)}for(;;){eb();if(a.id==="</"||a.id==="{"||a.id==="(end)")break a;a.id===","&&R()}}r="styleproperty";if(a.id===";")e(";");else{e("{");wb();r="style";e("}")}}}function gb(){var b=Va(true);if(!b)if(a.id==="(string)"){b=a.value;e()}else if(a.id==="(number)"){b=a.value.toString();e()}return b}function Ka(b){var d,c=D;D=Object.create(c);d=p={"(name)":b||'"'+Sa+'"',"(line)":a.line,"(context)":p,"(breakage)":0,"(loopage)":0,
"(scope)":D};h.funct=p;za.push(p);b&&ga(b,"function");b=p;var g;a:{var i,j=a,n=[];e("(");J();if(a.id===")"){e(")");J(L,h);g=void 0}else for(;;){i=ua();n.push(i);ga(i,"parameter");if(a.id===",")R();else{e(")",j);J(L,h);g=n;break a}}}b["(params)"]=g;W(false);D=c;p["(last)"]=h.line;p=p["(context)"];return d}function hb(b){var d,c;if(p["(onevar)"]&&k.onevar)f("Too many var statements.");else p["(global)"]||(p["(onevar)"]=true);for(this.first=[];;){A(h,a);d=ua();p["(global)"]&&C[d]===false&&f("Redefinition of '{a}'.",
h,d);ga(d,"unused");if(b)break;c=h;this.first.push(h);if(a.id==="="){A(h,a);e("=");A(h,a);a.id==="undefined"&&f("It is not necessary to initialize '{a}' to 'undefined'.",h,d);N(0).id==="="&&a.identifier&&o("Variable {a} was not declared correctly.",a,a.value);d=w(0);c.first=d}if(a.id!==",")break;R()}return this}function ib(){function b(){var c={},g=a;e("{");if(a.id!=="}")for(;;){if(a.id==="(end)")o("Missing '}' to match '{' from line {a}.",a,g.line);else if(a.id==="}"){f("Unexpected comma.",h);break}else if(a.id===
",")o("Unexpected comma.",a);else a.id!=="(string)"&&f("Expected a string and instead saw {a}.",a,a.value);if(c[a.value]===true)f("Duplicate key '{a}'.",a,a.value);else if(a.value==="__proto__")f("Stupid key '{a}'.",a,a.value);else c[a.value]=true;e();e(":");ib();if(a.id!==",")break;e(",")}e("}")}function d(){var c=a;e("[");if(a.id!=="]")for(;;){if(a.id==="(end)")o("Missing ']' to match '[' from line {a}.",a,c.line);else if(a.id==="]"){f("Unexpected comma.",h);break}else a.id===","&&o("Unexpected comma.",
a);ib();if(a.id!==",")break;e(",")}e("]")}switch(a.id){case "{":b();break;case "[":d();break;case "true":case "false":case "null":case "(number)":case "(string)":e();break;case "-":e("-");h.character!==a.from&&f("Unexpected space after '-'.",h);I(h,a);e("(number)");break;default:o("Expected a JSON value.",a)}}function yb(b){var d=[],c;for(c in b)U(b,c)&&d.push(c);return d}var S,oa,Aa,Sa,La,Ib={media:true,"font-face":true,page:true},Jb={"<":true,"<=":true,"==":true,"===":true,"!==":true,"!=":true,
">":true,">=":true,"+":true,"-":true,"*":true,"/":true,"%":true},Wa={arguments:true,callee:true,caller:true,constructor:true,eval:true,prototype:true,stack:true,unwatch:true,valueOf:true,watch:true},Gb={adsafe:true,bitwise:true,browser:true,cap:true,css:true,debug:true,devel:true,eqeqeq:true,es5:true,evil:true,forin:true,fragment:true,immed:true,laxbreak:true,newcap:true,nomen:true,on:true,onevar:true,passfail:true,plusplus:true,regexp:true,rhino:true,undef:true,safe:true,windows:true,strict:true,
sub:true,white:true,widget:true},Db={addEventListener:false,blur:false,clearInterval:false,clearTimeout:false,close:false,closed:false,defaultStatus:false,document:false,event:false,focus:false,frames:false,getComputedStyle:false,history:false,Image:false,length:false,location:false,moveBy:false,moveTo:false,name:false,navigator:false,onbeforeunload:true,onblur:true,onerror:true,onfocus:true,onload:true,onresize:true,onunload:true,open:false,opener:false,Option:false,parent:false,print:false,removeEventListener:false,
resizeBy:false,resizeTo:false,screen:false,scroll:false,scrollBy:false,scrollTo:false,setInterval:false,setTimeout:false,status:false,top:false,XMLHttpRequest:false},Ja,db,Hb={aliceblue:true,antiquewhite:true,aqua:true,aquamarine:true,azure:true,beige:true,bisque:true,black:true,blanchedalmond:true,blue:true,blueviolet:true,brown:true,burlywood:true,cadetblue:true,chartreuse:true,chocolate:true,coral:true,cornflowerblue:true,cornsilk:true,crimson:true,cyan:true,darkblue:true,darkcyan:true,darkgoldenrod:true,
darkgray:true,darkgreen:true,darkkhaki:true,darkmagenta:true,darkolivegreen:true,darkorange:true,darkorchid:true,darkred:true,darksalmon:true,darkseagreen:true,darkslateblue:true,darkslategray:true,darkturquoise:true,darkviolet:true,deeppink:true,deepskyblue:true,dimgray:true,dodgerblue:true,firebrick:true,floralwhite:true,forestgreen:true,fuchsia:true,gainsboro:true,ghostwhite:true,gold:true,goldenrod:true,gray:true,green:true,greenyellow:true,honeydew:true,hotpink:true,indianred:true,indigo:true,
ivory:true,khaki:true,lavender:true,lavenderblush:true,lawngreen:true,lemonchiffon:true,lightblue:true,lightcoral:true,lightcyan:true,lightgoldenrodyellow:true,lightgreen:true,lightpink:true,lightsalmon:true,lightseagreen:true,lightskyblue:true,lightslategray:true,lightsteelblue:true,lightyellow:true,lime:true,limegreen:true,linen:true,magenta:true,maroon:true,mediumaquamarine:true,mediumblue:true,mediumorchid:true,mediumpurple:true,mediumseagreen:true,mediumslateblue:true,mediumspringgreen:true,
mediumturquoise:true,mediumvioletred:true,midnightblue:true,mintcream:true,mistyrose:true,moccasin:true,navajowhite:true,navy:true,oldlace:true,olive:true,olivedrab:true,orange:true,orangered:true,orchid:true,palegoldenrod:true,palegreen:true,paleturquoise:true,palevioletred:true,papayawhip:true,peachpuff:true,peru:true,pink:true,plum:true,powderblue:true,purple:true,red:true,rosybrown:true,royalblue:true,saddlebrown:true,salmon:true,sandybrown:true,seagreen:true,seashell:true,sienna:true,silver:true,
skyblue:true,slateblue:true,slategray:true,snow:true,springgreen:true,steelblue:true,tan:true,teal:true,thistle:true,tomato:true,turquoise:true,violet:true,wheat:true,white:true,whitesmoke:true,yellow:true,yellowgreen:true},$,jb,ub={"%":true,cm:true,em:true,ex:true,"in":true,mm:true,pc:true,pt:true,px:true},Ma,Cb={alert:false,confirm:false,console:false,Debug:false,opera:false,prompt:false},Kb={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},p,Ba=["closure",
"exception","global","label","outer","unused","var"],za,pb,fb={a:{},abbr:{},acronym:{},address:{},applet:{},area:{empty:true,parent:" map "},article:{},aside:{},audio:{},b:{},base:{empty:true,parent:" head "},bdo:{},big:{},blockquote:{},body:{parent:" html noframes "},br:{empty:true},button:{},canvas:{parent:" body p div th td "},caption:{parent:" table "},center:{},cite:{},code:{},col:{empty:true,parent:" table colgroup "},colgroup:{parent:" table "},command:{parent:" menu "},datalist:{},dd:{parent:" dl "},
del:{},details:{},dialog:{},dfn:{},dir:{},div:{},dl:{},dt:{parent:" dl "},em:{},embed:{},fieldset:{},figure:{},font:{},footer:{},form:{},frame:{empty:true,parent:" frameset "},frameset:{parent:" html frameset "},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{parent:" html "},header:{},hgroup:{},html:{parent:"*"},hr:{empty:true},i:{},iframe:{},img:{empty:true},input:{empty:true},ins:{},kbd:{},keygen:{},label:{},legend:{parent:" details fieldset figure "},li:{parent:" dir menu ol ul "},link:{empty:true,
parent:" head "},map:{},mark:{},menu:{},meta:{empty:true,parent:" head noframes noscript "},meter:{},nav:{},noframes:{parent:" html body "},noscript:{parent:" body head noframes "},object:{},ol:{},optgroup:{parent:" select "},option:{parent:" optgroup select "},output:{},p:{},param:{empty:true,parent:" applet object "},pre:{},progress:{},q:{},rp:{},rt:{},ruby:{},samp:{},script:{empty:true,parent:" body div frame head iframe p pre span "},section:{},select:{},small:{},span:{},source:{},strong:{},style:{parent:" head ",
empty:true},sub:{},sup:{},table:{},tbody:{parent:" table "},td:{parent:" tr "},textarea:{},tfoot:{parent:" table "},th:{parent:" tr "},thead:{parent:" table "},time:{},title:{parent:" head "},tr:{parent:" table tbody thead tfoot "},tt:{},u:{},ul:{},"var":{},video:{}},Na,ba,wa,F,qa,ta,Da,ia,ha,a,Xa,k,C,kb,L,Bb={defineClass:false,deserialize:false,gc:false,help:false,load:false,loadClass:false,print:false,quit:false,readFile:false,readUrl:false,runCommand:false,seal:false,serialize:false,spawn:false,
sync:false,toint32:false,version:false},D,Eb={ActiveXObject:false,CScript:false,Debug:false,Enumerator:false,System:false,VBArray:false,WScript:false},Oa,K,Lb={Array:false,Boolean:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,eval:false,EvalError:false,Function:false,hasOwnProperty:false,isFinite:false,isNaN:false,JSON:false,Math:false,Number:false,Object:false,parseInt:false,parseFloat:false,RangeError:false,ReferenceError:false,RegExp:false,
String:false,SyntaxError:false,TypeError:false,URIError:false},Mb={E:true,LN2:true,LN10:true,LOG2E:true,LOG10E:true,PI:true,SQRT1_2:true,SQRT2:true,MAX_VALUE:true,MIN_VALUE:true,NEGATIVE_INFINITY:true,POSITIVE_INFINITY:true},Ua,P={},lb,h,ya,Ra,Fb={alert:true,animator:true,appleScript:true,beep:true,bytesToUIString:true,Canvas:true,chooseColor:true,chooseFile:true,chooseFolder:true,closeWidget:true,COM:true,convertPathToHFS:true,convertPathToPlatform:true,CustomAnimation:true,escape:true,FadeAnimation:true,
filesystem:true,Flash:true,focusWidget:true,form:true,FormField:true,Frame:true,HotKey:true,Image:true,include:true,isApplicationRunning:true,iTunes:true,konfabulatorVersion:true,log:true,md5:true,MenuItem:true,MoveAnimation:true,openURL:true,play:true,Point:true,popupMenu:true,preferenceGroups:true,preferences:true,print:true,prompt:true,random:true,Rectangle:true,reloadWidget:true,ResizeAnimation:true,resolvePath:true,resumeUpdates:true,RotateAnimation:true,runCommand:true,runCommandInBg:true,saveAs:true,
savePreferences:true,screen:true,ScrollBar:true,showWidgetPreferences:true,sleep:true,speak:true,Style:true,suppressUpdates:true,system:true,tellWidget:true,Text:true,TextArea:true,Timer:true,unescape:true,updateNow:true,URL:true,Web:true,widget:true,Window:true,XMLDOM:true,XMLHttpRequest:true,yahooCheckLogin:true,yahooLogin:true,yahooLogout:true},r,Q,mb=/@cc|<\/?|script|\]*s\]|<\s*!|&lt/i,Nb=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,
Ob=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jslint|members?|global)?|=|\/)?|\*[\/=]?|\+[+=]?|-[\-=]?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/;$=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-]*|[0-9]+|--)/;var Pb=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,Qb=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
Rb=/[>&]|<[\/!]?|--/,Sb=/\*\/|\/\*/,zb=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,Za=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,vb=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i,Tb=/[^a-zA-Z0-9+\-_\/ ]/,Ub=/[\[\]\/\\"'*<>.&:(){}+=#]/,Vb={outer:$,html:$,style:/^\s*([{:#%.=,>+\[\]@()"';]|\*=?|\$=|\|=|\^=|~=|[a-zA-Z_][a-zA-Z0-9_\-]*|[0-9]+|<\/|\/\*)/,styleproperty:/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/};if(typeof Object.create!==
"function")Object.create=function(b){ob.prototype=b;return new ob};String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};String.prototype.isAlpha=function(){return this>="a"&&this<="z\uffff"||this>="A"&&this<="Z\uffff"};String.prototype.isDigit=function(){return this>="0"&&this<="9"};String.prototype.supplant=function(b){return this.replace(/\{([^{}]*)\}/g,function(d,c){var g=b[c];return typeof g==="string"||typeof g==="number"?g:d})};String.prototype.name=
function(){if(zb.test(this))return this;if(Pb.test(this))return'"'+this.replace(Qb,function(b){var d=Kb[b];if(d)return d;return"\\u"+("0000"+b.charCodeAt().toString(16)).slice(-4)})+'"';return'"'+this+'"'};var X=function(){function b(){var n;if(i>=ta.length)return false;c=1;j=ta[i];i+=1;n=j.search(/ \t/);n>=0&&s("Mixed spaces and tabs.",i,n+1);j=j.replace(/\t/g,lb);n=j.search(Nb);n>=0&&s("Unsafe character.",i,n);k.maxlen&&k.maxlen<j.length&&s("Line too long.",i,j.length);return true}function d(n,
u){var q,l;l=n==="(color)"?{type:n}:n==="(punctuator)"||n==="(identifier)"&&U(P,u)?P[u]||P["(error)"]:P[n];l=Object.create(l);if(n==="(string)"||n==="(range)")Za.test(u)&&s("Script URL.",i,g);if(n==="(identifier)"){l.identifier=true;if(u==="__iterator__"||u==="__proto__")M("Reserved name '{a}'.",i,g,u);else if(k.nomen&&(u.charAt(0)==="_"||u.charAt(u.length-1)==="_"))s("Unexpected {a} in '{b}'.",i,g,"dangling '_'",u)}l.value=u;l.line=i;l.character=c;l.from=g;q=l.id;if(q!=="(endline)")kb=q&&("(,=:[!&|?{};".indexOf(q.charAt(q.length-
1))>=0||q==="return");return l}var c,g,i,j;return{init:function(n){ta=typeof n==="string"?n.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):n;i=0;b();g=1},range:function(n,u){var q,l="";g=c;for(j.charAt(0)!==n&&M("Expected '{a}' and instead saw '{b}'.",i,c,n,j.charAt(0));;){j=j.slice(1);c+=1;q=j.charAt(0);switch(q){case "":M("Missing '{a}'.",i,c,q);break;case u:j=j.slice(1);c+=1;return d("(range)",l);case Q:case "\\":s("Unexpected '{a}'.",i,c,q)}l+=q}},token:function(){function n(E){if(E=E.exec(j)){m=
E[0].length;E=E[1];l=E.charAt(0);j=j.substr(m);g=c+m-E.length;c+=m;return E}}function u(E){function Ca(nb){var ra=parseInt(j.substr(H+1,nb),16);H+=nb;ra>=32&&ra<=126&&ra!==34&&ra!==92&&ra!==39&&s("Unnecessary escapement.",i,c);c+=nb;z=String.fromCharCode(ra)}var z,H,Ab="";qa&&E!=='"'&&s("Strings must use doublequote.",i,c);if(Q===E||r==="scriptstring"&&!Q)return d("(punctuator)",E);for(H=0;;){for(;H>=j.length;){H=0;if(r!=="html"||!b())M("Unclosed string.",i,g)}z=j.charAt(H);if(z===E){c+=1;j=j.substr(H+
1);return d("(string)",Ab,E)}if(z<" "){if(z==="\n"||z==="\r")break;s("Control character in string: {a}.",i,c+H,j.slice(0,H))}else if(z===Q)s("Bad HTML string",i,c+H);else if(z==="<")if(k.safe&&r==="html")s("ADsafe string violation.",i,c+H);else if(j.charAt(H+1)==="/"&&(r||k.safe))s("Expected '<\\/' and instead saw '</'.",i,c);else{if(j.charAt(H+1)==="!"&&(r||k.safe))s("Unexpected '<!' in a string.",i,c)}else if(z==="\\")if(r==="html")k.safe&&s("ADsafe string violation.",i,c+H);else if(r==="styleproperty"){H+=
1;c+=1;z=j.charAt(H);z!==E&&s("Escapement in style string.",i,c+H)}else{H+=1;c+=1;z=j.charAt(H);switch(z){case Q:s("Bad HTML string",i,c+H);break;case "\\":case "'":case '"':case "/":break;case "b":z="\u0008";break;case "f":z="\u000c";break;case "n":z="\n";break;case "r":z="\r";break;case "t":z="\t";break;case "u":Ca(4);break;case "v":z="\u000b";break;case "x":qa&&s("Avoid \\x-.",i,c);Ca(2);break;default:s("Bad escapement.",i,c)}}Ab+=z;c+=1;H+=1}}for(var q,l,t,x,m,v;;){if(!j)return d(b()?"(endline)":
"(end)","");for(;r==="outer";){x=j.search(Rb);if(x===0)break;else if(x>0){c+=1;j=j.slice(x);break}else if(!b())return d("(end)","")}if(t=n(Vb[r]||Ob)){if(l.isAlpha()||l==="_"||l==="$")return d("(identifier)",t);if(l.isDigit()){r!=="style"&&!isFinite(Number(t))&&s("Bad number '{a}'.",i,c,t);r!=="style"&&r!=="styleproperty"&&j.substr(0,1).isAlpha()&&s("Missing space after '{a}'.",i,c,t);if(l==="0"){x=t.substr(1,1);if(x.isDigit())h.id!=="."&&r!=="styleproperty"&&s("Don't use extra leading zeros '{a}'.",
i,c,t);else if(qa&&(x==="x"||x==="X"))s("Avoid 0x-. '{a}'.",i,c,t)}t.substr(t.length-1)==="."&&s("A trailing decimal point can be confused with a dot '{a}'.",i,c,t);return d("(number)",t)}switch(t){case '"':case "'":return u(t);case "//":if(Oa||r&&r!=="script")s("Unexpected comment.",i,c);else if(r==="script"&&/<\s*\//i.test(j))s("Unexpected </ in comment.",i,c);else if((k.safe||r==="script")&&mb.test(j))s("Dangerous comment.",i,c);j="";h.comment=true;break;case "/*":if(Oa||r&&r!=="script"&&r!=="style"&&
r!=="styleproperty")s("Unexpected comment.",i,c);for(k.safe&&mb.test(j)&&s("ADsafe comment violation.",i,c);;){x=j.search(Sb);if(x>=0)break;if(b())k.safe&&mb.test(j)&&s("ADsafe comment violation.",i,c);else M("Unclosed comment.",i,c)}c+=x+2;j.substr(x,1)==="/"&&M("Nested comment.",i,c);j=j.substr(x+2);h.comment=true;break;case "/*members":case "/*member":case "/*jslint":case "/*global":case "*/":return{value:t,type:"special",line:i,character:c,from:g};case "":break;case "/":h.id==="/="&&M("A regular expression literal can be confused with '/='.",
i,g);if(kb){for(m=t=x=0;;){q=true;l=j.charAt(m);m+=1;switch(l){case "":M("Unclosed regular expression.",i,g);return;case "/":x>0&&s("Unescaped '{a}'.",i,g+m,"/");l=j.substr(0,m-1);for(v={g:true,i:true,m:true};v[j.charAt(m)]===true;){v[j.charAt(m)]=false;m+=1}c+=m;j=j.substr(m);v=j.charAt(0);if(v==="/"||v==="*")M("Confusing regular expression.",i,g);return d("(regexp)",l);case "\\":l=j.charAt(m);if(l<" ")s("Unexpected control character in regular expression.",i,g+m);else l==="<"&&s("Unexpected escaped character '{a}' in regular expression.",
i,g+m,l);m+=1;break;case "(":x+=1;q=false;if(j.charAt(m)==="?"){m+=1;switch(j.charAt(m)){case ":":case "=":case "!":m+=1;break;default:s("Expected '{a}' and instead saw '{b}'.",i,g+m,":",j.charAt(m))}}else t+=1;break;case "|":q=false;break;case ")":if(x===0)s("Unescaped '{a}'.",i,g+m,")");else x-=1;break;case " ":for(v=1;j.charAt(m)===" ";){m+=1;v+=1}v>1&&s("Spaces are hard to count. Use {{a}}.",i,g+m,v);break;case "[":l=j.charAt(m);if(l==="^"){m+=1;k.regexp&&s("Insecure '{a}'.",i,g+m,l)}v=false;
if(l==="]"){s("Empty class.",i,g+m-1);v=true}a:do{l=j.charAt(m);m+=1;switch(l){case "[":case "^":s("Unescaped '{a}'.",i,g+m,l);v=true;break;case "-":if(v)v=false;else{s("Unescaped '{a}'.",i,g+m,"-");v=true}break;case "]":v||s("Unescaped '{a}'.",i,g+m-1,"-");break a;case "\\":l=j.charAt(m);if(l<" ")s("Unexpected control character in regular expression.",i,g+m);else l==="<"&&s("Unexpected escaped character '{a}' in regular expression.",i,g+m,l);m+=1;v=true;break;case "/":s("Unescaped '{a}'.",i,g+m-
1,"/");v=true;break;case "<":if(r==="script"){l=j.charAt(m);if(l==="!"||l==="/")s("HTML confusion in regular expression '<{a}'.",i,g+m,l)}v=true;break;default:v=true}}while(l);break;case ".":k.regexp&&s("Insecure '{a}'.",i,g+m,l);break;case "]":case "?":case "{":case "}":case "+":case "*":s("Unescaped '{a}'.",i,g+m,l);break;case "<":if(r==="script"){l=j.charAt(m);if(l==="!"||l==="/")s("HTML confusion in regular expression '<{a}'.",i,g+m,l)}}if(q)switch(j.charAt(m)){case "?":case "+":case "*":m+=1;
if(j.charAt(m)==="?")m+=1;break;case "{":m+=1;l=j.charAt(m);if(l<"0"||l>"9")s("Expected a number and instead saw '{a}'.",i,g+m,l);m+=1;for(v=+l;;){l=j.charAt(m);if(l<"0"||l>"9")break;m+=1;v=+l+v*10}q=v;if(l===","){m+=1;q=Infinity;l=j.charAt(m);if(l>="0"&&l<="9"){m+=1;for(q=+l;;){l=j.charAt(m);if(l<"0"||l>"9")break;m+=1;q=+l+q*10}}}if(j.charAt(m)!=="}")s("Expected '{a}' and instead saw '{b}'.",i,g+m,"}",l);else m+=1;if(j.charAt(m)==="?")m+=1;v>q&&s("'{a}' should not be greater than '{b}'.",i,g+m,v,
q)}}l=j.substr(0,m-1);c+=m;j=j.substr(m);return d("(regexp)",l)}return d("(punctuator)",t);case "<!--":m=i;for(l=c;;){x=j.indexOf("--");if(x>=0)break;x=j.indexOf("<!");x>=0&&M("Nested HTML comment.",i,c+x);b()||M("Unclosed HTML comment.",m,l)}m=j.indexOf("<!");m>=0&&m<x&&M("Nested HTML comment.",i,c+m);c+=x;j[x+2]!==">"&&M("Expected --\>.",i,c);c+=3;j=j.slice(x+3);break;case "#":if(r==="html"||r==="styleproperty"){for(;;){l=j.charAt(0);if((l<"0"||l>"9")&&(l<"a"||l>"f")&&(l<"A"||l>"F"))break;c+=1;
j=j.substr(1);t+=l}t.length!==4&&t.length!==7&&s("Bad hex color '{a}'.",i,g+m,t);return d("(color)",t)}return d("(punctuator)",t);default:if(r==="outer"&&l==="&"){c+=1;for(j=j.substr(1);;){l=j.charAt(0);c+=1;j=j.substr(1);if(l===";")break;l>="0"&&l<="9"||l>="a"&&l<="z"||l==="#"||M("Bad entity",i,g+m,c)}break}return d("(punctuator)",t)}}else{for(l=t="";j&&j<"!";)j=j.substr(1);if(j)if(r==="html")return d("(error)",j.charAt(0));else M("Unexpected '{a}'.",i,c,j.substr(0,1))}}}}}();db=[ja,function(){for(;;)if(a.identifier)switch(a.value.toLowerCase()){case "url":ja();
break;case "expression":f("Unexpected expression '{a}'.",a,a.value);e();break;default:e()}else{if(a.id===";"||a.id==="!"||a.id==="(end)"||a.id==="}")return true;e()}}];$=["none","hidden","dotted","dashed","solid","double","ridge","inset","outset"];jb=["auto","always","avoid","left","right"];Ma=["auto","hidden","scroll","visible"];Ja={background:[true,"background-attachment","background-color","background-image","background-position","background-repeat"],"background-attachment":["scroll","fixed"],
"background-color":["transparent",Z],"background-image":["none",ja],"background-position":[2,[y,"top","bottom","left","right","center"]],"background-repeat":["repeat","repeat-x","repeat-y","no-repeat"],border:[true,"border-color","border-style","border-width"],"border-bottom":[true,"border-bottom-color","border-bottom-style","border-bottom-width"],"border-bottom-color":Z,"border-bottom-style":$,"border-bottom-width":pa,"border-collapse":["collapse","separate"],"border-color":["transparent",4,Z],"border-left":[true,
"border-left-color","border-left-style","border-left-width"],"border-left-color":Z,"border-left-style":$,"border-left-width":pa,"border-right":[true,"border-right-color","border-right-style","border-right-width"],"border-right-color":Z,"border-right-style":$,"border-right-width":pa,"border-spacing":[2,y],"border-style":[4,$],"border-top":[true,"border-top-color","border-top-style","border-top-width"],"border-top-color":Z,"border-top-style":$,"border-top-width":pa,"border-width":[4,pa],bottom:[y,"auto"],
"caption-side":["bottom","left","right","top"],clear:["both","left","none","right"],clip:[function(){var b;if(a.identifier&&a.value==="rect"){e();e("(");for(b=0;b<4;b+=1)if(!y()){f("Expected a number and instead saw '{a}'.",a,a.value);break}e(")");return true}return false},"auto"],color:Z,content:["open-quote","close-quote","no-open-quote","no-close-quote",bb,ja,function(){if(a.identifier&&a.value==="counter"){e();e("(");e();if(a.id===","){R();a.type!=="(string)"&&f("Expected a string and instead saw '{a}'.",
a,a.value);e()}e(")");return true}if(a.identifier&&a.value==="counters"){e();e("(");a.identifier||f("Expected a name and instead saw '{a}'.",a,a.value);e();if(a.id===","){R();a.type!=="(string)"&&f("Expected a string and instead saw '{a}'.",a,a.value);e()}if(a.id===","){R();a.type!=="(string)"&&f("Expected a string and instead saw '{a}'.",a,a.value);e()}e(")");return true}return false},function(){if(a.identifier&&a.value==="attr"){e();e("(");a.identifier||f("Expected a name and instead saw '{a}'.",
a,a.value);e();e(")");return true}return false}],"counter-increment":[ab,"none"],"counter-reset":[ab,"none"],cursor:[ja,"auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","s-resize","se-resize","sw-resize","w-resize","text","wait"],direction:["ltr","rtl"],display:["block","compact","inline","inline-block","inline-table","list-item","marker","none","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group",
"table-header-group","table-row","table-row-group"],"empty-cells":["show","hide"],"float":["left","none","right"],font:["caption","icon","menu","message-box","small-caption","status-bar",true,"font-size","font-style","font-weight","font-family"],"font-family":function(){for(;a.id!==";";){!ab()&&!bb()&&f("Expected a name and instead saw '{a}'.",a,a.value);if(a.id!==",")return true;R()}},"font-size":["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller",y],"font-size-adjust":["none",
Ia],"font-stretch":["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded"],"font-style":["normal","italic","oblique"],"font-variant":["normal","small-caps"],"font-weight":["normal","bold","bolder","lighter",Ia],height:[y,"auto"],left:[y,"auto"],"letter-spacing":["normal",y],"line-height":["normal",function(){if(a.id==="-"){e("-");I()}if(a.type==="(number)"){e();if(a.type!=="(string)"&&ub[a.value]===true){I();e()}return true}return false}],
"list-style":[true,"list-style-image","list-style-position","list-style-type"],"list-style-image":["none",ja],"list-style-position":["inside","outside"],"list-style-type":["circle","disc","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","hebrew","katakana","hiragana-iroha","katakana-oroha","none"],margin:[4,xa],"margin-bottom":xa,"margin-left":xa,"margin-right":xa,"margin-top":xa,"marker-offset":[y,"auto"],
"max-height":[y,"none"],"max-width":[y,"none"],"min-height":y,"min-width":y,opacity:Ia,outline:[true,"outline-color","outline-style","outline-width"],"outline-color":["invert",Z],"outline-style":["dashed","dotted","double","groove","inset","none","outset","ridge","solid"],"outline-width":pa,overflow:Ma,"overflow-x":Ma,"overflow-y":Ma,padding:[4,y],"padding-bottom":y,"padding-left":y,"padding-right":y,"padding-top":y,"page-break-after":jb,"page-break-before":jb,position:["absolute","fixed","relative",
"static"],quotes:[8,bb],right:[y,"auto"],"table-layout":["auto","fixed"],"text-align":["center","justify","left","right"],"text-decoration":["none","underline","overline","line-through","blink"],"text-indent":y,"text-shadow":["none",4,[Z,y]],"text-transform":["capitalize","uppercase","lowercase","none"],top:[y,"auto"],"unicode-bidi":["normal","embed","bidi-override"],"vertical-align":["baseline","bottom","sub","super","top","text-top","middle","text-bottom",y],visibility:["visible","hidden","collapse"],
"white-space":["normal","nowrap","pre","pre-line","pre-wrap","inherit"],width:[y,"auto"],"word-spacing":["normal",y],"word-wrap":["break-word","normal"],"z-index":["auto",Ia]};Ea("(number)",tb);Ea("(string)",tb);P["(identifier)"]={type:"(identifier)",lbp:0,identifier:true,nud:function(){var b=this.value,d=D[b],c;if(typeof d==="function")d=undefined;else if(typeof d==="boolean"){c=p;p=za[0];ga(b,"var");d=p;p=c}if(p===d)switch(p[b]){case "unused":p[b]="var";break;case "label":f("'{a}' is a statement label.",
h,b);break}else if(p["(global)"]){k.undef&&C[b]!=="boolean"&&f("'{a}' is not defined.",h,b);$a(h)}else switch(p[b]){case "closure":case "function":case "var":case "unused":f("'{a}' used out of scope.",h,b);break;case "label":f("'{a}' is a statement label.",h,b);break;case "outer":case "global":break;default:if(d===true)p[b]=true;else if(d===null){f("'{a}' is not allowed.",h,b);$a(h)}else if(typeof d!=="object"){if(k.undef)f("'{a}' is not defined.",h,b);else p[b]=true;$a(h)}else switch(d[b]){case "function":case "var":case "unused":d[b]=
"closure";p[b]=d["(global)"]?"global":"outer";break;case "closure":case "parameter":p[b]=d["(global)"]?"global":"outer";break;case "label":f("'{a}' is a statement label.",h,b)}}return this},led:function(){o("Expected an operator and instead saw '{a}'.",a,a.value)}};Ea("(regexp)",function(){return this});G("(endline)");G("(begin)");G("(end)").reach=true;G("</").reach=true;G("<!");G("<!--");G("--\>");G("(error)").reach=true;G("}").reach=true;G(")");G("]");G('"').reach=true;G("'").reach=true;G(";");
G(":").reach=true;G(",");G("#");G("@");B("else");B("case").reach=true;B("catch");B("default").reach=true;B("finally");Y("arguments");Y("eval");Y("false");Y("Infinity");Y("NaN");Y("null");Y("this");Y("true");Y("undefined");la("=","assign",20);la("+=","assignadd",20);la("-=","assignsub",20);la("*=","assignmult",20);la("/=","assigndiv",20).nud=function(){o("A regular expression literal can be confused with '/='.")};la("%=","assignmod",20);na("&=","assignbitand",20);na("|=","assignbitor",20);na("^=",
"assignbitxor",20);na("<<=","assignshiftleft",20);na(">>=","assignshiftright",20);na(">>>=","assignshiftrightunsigned",20);O("?",function(b,d){d.left=b;d.right=w(10);e(":");d["else"]=w(10);return d},30);O("||","or",40);O("&&","and",50);ma("|","bitor",70);ma("^","bitxor",80);ma("&","bitand",90);fa("==",function(b,d){if(k.eqeqeq)f("Expected '{a}' and instead saw '{b}'.",this,"===","==");else if(Fa(b))f("Use '{a}' to compare with '{b}'.",this,"===",b.value);else Fa(d)&&f("Use '{a}' to compare with '{b}'.",
this,"===",d.value);return this});fa("===");fa("!=",function(b,d){if(k.eqeqeq)f("Expected '{a}' and instead saw '{b}'.",this,"!==","!=");else if(Fa(b))f("Use '{a}' to compare with '{b}'.",this,"!==",b.value);else Fa(d)&&f("Use '{a}' to compare with '{b}'.",this,"!==",d.value);return this});fa("!==");fa("<");fa(">");fa("<=");fa(">=");ma("<<","shiftleft",120);ma(">>","shiftright",120);ma(">>>","shiftrightunsigned",120);O("in","in",120);O("instanceof","instanceof",120);O("+",function(b,d){var c=w(130);
if(b&&c&&b.id==="(string)"&&c.id==="(string)"){b.value+=c.value;b.character=c.character;Za.test(b.value)&&f("JavaScript URL.",b);return b}d.left=b;d.right=c;return d},130);T("+","num");O("-","sub",130);T("-","neg");O("*","mult",140);O("/","div",140);O("%","mod",140);rb("++","postinc");T("++","preinc");P["++"].exps=true;rb("--","postdec");T("--","predec");P["--"].exps=true;T("delete",function(){var b=w(0);if(!b||b.id!=="."&&b.id!=="[")f("Expected '{a}' and instead saw '{b}'.",a,".",a.value);this.first=
b;return this}).exps=true;T("~",function(){k.bitwise&&f("Unexpected '{a}'.",this,"~");w(150);return this});T("!",function(){this.right=w(150);this.arity="unary";Jb[this.right.id]===true&&f("Confusing use of '{a}'.",this,"!");return this});T("typeof","typeof");T("new",function(){var b=w(155),d;if(b&&b.id!=="function")if(b.identifier){b["new"]=true;switch(b.value){case "Object":f("Use the object literal notation {}.",h);break;case "Array":if(a.id!=="(")f("Use the array literal notation [].",h);else{e("(");
if(a.id===")")f("Use the array literal notation [].",h);else{d=w(0);b.dimension=d;if(d.id==="(number)"&&/[.+\-Ee]/.test(d.value)||d.id==="-"&&!d.right||d.id==="(string)"||d.id==="["||d.id==="{"||d.id==="true"||d.id==="false"||d.id==="null"||d.id==="undefined"||d.id==="Infinity")f("Use the array literal notation [].",h);a.id!==")"&&o("Use the array literal notation [].",h)}e(")")}this.first=b;return this;case "Number":case "String":case "Boolean":case "Math":case "JSON":f("Do not use {a} as a constructor.",
h,b.value);break;case "Function":k.evil||f("The Function constructor is eval.");break;case "Date":case "RegExp":break;default:if(b.id!=="function"){d=b.value.substr(0,1);if(k.newcap&&(d<"A"||d>"Z"))f("A constructor name should start with an uppercase letter.",h)}}}else b.id!=="."&&b.id!=="["&&b.id!=="("&&f("Bad constructor.",h);else f("Weird construction. Delete 'new'.",this);I(h,a);a.id!=="("&&f("Missing '()' invoking a constructor.");this.first=b;return this});P["new"].exps=true;O(".",function(b,
d){I(L,h);var c=ua();typeof c==="string"&&Ha(c);d.left=b;d.right=c;if(!k.evil&&b&&b.value==="document"&&(c==="write"||c==="writeln"))f("document.write can be a form of eval.",b);else if(k.adsafe)if(b&&b.value==="ADSAFE")if(c==="id"||c==="lib")f("ADsafe violation.",d);else if(c==="go"){if(r!=="script")f("ADsafe violation.",d);else if(Aa||a.id!=="("||N(0).id!=="(string)"||N(0).value!==S||N(1).id!==",")o("ADsafe violation: go.",d);Aa=true;oa=false}if(!k.evil&&(c==="eval"||c==="execScript"))f("eval is evil.");
else if(k.safe)for(;;){Wa[c]===true&&f("ADsafe restricted word '{a}'.",h,c);if(typeof C[b.value]!=="boolean"||a.id==="(")break;if(Mb[c]===true){a.id==="."&&f("ADsafe violation.",d);break}if(a.id!=="."){f("ADsafe violation.",d);break}e(".");h.left=d;h.right=c;d=h;c=ua();typeof c==="string"&&Ha(c)}return d},160,true);O("(",function(b,d){I(L,h);J();var c=0,g=[];if(b)if(b.type==="(identifier)"){if(b.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/))if(b.value!=="Number"&&b.value!=="String"&&b.value!==
"Boolean"&&b.value!=="Date")if(b.value==="Math")f("Math is not a function.",b);else k.newcap&&f("Missing 'new' prefix when invoking a constructor.",b)}else b.id==="."&&k.safe&&b.left.value==="Math"&&b.right==="random"&&f("ADsafe violation.",b);if(a.id!==")")for(;;){g[g.length]=w(10);c+=1;if(a.id!==",")break;R()}e(")");k.immed&&b.id==="function"&&a.id!==")"&&f("Wrap the entire immediate function invocation in parens.",d);J(L,h);if(typeof b==="object"){b.value==="parseInt"&&c===1&&f("Missing radix parameter.",
b);if(!k.evil)if(b.value==="eval"||b.value==="Function"||b.value==="execScript")f("eval is evil.",b);else if(g[0]&&g[0].id==="(string)"&&(b.value==="setTimeout"||b.value==="setInterval"))f("Implied eval is evil. Pass a function instead of a string.",b);!b.identifier&&b.id!=="."&&b.id!=="["&&b.id!=="("&&b.id!=="&&"&&b.id!=="||"&&b.id!=="?"&&f("Bad invocation.",b)}d.left=b;return d},155,true).exps=true;T("(",function(){J();var b=w(0);e(")",this);J(L,h);if(k.immed&&b.id==="function")a.id==="("?f("Move the invocation into the parens that contain the function.",
a):f("Do not wrap function literals in parens unless they are to be immediately invoked.",this);return b});O("[",function(b,d){J();var c=w(0),g;if(c&&c.type==="(string)"){if(k.safe&&Wa[c.value]===true)f("ADsafe restricted word '{a}'.",d,c.value);else if(!k.evil&&(c.value==="eval"||c.value==="execScript"))f("eval is evil.",d);else if(k.safe&&(c.value.charAt(0)==="_"||c.value.charAt(0)==="-"))f("ADsafe restricted subscript '{a}'.",d,c.value);Ha(c.value);if(!k.sub&&zb.test(c.value)){g=P[c.value];if(!g||
!g.reserved)f("['{a}'] is better written in dot notation.",c,c.value)}}else if(!c||c.type!=="(number)"||c.value<0)k.safe&&f("ADsafe subscripting.");e("]",d);J(L,h);d.left=b;d.right=c;return d},160,true);T("[",function(){var b=h.line!==a.line;this.first=[];if(b){F+=k.indent;if(a.from===F+k.indent)F+=k.indent}for(;a.id!=="(end)";){for(;a.id===",";){f("Extra comma.");e(",")}if(a.id==="]")break;b&&h.line!==a.line&&V();this.first.push(w(10));if(a.id===","){R();if(a.id==="]"&&!k.es5){f("Extra comma.",h);
break}}else break}if(b){F-=k.indent;V()}e("]",this);return this},160);(function(b){b.nud=function(){var d,c,g,i,j={};if(d=h.line!==a.line){F+=k.indent;if(a.from===F+k.indent)F+=k.indent}for(;;){if(a.id==="}")break;d&&V();if(a.value==="get"&&N().id!==":"){e("get");k.es5||o("get/set are ES5 features.");(g=gb())||o("Missing property name.");i=a;I(h,a);c=Ka(g);p["(loopage)"]&&f("Don't make functions within a loop.",i);(c=c["(params)"])&&f("Unexpected parameter '{a}' in get {b} function.",i,c[0],g);I(h,
a);e(",");V();e("set");i=gb();g!==i&&o("Expected {a} and instead saw {b}.",h,g,i);i=a;I(h,a);c=Ka(g);c=c["(params)"];if(!c||c.length!==1||c[0]!=="value")f("Expected (value) in set {a} function.",i,g)}else{g=gb();if(typeof g!=="string")break;e(":");A(h,a);w(10)}j[g]===true&&f("Duplicate member '{a}'.",a,g);j[g]=true;Ha(g);if(a.id===","){R();if(a.id===",")f("Extra comma.",h);else a.id==="}"&&!k.es5&&f("Extra comma.",h)}else break}if(d){F-=k.indent;V()}e("}",this);return this};b.fud=function(){o("Expected to see a statement and instead saw a block.",
h)}})(G("{"));ea("var",hb).exps=true;ka("function",function(){wa&&f("Function statements cannot be placed in blocks. Use a function expression or move the statement to the top of the outer function.",h);var b=ua();I(h,a);ga(b,"unused");Ka(b);a.id==="("&&a.line===h.line&&o("Function statements are not invocable. Wrap the whole function invocation in parens.");return this});T("function",function(){var b=Va();b?I(h,a):A(h,a);Ka(b);p["(loopage)"]&&f("Don't make functions within a loop.");return this});
ka("if",function(){var b=a;e("(");A(this,b);J();w(20);if(a.id==="="){f("Expected a conditional expression and instead saw an assignment.");e("=");w(20)}e(")",b);J(L,h);W(true);if(a.id==="else"){A(h,a);e("else");a.id==="if"||a.id==="switch"?Ya(true):W(true)}return this});ka("try",function(){var b,d;k.adsafe&&f("ADsafe try violation.",this);W(false);if(a.id==="catch"){e("catch");A(h,a);e("(");d=D;D=Object.create(d);b=a.value;a.type!=="(identifier)"?f("Expected an identifier and instead saw '{a}'.",
a,b):ga(b,"exception");e();e(")");W(false);b=true;D=d}if(a.id==="finally"){e("finally");W(false)}else{b||o("Expected '{a}' and instead saw '{b}'.",a,"catch",a.value);return this}});ka("while",function(){var b=a;p["(breakage)"]+=1;p["(loopage)"]+=1;e("(");A(this,b);J();w(20);if(a.id==="="){f("Expected a conditional expression and instead saw an assignment.");e("=");w(20)}e(")",b);J(L,h);W(true);p["(breakage)"]-=1;p["(loopage)"]-=1;return this}).labelled=true;B("with");ka("switch",function(){var b=
a,d=false;p["(breakage)"]+=1;e("(");A(this,b);J();this.condition=w(20);e(")",b);J(L,h);A(h,a);b=a;e("{");A(h,a);F+=k.indent;for(this.cases=[];;)switch(a.id){case "case":switch(p["(verb)"]){case "break":case "case":case "continue":case "return":case "switch":case "throw":break;default:f("Expected a 'break' statement before 'case'.",h)}V(-k.indent);e("case");this.cases.push(w(20));d=true;e(":");p["(verb)"]="case";break;case "default":switch(p["(verb)"]){case "break":case "continue":case "return":case "throw":break;
default:f("Expected a 'break' statement before 'default'.",h)}V(-k.indent);e("default");d=true;e(":");break;case "}":F-=k.indent;V();e("}",b);if(this.cases.length===1||this.condition.id==="true"||this.condition.id==="false")f("This 'switch' should be an 'if'.",this);p["(breakage)"]-=1;p["(verb)"]=undefined;return;case "(end)":o("Missing '{a}'.",a,"}");return;default:if(d)switch(h.id){case ",":o("Each value should have its own case label.");return;case ":":va();break;default:o("Missing ':' on a case clause.",
h)}else o("Expected '{a}' and instead saw '{b}'.",a,"case",a.value)}}).labelled=true;ea("debugger",function(){k.debug||f("All 'debugger' statements should be removed.");return this}).exps=true;(function(){var b=ea("do",function(){p["(breakage)"]+=1;p["(loopage)"]+=1;this.first=W(true);e("while");var d=a;A(h,d);e("(");J();w(20);if(a.id==="="){f("Expected a conditional expression and instead saw an assignment.");e("=");w(20)}e(")",d);J(L,h);p["(breakage)"]-=1;p["(loopage)"]-=1;return this});b.labelled=
true;b.exps=true})();ka("for",function(){var b=k.forin,d;d=a;p["(breakage)"]+=1;p["(loopage)"]+=1;e("(");A(this,d);J();if(N(a.id==="var"?1:0).id==="in"){if(a.id==="var"){e("var");hb(true)}else{switch(p[a.value]){case "unused":p[a.value]="var";break;case "var":break;default:f("Bad for in variable '{a}'.",a,a.value)}e()}e("in");w(20);e(")",d);d=W(true);if(!b&&(d.length>1||typeof d[0]!=="object"||d[0].value!=="if"))f("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",
this)}else{if(a.id!==";")if(a.id==="var"){e("var");hb()}else for(;;){w(0,"for");if(a.id!==",")break;R()}ca(h);e(";");if(a.id!==";"){w(20);if(a.id==="="){f("Expected a conditional expression and instead saw an assignment.");e("=");w(20)}}ca(h);e(";");a.id===";"&&o("Expected '{a}' and instead saw '{b}'.",a,")",";");if(a.id!==")")for(;;){w(0,"for");if(a.id!==",")break;R()}e(")",d);J(L,h);W(true)}p["(breakage)"]-=1;p["(loopage)"]-=1;return this}).labelled=true;ea("break",function(){var b=a.value;p["(breakage)"]===
0&&f("Unexpected '{a}'.",a,this.value);ca(this);if(a.id!==";")if(h.line===a.line){if(p[b]!=="label")f("'{a}' is not a statement label.",a,b);else D[b]!==p&&f("'{a}' is out of scope.",a,b);this.first=a;e()}Ga("break");return this}).exps=true;ea("continue",function(){var b=a.value;p["(breakage)"]===0&&f("Unexpected '{a}'.",a,this.value);ca(this);if(a.id!==";"){if(h.line===a.line){if(p[b]!=="label")f("'{a}' is not a statement label.",a,b);else D[b]!==p&&f("'{a}' is out of scope.",a,b);this.first=a;e()}}else p["(loopage)"]||
f("Unexpected '{a}'.",a,this.value);Ga("continue");return this}).exps=true;ea("return",function(){ca(this);a.id==="(regexp)"&&f("Wrap the /regexp/ literal in parens to disambiguate the slash operator.");if(a.id!==";"&&!a.reach){A(h,a);this.first=w(20)}Ga("return");return this}).exps=true;ea("throw",function(){ca(this);A(h,a);this.first=w(20);Ga("throw");return this}).exps=true;B("void");B("class");B("const");B("enum");B("export");B("extends");B("import");B("super");B("let");B("yield");B("implements");
B("interface");B("package");B("private");B("protected");B("public");B("static");var aa=function(b,d){var c,g;JSLINT.errors=[];C=Object.create(Lb);if(d){c=d.predef;if(c instanceof Array)for(g=0;g<c.length;g+=1)C[c[g]]=true;if(d.adsafe)d.safe=true;if(d.safe){d.browser=false;d.css=false;d.debug=false;d.devel=false;d.eqeqeq=true;d.evil=false;d.forin=false;d.nomen=true;d.on=false;d.rhino=false;d.safe=true;d.windows=false;d.strict=true;d.sub=false;d.undef=true;d.widget=false;C.Date=null;C.eval=null;C.Function=
null;C.Object=null;C.ADSAFE=false;C.lib=false}k=d}else k={};k.indent=k.indent||4;k.maxerr=k.maxerr||50;S="";Aa=oa=false;La={};if(k.approved)for(g=0;g<k.approved.length;g+=1)La[k.approved[g]]=k.approved[g];else La.test="test";lb="";for(g=0;g<k.indent;g+=1)lb+=" ";F=1;D=pb=Object.create(C);p={"(global)":true,"(name)":"(global)","(scope)":D,"(breakage)":0,"(loopage)":0};za=[p];Na={};ya=[];r=Oa=false;K=null;ia={};ha=null;ba={};wa=false;Da=[];qa=false;Ra=0;X.init(b);kb=true;Ua=false;L=h=a=P["(begin)"];
Pa();try{e();if(a.value.charAt(0)==="<"){a:{var i,j,n,u,q,l,t,x=k.white,m;r="html";Q="";for(K=null;;){switch(a.value){case "<":r="html";e("<");j={};l=a;l.identifier||f("Bad identifier {a}.",l,l.value);u=l.value;if(k.cap)u=u.toLowerCase();l.name=u;e();if(!K){K=[];c=u;if(c!=="html"&&!k.fragment)c==="div"&&k.adsafe?o("ADSAFE: Use the fragment option."):o("Expected '{a}' and instead saw '{b}'.",h,"html",c);if(k.adsafe){c==="html"&&o("Currently, ADsafe does not operate on whole HTML documents. It operates on <div> fragments and .js files.",
h);if(k.fragment)c!=="div"&&o("ADsafe violation: Wrap the widget in a div.",h);else o("Use the fragment option.",h)}k.browser=true;Pa()}t=fb[u];typeof t!=="object"&&o("Unrecognized tag '<{a}>'.",l,u);n=t.empty;for(l.type=u;;){if(a.id==="/"){e("/");a.id!==">"&&f("Expected '{a}' and instead saw '{b}'.",a,">",a.value);break}if(a.id&&a.id.substr(0,1)===">")break;if(!a.identifier){if(a.id==="(end)"||a.id==="(error)")o("Missing '>'.",a);f("Bad identifier.")}k.white=true;A(h,a);i=a.value;k.white=x;e();!k.cap&&
i!==i.toLowerCase()&&f("Attribute '{a}' not all lower case.",a,i);i=i.toLowerCase();Q="";U(j,i)&&f("Attribute '{a}' repeated.",a,i);if(i.slice(0,2)==="on"){k.on||f("Avoid HTML event handlers.");r="scriptstring";e("=");q=a.id;q!=='"'&&q!=="'"&&o("Missing quote.");Q=q;m=k.white;k.white=false;e(q);va("on");k.white=m;a.id!==q&&o("Missing close quote on script attribute.");r="html";Q="";e(q);t=false}else if(i==="style"){r="scriptstring";e("=");q=a.id;q!=='"'&&q!=="'"&&o("Missing quote.");r="styleproperty";
Q=q;e(q);wb();r="html";Q="";e(q);t=false}else if(a.id==="="){e("=");t=a.value;!a.identifier&&a.id!=='"'&&a.id!=="'"&&a.type!=="(string)"&&a.type!=="(number)"&&a.type!=="(color)"&&f("Expected an attribute value and instead saw '{a}'.",h,i);e()}else t=true;j[i]=t;c=i;g=t;var v=void 0,E=void 0;if(c==="id"){v=typeof g==="string"?g.toUpperCase():"";Na[v]===true&&f("Duplicate id='{a}'.",a,g);if(/^[A-Za-z][A-Za-z0-9._:\-]*$/.test(g)){if(k.adsafe)if(S)if(g.slice(0,S.length)!==S)f("ADsafe violation: An id must have a '{a}' prefix",
a,S);else/^[A-Z]+_[A-Z]+$/.test(g)||f("ADSAFE violation: bad id.");else{S=g;/^[A-Z]+_$/.test(g)||f("ADSAFE violation: bad id.")}}else f("Bad id: '{a}'.",a,g);E=g.search(Ub);E>=0&&f("Unexpected character '{a}' in {b}.",h,g.charAt(E),c);Na[v]=true}else if(c==="class"||c==="type"||c==="name"){E=g.search(Tb);E>=0&&f("Unexpected character '{a}' in {b}.",h,g.charAt(E),c);Na[v]=true}else if(c==="href"||c==="background"||c==="content"||c==="data"||c.indexOf("src")>=0||c.indexOf("url")>=0){k.safe&&vb.test(g)&&
o("ADsafe URL violation.");ya.push(g)}else if(c==="for"){if(k.adsafe)if(S)if(g.slice(0,S.length)!==S)f("ADsafe violation: An id must have a '{a}' prefix",a,S);else/^[A-Z]+_[A-Z]+$/.test(g)||f("ADSAFE violation: bad id.");else f("ADSAFE violation: bad id.")}else c==="name"&&k.adsafe&&g.indexOf("_")>=0&&f("ADsafe name violation.")}c=u;g=void 0;var Ca=fb[c];v=void 0;Oa=false;Ca||o("Unrecognized tag '<{a}>'.",a,c===c.toLowerCase()?c:c+" (capitalization error)");if(K.length>0){c==="html"&&o("Too many <html> tags.",
h);if(v=Ca.parent)v.indexOf(" "+K[K.length-1].name+" ")<0&&o("A '<{a}>' must be within '<{b}>'.",h,c,v);else if(!k.adsafe&&!k.fragment){g=K.length;do{g<=0&&o("A '<{a}>' must be within '<{b}>'.",h,c,"body");g-=1}while(K[g].name!=="body")}}switch(c){case "div":k.adsafe&&K.length===1&&!S&&f("ADSAFE violation: missing ID_.");break;case "script":r="script";e(">");F=a.from;j.lang&&f("lang is deprecated.",h);k.adsafe&&K.length!==1&&f("ADsafe script placement violation.",h);if(j.src){if(k.adsafe&&(!oa||!La[j.src]))f("ADsafe unapproved script source.",
h);j.type&&f("type is unnecessary.",h)}else{Aa&&o("ADsafe script violation.",h);va("script")}r="html";e("</");!a.identifier&&a.value!=="script"&&f("Expected '{a}' and instead saw '{b}'.",a,"script",a.value);e();r="outer";break;case "style":r="style";e(">");xb();r="html";e("</");!a.identifier&&a.value!=="style"&&f("Expected '{a}' and instead saw '{b}'.",a,"style",a.value);e();r="outer";break;case "input":switch(j.type){case "radio":case "checkbox":case "button":case "reset":case "submit":break;case "text":case "file":case "password":case "file":case "hidden":case "image":k.adsafe&&
j.autocomplete!=="off"&&f("ADsafe autocomplete violation.");break;default:f("Bad input type.")}break;case "applet":case "body":case "embed":case "frame":case "frameset":case "head":case "iframe":case "noembed":case "noframes":case "object":case "param":k.adsafe&&f("ADsafe violation: Disallowed tag: "+c);break}n||K.push(l);r="outer";e(">");break;case "</":r="html";e("</");a.identifier||f("Bad identifier.");u=a.value;if(k.cap)u=u.toLowerCase();e();K||o("Unexpected '{a}'.",a,"</"+u+">");(l=K.pop())||
o("Unexpected '{a}'.",a,"</"+u+">");l.name!==u&&o("Expected '{a}' and instead saw '{b}'.",a,"</"+l.name+">","</"+u+">");a.id!==">"&&o("Missing '{a}'.",a,">");r="outer";e(">");break;case "<!":k.safe&&f("ADsafe HTML violation.");for(r="html";;){e();if(a.id===">"||a.id==="(end)")break;a.value.indexOf("--")>=0&&f("Unexpected --.");a.value.indexOf("<")>=0&&f("Unexpected <.");a.value.indexOf(">")>=0&&f("Unexpected >.")}r="outer";e(">");break;case "(end)":break a;default:a.id==="(end)"?o("Missing '{a}'.",
a,"</"+K[K.length-1].value+">"):e()}if(K&&K.length===0&&(k.adsafe||!k.fragment||a.id==="(end)"))break}a.id!=="(end)"&&o("Unexpected material after the end.")}k.adsafe&&!Aa&&f("ADsafe violation: Missing ADSAFE.go.",this)}else switch(a.id){case "{":case "[":qa=k.laxbreak=true;ib();break;case "@":case "*":case "#":case ".":case ":":r="style";e();if(h.id!=="@"||!a.identifier||a.value!=="charset"||h.line!==1||h.from!==1)o('A css file should begin with @charset "UTF-8";');e();a.type!=="(string)"&&a.value!==
"UTF-8"&&o('A css file should begin with @charset "UTF-8";');e();e(";");xb();break;default:k.adsafe&&k.fragment&&o("Expected '{a}' and instead saw '{b}'.",a,"<div>",a.value);va("lib")}e("(end)")}catch(z){if(z)JSLINT.errors.push({reason:z.message,line:z.line||a.line,character:z.character||a.from},null)}return JSLINT.errors.length===0};aa.data=function(){var b={functions:[]},d;d=[];var c,g,i,j,n=[];if(aa.errors.length)b.errors=aa.errors;if(qa)b.json=true;for(j in ba)U(ba,j)&&d.push({name:j,line:ba[j]});
if(d.length>0)b.implieds=d;if(ya.length>0)b.urls=ya;d=yb(D);if(d.length>0)b.globals=d;for(g=1;g<za.length;g+=1){c=za[g];d={};for(i=0;i<Ba.length;i+=1)d[Ba[i]]=[];for(j in c)if(U(c,j)&&j.charAt(0)!=="("){i=c[j];if(Object.prototype.toString.apply(d[i])==="[object Array]"){d[i].push(j);i==="unused"&&n.push({name:j,line:c["(line)"],"function":c["(name)"]})}}for(i=0;i<Ba.length;i+=1)d[Ba[i]].length===0&&delete d[Ba[i]];d.name=c["(name)"];d.param=c["(params)"];d.line=c["(line)"];d.last=c["(last)"];b.functions.push(d)}if(n.length>
0)b.unused=n;for(j in ia)if(typeof ia[j]==="number"){b.member=ia;break}return b};aa.report=function(b){function d(l,t){var x,m,v;if(t){q.push("<div><i>"+l+"</i> ");t=t.sort();for(m=0;m<t.length;m+=1)if(t[m]!==v){v=t[m];q.push((x?", ":"")+v);x=true}q.push("</div>")}}var c=aa.data(),g=[],i,j,n;i="";var u,q=[];if(c.errors||c.implieds||c.unused){j=true;q.push("<div id=errors><i>Error:</i>");if(c.errors)for(n=0;n<c.errors.length;n+=1)if(g=c.errors[n]){i=g.evidence||"";q.push("<p>Problem"+(isFinite(g.line)?
" at line "+g.line+" character "+g.character:"")+": "+g.reason.entityify()+"</p><p class=evidence>"+(i&&(i.length>80?i.slice(0,77)+"...":i).entityify())+"</p>")}if(c.implieds){g=[];for(n=0;n<c.implieds.length;n+=1)g[n]="<code>"+c.implieds[n].name+"</code>&nbsp;<i>"+c.implieds[n].line+"</i>";q.push("<p><i>Implied global:</i> "+g.join(", ")+"</p>")}if(c.unused){g=[];for(n=0;n<c.unused.length;n+=1)g[n]="<code><u>"+c.unused[n].name+"</u></code>&nbsp;<i>"+c.unused[n].line+"</i> <code>"+c.unused[n]["function"]+
"</code>";q.push("<p><i>Unused variable:</i> "+g.join(", ")+"</p>")}c.json&&q.push("<p>JSON: bad.</p>");q.push("</div>")}if(!b){q.push("<br><div id=functions>");c.urls&&d("URLs<br>",c.urls,"<br>");if(r==="style")q.push("<p>CSS.</p>");else if(c.json&&!j)q.push("<p>JSON: good.</p>");else c.globals?q.push("<div><i>Global</i> "+c.globals.sort().join(", ")+"</div>"):q.push("<div><i>No new global variables introduced.</i></div>");for(n=0;n<c.functions.length;n+=1){b=c.functions[n];q.push("<br><div class=function><i>"+
b.line+"-"+b.last+"</i> "+(b.name||"")+"("+(b.param?b.param.join(", "):"")+")</div>");d("<big><b>Unused</b></big>",b.unused);d("Closure",b.closure);d("Variable",b["var"]);d("Exception",b.exception);d("Outer",b.outer);d("Global",b.global);d("Label",b.label)}if(c.member){g=yb(c.member);if(g.length){g=g.sort();i="<br><pre id=members>/*members ";j=10;for(n=0;n<g.length;n+=1){b=g[n];u=b.name();if(j+u.length>72){q.push(i+"<br>");i="    ";j=1}j+=u.length+2;if(c.member[b]===1)u="<i>"+u+"</i>";if(n<g.length-
1)u+=", ";i+=u}q.push(i+"<br>*/</pre>")}q.push("</div>")}}return q.join("")};aa.jslint=aa;aa.edition="2010-04-06";return aa}();
