
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
var JSLINT=function(){function fb(){}function M(a,d){return Object.prototype.hasOwnProperty.call(a,d)}function la(a,d){for(var b in d)M(d,b)&&(a[b]=d[b])}function Ja(){i.safe||(i.rhino&&la(z,ub),i.devel&&la(z,vb),i.browser&&la(z,wb),i.windows&&la(z,xb),i.widget&&la(z,yb))}function Ka(a,d,b){throw{name:"JSLintError",line:d,character:b,message:a+" ("+Math.floor(100*(d/ma.length))+"% scanned)."};}function c(f,d,b,e,c,h){var j,d=d||a;"(end)"===d.id&&(d=g);j=d.line||0;d=d.from||0;b={id:"(error)",raw:f,
evidence:ma[j-1]||"",line:j,character:d,a:b,b:e,c:c,d:h};b.reason=f.supplant(b);JSLINT.errors.push(b);i.passfail&&Ka("Stopping. ",j,d);va+=1;va>=i.maxerr&&Ka("Too many errors.",j,d);return b}function n(a,d,b,e,N,g,i){return c(a,{line:d,from:b},e,N,g,i)}function m(a,d,b,e,N,g){a=c(a,d,b,e,N,g);Ka("Stopping, unable to continue.",a.line,a.character)}function v(a,d,b,e,c,g,i){return m(a,{line:d,from:b},e,c,g,i)}function Z(f,d){i.safe&&j["(global)"]&&"boolean"!==typeof z[f]?c("ADsafe global: "+f+".",g):
"hasOwnProperty"===f&&c("'hasOwnProperty' is a really bad name.");M(j,f)&&!j["(global)"]&&c(!0===j[f]?"'{a}' was used before it was defined.":"'{a}' is already defined.",a,f);j[f]=d;j["(global)"]?(gb[f]=j,M(U,f)&&(c("'{a}' was used before it was defined.",a,f),delete U[f])):A[f]=j}function C(a){for(var a=a||0,d=0,b;d<=a;)(b=wa[d])||(b=wa[d]=O.token()),d+=1;return b}function e(f,d){switch(g.id){case "(number)":"."===a.id&&c("A dot following a number can be confused with a decimal point.",g);break;
case "-":("-"===a.id||"--"===a.id)&&c("Confusing minusses.");break;case "+":("+"===a.id||"++"===a.id)&&c("Confusing plusses.")}if("(string)"===g.type||g.identifier)La=g.value;f&&a.id!==f&&(d?"(end)"===a.id?c("Unmatched '{a}'.",d,d.id):c("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",a,f,d.id,d.line,a.value):("(identifier)"!==a.type||a.value!==f)&&c("Expected '{a}' and instead saw '{b}'.",a,f,a.value));E=g;for(g=a;;){a=wa.shift()||O.token();if("(end)"===a.id||"(error)"===a.id)break;
if("special"===a.type){var b=void 0,e=void 0,N=void 0,h=a.value,j=b=void 0;switch(h){case "*/":m("Unbegun comment.");break;case "/*members":case "/*member":h="/*members";$||($={});e=$;break;case "/*jslint":i.safe&&c("ADsafe restriction.");e=i;N=zb;break;case "/*global":i.safe&&c("ADsafe restriction."),e=z}b=O.token();a:for(;;){for(;;){if("special"===b.type&&"*/"===b.value)break a;if("(endline)"!==b.id&&","!==b.id)break;b=O.token()}"(string)"!==b.type&&("(identifier)"!==b.type&&"/*members"!==h)&&m("Bad option.",
b);j=O.token();":"===j.id?(j=O.token(),e===$&&m("Expected '{a}' and instead saw '{b}'.",b,"*/",":"),"indent"===b.value&&"/*jslint"===h?(b=+j.value,("number"!==typeof b||!isFinite(b)||0>=b||Math.floor(b)!==b)&&m("Expected a small integer and instead saw '{a}'.",j,j.value),e.white=!0,e.indent=b):"maxerr"===b.value&&"/*jslint"===h?(b=+j.value,("number"!==typeof b||!isFinite(b)||0>=b||Math.floor(b)!==b)&&m("Expected a small integer and instead saw '{a}'.",j,j.value),e.maxerr=b):"maxlen"===b.value&&"/*jslint"===
h?(b=+j.value,("number"!==typeof b||!isFinite(b)||0>=b||Math.floor(b)!==b)&&m("Expected a small integer and instead saw '{a}'.",j,j.value),e.maxlen=b):"true"===j.value?e[b.value]=!0:"false"===j.value?e[b.value]=!1:m("Bad option value.",j),b=O.token()):("/*jslint"===h&&m("Missing option value.",b),e[b.value]=!1,b=j)}N&&Ja()}else if("(endline)"!==a.id)break}}function o(f,d){var b;"(end)"===a.id&&m("Unexpected early end of program.",g);e();i.safe&&("boolean"===typeof z[g.value]&&"("!==a.id&&"."!==a.id)&&
c("ADsafe violation.",g);d&&(La="anonymous",j["(verb)"]=g.value);if(!0===d&&g.fud)b=g.fud();else{if(g.nud)b=g.nud();else{if("(number)"===a.type&&"."===g.id)return c("A leading decimal point can be confused with a dot: '.{a}'.",g,a.value),e(),g;m("Expected an identifier and instead saw '{a}'.",g,g.id)}for(;f<a.lbp;)e(),g.led?b=g.led(b):m("Expected an operator and instead saw '{a}'.",g,g.id)}return b}function x(f,d){f=f||g;d=d||a;(i.white||"styleproperty"===p||"style"===p)&&f.character!==d.from&&f.line===
d.line&&c("Unexpected space after '{a}'.",d,f.value)}function u(f,d){f=f||g;d=d||a;i.white&&!f.comment&&f.line===d.line&&x(f,d)}function w(f,d){i.white&&(f=f||g,d=d||a,f.line===d.line&&f.character===d.from&&c("Missing space after '{a}'.",a,f.value))}function hb(f,d){f=f||g;d=d||a;!i.laxbreak&&f.line!==d.line?c("Bad line breaking before '{a}'.",d,d.id):i.white&&(f=f||g,d=d||a,f.character===d.from&&c("Missing space after '{a}'.",a,f.value))}function P(f){i.white&&"(end)"!==a.id&&(f=t+(f||0),a.from!==
f&&c("Expected '{a}' to have an indentation at {b} instead at {c}.",a,a.value,f,a.from))}function V(f){f=f||g;f.line!==a.line&&c("Line breaking error '{a}'.",f,f.value)}function J(){g.line!==a.line?i.laxbreak||c("Bad line breaking before '{a}'.",g,a.id):g.character!==a.from&&i.white&&c("Unexpected space after '{a}'.",a,g.value);e(",");w(g,a)}function W(a,d){var b=G[a];if(!b||"object"!==typeof b)G[a]=b={id:a,lbp:d,value:a};return b}function y(a){return W(a,0)}function X(a,d){var b=y(a);b.identifier=
b.reserved=!0;b.fud=d;return b}function ca(a,d){var b=X(a,d);b.block=!0;return b}function Ma(a){var d=a.id.charAt(0);if("a"<=d&&"z">=d||"A"<=d&&"Z">=d)a.identifier=a.reserved=!0;return a}function L(a,d){var b=W(a,150);Ma(b);b.nud="function"===typeof d?d:function(){this.right=o(150);this.arity="unary";if("++"===this.id||"--"===this.id)i.plusplus?c("Unexpected use of '{a}'.",this,this.id):(!this.right.identifier||this.right.reserved)&&("."!==this.right.id&&"["!==this.right.id)&&c("Bad operand.",this);
return this};return b}function xa(a,d){var b=y(a);b.type=a;b.nud=d;return b}function s(a,d){var b=xa(a,d);b.identifier=b.reserved=!0;return b}function R(a){return s(a,function(){if("this"===this.id||"arguments"===this.id||"eval"===this.id)Na&&j["(global)"]?c("Strict violation.",this):i.safe&&c("ADsafe violation.",this);return this})}function B(f,d,b,e){f=W(f,b);Ma(f);f.led=function(f){e||(hb(E,g),w(g,a));if("function"===typeof d)return d(f,this);this.left=f;this.right=o(b);return this};return f}function Y(f,
d){var b=W(f,100);b.led=function(f){hb(E,g);w(g,a);var b=o(100);f&&"NaN"===f.id||b&&"NaN"===b.id?c("Use the isNaN function to compare with NaN.",this):d&&d.apply(this,[f,b]);"!"===f.id&&c("Confusing use of '{a}'.",f,"!");"!"===b.id&&c("Confusing use of '{a}'.",f,"!");this.left=f;this.right=b;return this};return b}function ya(a){return a&&("(number)"===a.type&&0===+a.value||"(string)"===a.type&&" "===a.value||"true"===a.type||"false"===a.type||"undefined"===a.type||"null"===a.type)}function da(a){W(a,
20).exps=!0;return B(a,function(a,b){var f;b.left=a;!1===z[a.value]&&!0===A[a.value]["(global)"]&&c("Read only.",a);if(i.safe){f=a;do"boolean"===typeof z[f.value]&&c("ADsafe violation.",f),f=f.left;while(f)}if(a){if("."===a.id||"["===a.id)return(!a.left||"arguments"===a.left.value)&&c("Bad assignment.",b),b.right=o(19),b;if(a.identifier&&!a.reserved)return"exception"===j[a.value]&&c("Do not assign to the exception parameter.",a),b.right=o(19),b;a===G["function"]&&c("Expected an identifier in an assignment and instead saw a function invocation.",
g)}m("Bad assignment.",b)},20)}function ea(a,d,b){a=W(a,b);Ma(a);a.led="function"===typeof d?d:function(a){i.bitwise&&c("Unexpected use of '{a}'.",this,this.id);this.left=a;this.right=o(b);return this};return a}function fa(f){W(f,20).exps=!0;return B(f,function(f,b){i.bitwise&&c("Unexpected use of '{a}'.",b,b.id);w(E,g);w(g,a);if(f){if("."===f.id||"["===f.id||f.identifier&&!f.reserved)return o(19),b;f===G["function"]&&c("Expected an identifier in an assignment, and instead saw a function invocation.",
g);return b}m("Bad assignment.",b)},20)}function ib(a){a=W(a,150);a.led=function(a){i.plusplus?c("Unexpected use of '{a}'.",this,this.id):(!a.identifier||a.reserved)&&("."!==a.id&&"["!==a.id)&&c("Bad operand.",this);this.left=a;return this};return a}function Oa(){if(a.identifier)return e(),i.safe&&Pa[g.value]?c("ADsafe violation: '{a}'.",g,g.value):g.reserved&&!i.es5&&c("Expected an identifier and instead saw '{a}' (a reserved word).",g,g.id),g.value}function na(){var f=Oa();if(f)return f;"function"===
g.id&&"("===a.id?c("Missing name in function statement."):m("Expected an identifier and instead saw '{a}'.",a,a.value)}function za(f){var d=0,b;if(!(";"!==a.id||Qa))for(;;){b=C(d);if(b.reach)break;if("(endline)"!==b.id){if("function"===b.id){c("Inner functions should be listed at the top of the outer function.",b);break}c("Unreachable '{a}' after '{b}'.",b,b.value,f);break}d+=1}}function Ra(f){var d=t,b=A,F=a;if(";"===F.id)c("Unnecessary semicolon.",F),e(";");else return F.identifier&&(!F.reserved&&
":"===C().id)&&(e(),e(":"),A=Object.create(b),Z(F.value,"label"),a.labelled||c("Label '{a}' on {b} statement.",a,F.value,a.value),Sa.test(F.value+":")&&c("Label '{a}' looks like a javascript url.",F,F.value),a.label=F.value,F=a),f||P(),f=o(0,!0),F.block||(!f||!f.exps?c("Expected an assignment or function call and instead saw an expression.",g):"("===f.id&&"new"===f.left.id&&c("Do not use 'new' for side effects."),";"!==a.id?n("Missing semicolon.",g.line,g.from+g.value.length):(x(g,a),e(";"),w(g,a))),
t=d,A=b,f}function jb(){return"use strict"===a.value?(e(),e(";"),Na=!0):!1}function oa(f){var d=[],b;f&&(!jb()&&i.strict)&&c('Missing "use strict" statement.',a);if(i.adsafe)switch(f){case "script":ga||("ADSAFE"!==a.value||"."!==C(0).id||"id"!==C(1).value&&"go"!==C(1).value)&&m("ADsafe violation: Missing ADSAFE.id or ADSAFE.go.",a);"ADSAFE"===a.value&&("."===C(0).id&&"id"===C(1).value)&&(ga&&m("ADsafe violation.",a),e("ADSAFE"),e("."),e("id"),e("("),a.value!==K&&m("ADsafe violation: id does not match.",
a),e("(string)"),e(")"),e(";"),ga=!0);break;case "lib":if("ADSAFE"===a.value)return e("ADSAFE"),e("."),e("lib"),e("("),e("(string)"),J(),f=o(0),"function"!==f.id&&m("The second argument to lib must be a function.",f),(b=(b=f.funct["(params)"])&&b.join(", "))&&"lib"!==b&&m("Expected '{a}' and instead saw '{b}'.",f,"(lib)","("+b+")"),e(")"),e(";"),d;m("ADsafe lib violation.")}for(;!a.reach&&"(end)"!==a.id;)";"===a.id?(c("Unnecessary semicolon."),e(";")):d.push(Ra());return d}function Q(f){var d,b=pa,
F=t,N=A,h;pa=f;A=Object.create(A);w(g,a);h=a;if("{"===a.id){e("{");if("}"!==a.id||g.line!==a.line){for(t+=i.indent;!f&&a.from>t;)t+=i.indent;f||jb();d=oa();t-=i.indent;P()}e("}",h);t=F}else c("Expected '{a}' and instead saw '{b}'.",a,"{",a.value),Qa=!0,d=[Ra()],Qa=!1;j["(verb)"]=null;A=N;pa=b;return d}function kb(){return this}function Aa(a){$&&"boolean"!==typeof $[a]&&c("Unexpected /*member '{a}'.",g,a);aa[a]="number"===typeof aa[a]?aa[a]+1:1}function Ta(a){var d=a.value,a=a.line,b=U[d];"function"===
typeof b&&(b=!1);b?b[b.length-1]!==a&&b.push(a):(b=[a],U[d]=b)}function Ua(){if(a.identifier)return e(),!0}function Ba(){"-"===a.id&&(e("-"),x(),V());if("(number)"===a.type)return e("(number)"),!0}function Va(){if("(string)"===a.type)return e(),!0}function S(){var f,d,b;if(a.identifier){b=a.value;if("rgb"===b||"rgba"===b){e();e("(");for(f=0;3>f;f+=1)f&&e(","),d=a.value,"(number)"!==a.type||0>d?(c("Expected a positive number and instead saw '{a}'",a,d),e()):(e(),"%"===a.id?(e("%"),100<d&&c("Expected a percentage and instead saw '{a}'",
g,d)):255<d&&c("Expected a small number and instead saw '{a}'",g,d));"rgba"===b&&(e(","),d=+a.value,("(number)"!==a.type||0>d||1<d)&&c("Expected a number between 0 and 1 and instead saw '{a}'",a,d),e(),"%"===a.id&&(c("Unexpected '%'."),e("%")));e(")");return!0}if(!0===Ab[a.value])return e(),!0}else if("(color)"===a.type)return e(),!0;return!1}function r(){"-"===a.id&&(e("-"),x(),V());return"(number)"===a.type?(e(),"(string)"!==a.type&&!0===lb[a.value]?(x(),e()):0!==+g.value&&c("Expected a linear unit and instead saw '{a}'.",
a,a.value),!0):!1}function ha(){if(a.identifier)switch(a.value){case "thin":case "medium":case "thick":return e(),!0}else return r()}function qa(){if(a.identifier){if("auto"===a.value)return e(),!0}else return r()}function ba(){var f,d;if(a.identifier&&"url"===a.value){a=O.range("(",")");d=a.value;f=d.charAt(0);if('"'===f||"'"===f)d.slice(-1)!==f?c("Bad url string."):(d=d.slice(1,-1),0<=d.indexOf(f)&&c("Bad url string."));d||c("Missing url.");e();i.safe&&mb.test(d)&&m("ADsafe URL violation.");ra.push(d);
return!0}return!1}function Wa(f){var d=0,b,c,g,i=0;switch(typeof f){case "function":return f();case "string":return a.identifier&&a.value===f?(e(),!0):!1}for(;;){if(d>=f.length)return!1;g=f[d];d+=1;if(!0===g)break;else"number"===typeof g?(b=g,g=f[d],d+=1):b=1;for(c=!1;0<b;)if(Wa(g))c=!0,b-=1;else break;if(c)return!0}i=d;for(b=[];;){g=!1;for(d=i;d<f.length;d+=1)if(!b[d]&&Wa(Ca[f[d]])){g=c=!0;b[d]=!0;break}if(!g)return c}}function nb(){for(var f;!("}"===a.id||"(end)"===a.id||H&&a.id===H);){for(;";"===
a.id;)c("Misplaced ';'."),e(";");for(f=void 0;"*"===a.id||"#"===a.id||"_"===a.value;)i.css||c("Unexpected '{a}'.",a,a.value),e();"-"===a.id?(i.css||c("Unexpected '{a}'.",a,a.value),e("-"),a.identifier||c("Expected a non-standard style attribute and instead saw '{a}'.",a,a.value),e(),f=Xa):(a.identifier?M(Ca,a.value)?f=Ca[a.value]:(f=Xa,i.css||c("Unrecognized style attribute '{a}'.",a,a.value)):c("Excepted a style attribute, and instead saw '{a}'.",a,a.value),e());e(":");a.identifier&&"inherit"===
a.value?e():Wa(f)||(c("Unexpected token '{a}'.",a,a.value),e());"!"===a.id&&(e("!"),x(),a.identifier&&"important"===a.value?e():c("Expected '{a}' and instead saw '{b}'.",a,"important",a.value));"}"===a.id||a.id===H?c("Missing '{a}'.",a,";"):e(";")}}function Ya(){if(a.identifier)M(Za,a.value)||c("Expected a tagName, and instead saw {a}.",a,a.value),e();else switch(a.id){case ">":case "+":e();Ya();break;case ":":e(":");switch(a.value){case "active":case "after":case "before":case "checked":case "disabled":case "empty":case "enabled":case "first-child":case "first-letter":case "first-line":case "first-of-type":case "focus":case "hover":case "last-of-type":case "link":case "only-of-type":case "root":case "target":case "visited":e();
break;case "lang":e();e("(");a.identifier||c("Expected a lang code, and instead saw :{a}.",a,a.value);e(")");break;case "nth-child":case "nth-last-child":case "nth-last-of-type":case "nth-of-type":e();e("(");a:if("(number)"===a.id)e(),"n"===a.value&&a.identifier&&(x(),e(),"+"===a.id&&(x(),e("+"),x(),e("(number)")));else{switch(a.value){case "odd":case "even":if(a.identifier){e();break a}}c("Unexpected token '{a}'.",a,a.value)}e(")");break;case "not":e();e("(");":"===a.id&&"not"===C(0).value&&c("Nested not.");
Ya();e(")");break;default:c("Expected a pseudo, and instead saw :{a}.",a,a.value)}break;case "#":e("#");a.identifier||c("Expected an id, and instead saw #{a}.",a,a.value);e();break;case "*":e("*");break;case ".":e(".");a.identifier||c("Expected a class, and instead saw #.{a}.",a,a.value);e();break;case "[":e("[");a.identifier||c("Expected an attribute, and instead saw [{a}].",a,a.value);e();if("="===a.id||"~="===a.value||"$="===a.value||"|="===a.value||"*="===a.id||"^="===a.id)e(),"(string)"!==a.type&&
c("Expected a string, and instead saw {a}.",a,a.value),e();e("]");break;default:m("Expected a CSS selector, and instead saw {a}.",a,a.value)}}function ob(){for(var f;"@"===a.id;)if(f=C(),f.identifier&&"import"===f.value)e("@"),e(),ba()||(c("Expected '{a}' and instead saw '{b}'.",a,"url",a.value),e()),e(";");else break;for(;"</"!==a.id&&"(end)"!==a.id;){a:{f=void 0;if("{"===a.id)c("Expected a style pattern, and instead saw '{a}'.",a,a.id);else if("@"===a.id){e("@");f=a.value;if(a.identifier&&!0===
Bb[f]){e();break a}c("Expected an at-rule, and instead saw @{a}.",a,f)}for(;;){Ya();if("</"===a.id||"{"===a.id||"(end)"===a.id)break a;","===a.id&&J()}}p="styleproperty";";"===a.id?e(";"):(e("{"),nb(),p="style",e("}"))}}function $a(){var f=Oa(!0);f||("(string)"===a.id?(f=a.value,e()):"(number)"===a.id&&(f=a.value.toString(),e()));return f}function Da(f){var d,b=A;A=Object.create(b);d=j={"(name)":f||'"'+La+'"',"(line)":a.line,"(context)":j,"(breakage)":0,"(loopage)":0,"(scope)":A};g.funct=j;sa.push(j);
f&&Z(f,"function");var f=j,c;a:{var N=a,i=[];e("(");u();if(")"===a.id)e(")"),u(E,g);else for(;;)if(c=na(),i.push(c),Z(c,"parameter"),","===a.id)J();else{e(")",N);u(E,g);c=i;break a}c=void 0}f["(params)"]=c;Q(!1);A=b;j["(last)"]=g.line;j=j["(context)"];return d}function ab(f){var d,b;j["(onevar)"]&&i.onevar?c("Too many var statements."):j["(global)"]||(j["(onevar)"]=!0);for(this.first=[];;){w(g,a);d=na();j["(global)"]&&!1===z[d]&&c("Redefinition of '{a}'.",g,d);Z(d,"unused");if(f)break;b=g;this.first.push(g);
"="===a.id&&(w(g,a),e("="),w(g,a),"undefined"===a.id&&c("It is not necessary to initialize '{a}' to 'undefined'.",g,d),"="===C(0).id&&a.identifier&&m("Variable {a} was not declared correctly.",a,a.value),d=o(0),b.first=d);if(","!==a.id)break;J()}return this}function bb(){switch(a.id){case "{":var f={},d=a;e("{");if("}"!==a.id)for(;;){if("(end)"===a.id)m("Missing '}' to match '{' from line {a}.",a,d.line);else if("}"===a.id){c("Unexpected comma.",g);break}else","===a.id?m("Unexpected comma.",a):"(string)"!==
a.id&&c("Expected a string and instead saw {a}.",a,a.value);!0===f[a.value]?c("Duplicate key '{a}'.",a,a.value):"__proto__"===a.value?c("Stupid key '{a}'.",a,a.value):f[a.value]=!0;e();e(":");bb();if(","!==a.id)break;e(",")}e("}");break;case "[":f=a;e("[");if("]"!==a.id)for(;;){if("(end)"===a.id)m("Missing ']' to match '[' from line {a}.",a,f.line);else if("]"===a.id){c("Unexpected comma.",g);break}else","===a.id&&m("Unexpected comma.",a);bb();if(","!==a.id)break;e(",")}e("]");break;case "true":case "false":case "null":case "(number)":case "(string)":e();
break;case "-":e("-");g.character!==a.from&&c("Unexpected space after '-'.",g);x(g,a);e("(number)");break;default:m("Expected a JSON value.",a)}}function pb(a){var d=[],b;for(b in a)M(a,b)&&d.push(b);return d}var K,ga,ta,La,Ea,Bb={media:!0,"font-face":!0,page:!0},Cb={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},Pa={arguments:!0,callee:!0,caller:!0,constructor:!0,eval:!0,prototype:!0,stack:!0,unwatch:!0,valueOf:!0,watch:!0},zb={adsafe:!0,bitwise:!0,
browser:!0,cap:!0,css:!0,debug:!0,devel:!0,eqeqeq:!0,es5:!0,evil:!0,forin:!0,fragment:!0,immed:!0,laxbreak:!0,newcap:!0,nomen:!0,on:!0,onevar:!0,passfail:!0,plusplus:!0,regexp:!0,rhino:!0,undef:!0,safe:!0,windows:!0,strict:!0,sub:!0,white:!0,widget:!0},wb={addEventListener:!1,blur:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,defaultStatus:!1,document:!1,event:!1,focus:!1,frames:!1,getComputedStyle:!1,history:!1,Image:!1,length:!1,location:!1,moveBy:!1,moveTo:!1,name:!1,navigator:!1,onbeforeunload:!0,
onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,setInterval:!1,setTimeout:!1,status:!1,top:!1,XMLHttpRequest:!1},Ca,Xa,Ab={aliceblue:!0,antiquewhite:!0,aqua:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,black:!0,blanchedalmond:!0,blue:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,
crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dodgerblue:!0,firebrick:!0,floralwhite:!0,forestgreen:!0,fuchsia:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,gray:!0,green:!0,greenyellow:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,
khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgreen:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightsteelblue:!0,lightyellow:!0,lime:!0,limegreen:!0,linen:!0,magenta:!0,maroon:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,
moccasin:!0,navajowhite:!0,navy:!0,oldlace:!0,olive:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,purple:!0,red:!0,rosybrown:!0,royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,silver:!0,skyblue:!0,slateblue:!0,slategray:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,teal:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,white:!0,
whitesmoke:!0,yellow:!0,yellowgreen:!0},ia,cb,lb={"%":!0,cm:!0,em:!0,ex:!0,"in":!0,mm:!0,pc:!0,pt:!0,px:!0},Fa,vb={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},Db={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},j,ua="closure exception global label outer unused var".split(" "),sa,gb,Za={a:{},abbr:{},acronym:{},address:{},applet:{},area:{empty:!0,parent:" map "},article:{},aside:{},audio:{},b:{},base:{empty:!0,parent:" head "},bdo:{},big:{},blockquote:{},
body:{parent:" html noframes "},br:{empty:!0},button:{},canvas:{parent:" body p div th td "},caption:{parent:" table "},center:{},cite:{},code:{},col:{empty:!0,parent:" table colgroup "},colgroup:{parent:" table "},command:{parent:" menu "},datalist:{},dd:{parent:" dl "},del:{},details:{},dialog:{},dfn:{},dir:{},div:{},dl:{},dt:{parent:" dl "},em:{},embed:{},fieldset:{},figure:{},font:{},footer:{},form:{},frame:{empty:!0,parent:" frameset "},frameset:{parent:" html frameset "},h1:{},h2:{},h3:{},h4:{},
h5:{},h6:{},head:{parent:" html "},header:{},hgroup:{},html:{parent:"*"},hr:{empty:!0},i:{},iframe:{},img:{empty:!0},input:{empty:!0},ins:{},kbd:{},keygen:{},label:{},legend:{parent:" details fieldset figure "},li:{parent:" dir menu ol ul "},link:{empty:!0,parent:" head "},map:{},mark:{},menu:{},meta:{empty:!0,parent:" head noframes noscript "},meter:{},nav:{},noframes:{parent:" html body "},noscript:{parent:" body head noframes "},object:{},ol:{},optgroup:{parent:" select "},option:{parent:" optgroup select "},
output:{},p:{},param:{empty:!0,parent:" applet object "},pre:{},progress:{},q:{},rp:{},rt:{},ruby:{},samp:{},script:{empty:!0,parent:" body div frame head iframe p pre span "},section:{},select:{},small:{},span:{},source:{},strong:{},style:{parent:" head ",empty:!0},sub:{},sup:{},table:{},tbody:{parent:" table "},td:{parent:" tr "},textarea:{},tfoot:{parent:" table "},th:{parent:" tr "},thead:{parent:" table "},time:{},title:{parent:" head "},tr:{parent:" table tbody thead tfoot "},tt:{},u:{},ul:{},
"var":{},video:{}},Ga,U,pa,t,ja,ma,wa,aa,$,a,Qa,i,z,db,E,ub={defineClass:!1,deserialize:!1,gc:!1,help:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},A,xb={ActiveXObject:!1,CScript:!1,Debug:!1,Enumerator:!1,System:!1,VBArray:!1,WScript:!1},Ha,D,Eb={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,
isNaN:!1,JSON:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},Fb={E:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,PI:!0,SQRT1_2:!0,SQRT2:!0,MAX_VALUE:!0,MIN_VALUE:!0,NEGATIVE_INFINITY:!0,POSITIVE_INFINITY:!0},Na,G={},Ia,g,ra,va,yb={alert:!0,animator:!0,appleScript:!0,beep:!0,bytesToUIString:!0,Canvas:!0,chooseColor:!0,chooseFile:!0,chooseFolder:!0,closeWidget:!0,COM:!0,convertPathToHFS:!0,convertPathToPlatform:!0,
CustomAnimation:!0,escape:!0,FadeAnimation:!0,filesystem:!0,Flash:!0,focusWidget:!0,form:!0,FormField:!0,Frame:!0,HotKey:!0,Image:!0,include:!0,isApplicationRunning:!0,iTunes:!0,konfabulatorVersion:!0,log:!0,md5:!0,MenuItem:!0,MoveAnimation:!0,openURL:!0,play:!0,Point:!0,popupMenu:!0,preferenceGroups:!0,preferences:!0,print:!0,prompt:!0,random:!0,Rectangle:!0,reloadWidget:!0,ResizeAnimation:!0,resolvePath:!0,resumeUpdates:!0,RotateAnimation:!0,runCommand:!0,runCommandInBg:!0,saveAs:!0,savePreferences:!0,
screen:!0,ScrollBar:!0,showWidgetPreferences:!0,sleep:!0,speak:!0,Style:!0,suppressUpdates:!0,system:!0,tellWidget:!0,Text:!0,TextArea:!0,Timer:!0,unescape:!0,updateNow:!0,URL:!0,Web:!0,widget:!0,Window:!0,XMLDOM:!0,XMLHttpRequest:!0,yahooCheckLogin:!0,yahooLogin:!0,yahooLogout:!0},p,H,eb=/@cc|<\/?|script|\]*s\]|<\s*!|&lt/i,Gb=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,Hb=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jslint|members?|global)?|=|\/)?|\*[\/=]?|\+[+=]?|-[\-=]?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,
qb=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-]*|[0-9]+|--)/,Ib=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,Jb=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Kb=/[>&]|<[\/!]?|--/,Lb=/\*\/|\/\*/,rb=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,Sa=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,mb=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i,
Mb=/[^a-zA-Z0-9+\-_\/ ]/,Nb=/[\[\]\/\\"'*<>.&:(){}+=#]/,Ob={outer:qb,html:qb,style:/^\s*([{:#%.=,>+\[\]@()"';]|\*=?|\$=|\|=|\^=|~=|[a-zA-Z_][a-zA-Z0-9_\-]*|[0-9]+|<\/|\/\*)/,styleproperty:/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/};"function"!==typeof Object.create&&(Object.create=function(a){fb.prototype=a;return new fb});String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};String.prototype.isAlpha=
function(){return this>="a"&&this<="z\uffff"||this>="A"&&this<="Z\uffff"};String.prototype.isDigit=function(){return this>="0"&&this<="9"};String.prototype.supplant=function(a){return this.replace(/\{([^{}]*)\}/g,function(d,b){var e=a[b];return typeof e==="string"||typeof e==="number"?e:d})};String.prototype.name=function(){return rb.test(this)?this:Ib.test(this)?'"'+this.replace(Jb,function(a){var d=Db[a];return d?d:"\\u"+("0000"+a.charCodeAt().toString(16)).slice(-4)})+'"':'"'+this+'"'};var O,ka=
function(){var a;if(k>=ma.length)return false;l=1;h=ma[k];k=k+1;a=h.search(/ \t/);a>=0&&n("Mixed spaces and tabs.",k,a+1);h=h.replace(/\t/g,Ia);a=h.search(Gb);a>=0&&n("Unsafe character.",k,a);i.maxlen&&i.maxlen<h.length&&n("Line too long.",k,h.length);return true},I=function(a,d){var b,e;e=a==="(color)"?{type:a}:a==="(punctuator)"||a==="(identifier)"&&M(G,d)?G[d]||G["(error)"]:G[a];e=Object.create(e);(a==="(string)"||a==="(range)")&&Sa.test(d)&&n("Script URL.",k,q);if(a==="(identifier)"){e.identifier=
true;d==="__iterator__"||d==="__proto__"?v("Reserved name '{a}'.",k,q,d):i.nomen&&(d.charAt(0)==="_"||d.charAt(d.length-1)==="_")&&n("Unexpected {a} in '{b}'.",k,q,"dangling '_'",d)}e.value=d;e.line=k;e.character=l;e.from=q;b=e.id;b!=="(endline)"&&(db=b&&("(,=:[!&|?{};".indexOf(b.charAt(b.length-1))>=0||b==="return"));return e},l,q,k,h;O={init:function(a){ma=typeof a==="string"?a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):a;k=0;ka();q=1},range:function(a,d){var b,e="";q=l;for(h.charAt(0)!==
a&&v("Expected '{a}' and instead saw '{b}'.",k,l,a,h.charAt(0));;){h=h.slice(1);l=l+1;b=h.charAt(0);switch(b){case "":v("Missing '{a}'.",k,l,b);break;case d:h=h.slice(1);l=l+1;return I("(range)",e);case H:case "\\":n("Unexpected '{a}'.",k,l,b)}e=e+b}},token:function(){function a(b){function d(a){var b=parseInt(h.substr(c+1,a),16);c=c+a;b>=32&&(b<=126&&b!==34&&b!==92&&b!==39)&&n("Unnecessary escapement.",k,l);l=l+a;f=String.fromCharCode(b)}var f,c,e="";ja&&b!=='"'&&n("Strings must use doublequote.",
k,l);if(H===b||p==="scriptstring"&&!H)return I("(punctuator)",b);for(c=0;;){for(;c>=h.length;){c=0;(p!=="html"||!ka())&&v("Unclosed string.",k,q)}f=h.charAt(c);if(f===b){l=l+1;h=h.substr(c+1);return I("(string)",e,b)}if(f<" "){if(f==="\n"||f==="\r")break;n("Control character in string: {a}.",k,l+c,h.slice(0,c))}else if(f===H)n("Bad HTML string",k,l+c);else if(f==="<")i.safe&&p==="html"?n("ADsafe string violation.",k,l+c):h.charAt(c+1)==="/"&&(p||i.safe)?n("Expected '<\\/' and instead saw '</'.",k,
l):h.charAt(c+1)==="!"&&(p||i.safe)&&n("Unexpected '<!' in a string.",k,l);else if(f==="\\")if(p==="html")i.safe&&n("ADsafe string violation.",k,l+c);else if(p==="styleproperty"){c=c+1;l=l+1;f=h.charAt(c);f!==b&&n("Escapement in style string.",k,l+c)}else{c=c+1;l=l+1;f=h.charAt(c);switch(f){case H:n("Bad HTML string",k,l+c);break;case "\\":case "'":case '"':case "/":break;case "b":f="\b";break;case "f":f="\f";break;case "n":f="\n";break;case "r":f="\r";break;case "t":f="\t";break;case "u":d(4);break;
case "v":f="\v";break;case "x":ja&&n("Avoid \\x-.",k,l);d(2);break;default:n("Bad escapement.",k,l)}}e=e+f;l=l+1;c=c+1}}for(var d,b,e,c,j;;){if(!h)return I(ka()?"(endline)":"(end)","");for(;p==="outer";){e=h.search(Kb);if(e===0)break;else if(e>0){l=l+1;h=h.slice(e);break}else if(!ka())return I("(end)","")}d=(Ob[p]||Hb).exec(h);j=void 0;if(d){c=d[0].length;j=d[1];b=j.charAt(0);h=h.substr(c);q=l+c-j.length;l=l+c;d=j}else d=void 0;if(d){if(b.isAlpha()||b==="_"||b==="$")return I("(identifier)",d);if(b.isDigit()){p!==
"style"&&!isFinite(Number(d))&&n("Bad number '{a}'.",k,l,d);p!=="style"&&(p!=="styleproperty"&&h.substr(0,1).isAlpha())&&n("Missing space after '{a}'.",k,l,d);if(b==="0"){b=d.substr(1,1);b.isDigit()?g.id!=="."&&p!=="styleproperty"&&n("Don't use extra leading zeros '{a}'.",k,l,d):ja&&(b==="x"||b==="X")&&n("Avoid 0x-. '{a}'.",k,l,d)}d.substr(d.length-1)==="."&&n("A trailing decimal point can be confused with a dot '{a}'.",k,l,d);return I("(number)",d)}switch(d){case '"':case "'":return a(d);case "//":Ha||
p&&p!=="script"?n("Unexpected comment.",k,l):p==="script"&&/<\s*\//i.test(h)?n("Unexpected </ in comment.",k,l):(i.safe||p==="script")&&eb.test(h)&&n("Dangerous comment.",k,l);h="";g.comment=true;break;case "/*":(Ha||p&&p!=="script"&&p!=="style"&&p!=="styleproperty")&&n("Unexpected comment.",k,l);for(i.safe&&eb.test(h)&&n("ADsafe comment violation.",k,l);;){e=h.search(Lb);if(e>=0)break;ka()?i.safe&&eb.test(h)&&n("ADsafe comment violation.",k,l):v("Unclosed comment.",k,l)}l=l+(e+2);h.substr(e,1)===
"/"&&v("Nested comment.",k,l);h=h.substr(e+2);g.comment=true;break;case "/*members":case "/*member":case "/*jslint":case "/*global":case "*/":return{value:d,type:"special",line:k,character:l,from:q};case "":break;case "/":g.id==="/="&&v("A regular expression literal can be confused with '/='.",k,q);if(db){for(c=e=0;;){d=true;b=h.charAt(c);c=c+1;switch(b){case "":v("Unclosed regular expression.",k,q);return;case "/":e>0&&n("Unescaped '{a}'.",k,q+c,"/");b=h.substr(0,c-1);for(j={g:true,i:true,m:true};j[h.charAt(c)]===
true;){j[h.charAt(c)]=false;c=c+1}l=l+c;h=h.substr(c);j=h.charAt(0);(j==="/"||j==="*")&&v("Confusing regular expression.",k,q);return I("(regexp)",b);case "\\":b=h.charAt(c);b<" "?n("Unexpected control character in regular expression.",k,q+c):b==="<"&&n("Unexpected escaped character '{a}' in regular expression.",k,q+c,b);c=c+1;break;case "(":e=e+1;d=false;if(h.charAt(c)==="?"){c=c+1;switch(h.charAt(c)){case ":":case "=":case "!":c=c+1;break;default:n("Expected '{a}' and instead saw '{b}'.",k,q+c,
":",h.charAt(c))}}break;case "|":d=false;break;case ")":e===0?n("Unescaped '{a}'.",k,q+c,")"):e=e-1;break;case " ":for(j=1;h.charAt(c)===" ";){c=c+1;j=j+1}j>1&&n("Spaces are hard to count. Use {{a}}.",k,q+c,j);break;case "[":b=h.charAt(c);if(b==="^"){c=c+1;i.regexp&&n("Insecure '{a}'.",k,q+c,b)}j=false;if(b==="]"){n("Empty class.",k,q+c-1);j=true}a:do{b=h.charAt(c);c=c+1;switch(b){case "[":case "^":n("Unescaped '{a}'.",k,q+c,b);j=true;break;case "-":if(j)j=false;else{n("Unescaped '{a}'.",k,q+c,"-");
j=true}break;case "]":j||n("Unescaped '{a}'.",k,q+c-1,"-");break a;case "\\":b=h.charAt(c);b<" "?n("Unexpected control character in regular expression.",k,q+c):b==="<"&&n("Unexpected escaped character '{a}' in regular expression.",k,q+c,b);c=c+1;j=true;break;case "/":n("Unescaped '{a}'.",k,q+c-1,"/");j=true;break;case "<":if(p==="script"){b=h.charAt(c);(b==="!"||b==="/")&&n("HTML confusion in regular expression '<{a}'.",k,q+c,b)}j=true;break;default:j=true}}while(b);break;case ".":i.regexp&&n("Insecure '{a}'.",
k,q+c,b);break;case "]":case "?":case "{":case "}":case "+":case "*":n("Unescaped '{a}'.",k,q+c,b);break;case "<":if(p==="script"){b=h.charAt(c);(b==="!"||b==="/")&&n("HTML confusion in regular expression '<{a}'.",k,q+c,b)}}if(d)switch(h.charAt(c)){case "?":case "+":case "*":c=c+1;h.charAt(c)==="?"&&(c=c+1);break;case "{":c=c+1;b=h.charAt(c);(b<"0"||b>"9")&&n("Expected a number and instead saw '{a}'.",k,q+c,b);c=c+1;for(j=+b;;){b=h.charAt(c);if(b<"0"||b>"9")break;c=c+1;j=+b+j*10}d=j;if(b===","){c=
c+1;d=Infinity;b=h.charAt(c);if(b>="0"&&b<="9"){c=c+1;for(d=+b;;){b=h.charAt(c);if(b<"0"||b>"9")break;c=c+1;d=+b+d*10}}}h.charAt(c)!=="}"?n("Expected '{a}' and instead saw '{b}'.",k,q+c,"}",b):c=c+1;h.charAt(c)==="?"&&(c=c+1);j>d&&n("'{a}' should not be greater than '{b}'.",k,q+c,j,d)}}b=h.substr(0,c-1);l=l+c;h=h.substr(c);return I("(regexp)",b)}return I("(punctuator)",d);case "<\!--":c=k;for(b=l;;){e=h.indexOf("--");if(e>=0)break;e=h.indexOf("<!");e>=0&&v("Nested HTML comment.",k,l+e);ka()||v("Unclosed HTML comment.",
c,b)}c=h.indexOf("<!");c>=0&&c<e&&v("Nested HTML comment.",k,l+c);l=l+e;h[e+2]!==">"&&v("Expected --\>.",k,l);l=l+3;h=h.slice(e+3);break;case "#":if(p==="html"||p==="styleproperty"){for(;;){b=h.charAt(0);if((b<"0"||b>"9")&&(b<"a"||b>"f")&&(b<"A"||b>"F"))break;l=l+1;h=h.substr(1);d=d+b}d.length!==4&&d.length!==7&&n("Bad hex color '{a}'.",k,q+c,d);return I("(color)",d)}return I("(punctuator)",d);default:if(p==="outer"&&b==="&"){l=l+1;for(h=h.substr(1);;){b=h.charAt(0);l=l+1;h=h.substr(1);if(b===";")break;
b>="0"&&b<="9"||(b>="a"&&b<="z"||b==="#")||v("Bad entity",k,q+c,l)}break}return I("(punctuator)",d)}}else{for(b=d="";h&&h<"!";)h=h.substr(1);if(h){if(p==="html")return I("(error)",h.charAt(0));v("Unexpected '{a}'.",k,l,h.substr(0,1))}}}}};Xa=[ba,function(){for(;;)if(a.identifier)switch(a.value.toLowerCase()){case "url":ba();break;case "expression":c("Unexpected expression '{a}'.",a,a.value);e();break;default:e()}else{if(a.id===";"||a.id==="!"||a.id==="(end)"||a.id==="}")return true;e()}}];ia="none hidden dotted dashed solid double ridge inset outset".split(" ");
cb=["auto","always","avoid","left","right"];Fa=["auto","hidden","scroll","visible"];Ca={background:[!0,"background-attachment","background-color","background-image","background-position","background-repeat"],"background-attachment":["scroll","fixed"],"background-color":["transparent",S],"background-image":["none",ba],"background-position":[2,[r,"top","bottom","left","right","center"]],"background-repeat":["repeat","repeat-x","repeat-y","no-repeat"],border:[!0,"border-color","border-style","border-width"],
"border-bottom":[!0,"border-bottom-color","border-bottom-style","border-bottom-width"],"border-bottom-color":S,"border-bottom-style":ia,"border-bottom-width":ha,"border-collapse":["collapse","separate"],"border-color":["transparent",4,S],"border-left":[!0,"border-left-color","border-left-style","border-left-width"],"border-left-color":S,"border-left-style":ia,"border-left-width":ha,"border-right":[!0,"border-right-color","border-right-style","border-right-width"],"border-right-color":S,"border-right-style":ia,
"border-right-width":ha,"border-spacing":[2,r],"border-style":[4,ia],"border-top":[!0,"border-top-color","border-top-style","border-top-width"],"border-top-color":S,"border-top-style":ia,"border-top-width":ha,"border-width":[4,ha],bottom:[r,"auto"],"caption-side":["bottom","left","right","top"],clear:["both","left","none","right"],clip:[function(){var f;if(a.identifier&&a.value==="rect"){e();e("(");for(f=0;f<4;f=f+1)if(!r()){c("Expected a number and instead saw '{a}'.",a,a.value);break}e(")");return true}return false},
"auto"],color:S,content:["open-quote","close-quote","no-open-quote","no-close-quote",Va,ba,function(){if(a.identifier&&a.value==="counter"){e();e("(");e();if(a.id===","){J();a.type!=="(string)"&&c("Expected a string and instead saw '{a}'.",a,a.value);e()}e(")");return true}if(a.identifier&&a.value==="counters"){e();e("(");a.identifier||c("Expected a name and instead saw '{a}'.",a,a.value);e();if(a.id===","){J();a.type!=="(string)"&&c("Expected a string and instead saw '{a}'.",a,a.value);e()}if(a.id===
","){J();a.type!=="(string)"&&c("Expected a string and instead saw '{a}'.",a,a.value);e()}e(")");return true}return false},function(){if(a.identifier&&a.value==="attr"){e();e("(");a.identifier||c("Expected a name and instead saw '{a}'.",a,a.value);e();e(")");return true}return false}],"counter-increment":[Ua,"none"],"counter-reset":[Ua,"none"],cursor:[ba,"auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","s-resize","se-resize","sw-resize","w-resize",
"text","wait"],direction:["ltr","rtl"],display:"block compact inline inline-block inline-table list-item marker none run-in table table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group".split(" "),"empty-cells":["show","hide"],"float":["left","none","right"],font:["caption","icon","menu","message-box","small-caption","status-bar",!0,"font-size","font-style","font-weight","font-family"],"font-family":function(){for(;a.id!==";";){!Ua()&&
!Va()&&c("Expected a name and instead saw '{a}'.",a,a.value);if(a.id!==",")return true;J()}},"font-size":["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller",r],"font-size-adjust":["none",Ba],"font-stretch":"normal wider narrower ultra-condensed extra-condensed condensed semi-condensed semi-expanded expanded extra-expanded".split(" "),"font-style":["normal","italic","oblique"],"font-variant":["normal","small-caps"],"font-weight":["normal","bold","bolder","lighter",
Ba],height:[r,"auto"],left:[r,"auto"],"letter-spacing":["normal",r],"line-height":["normal",function(){if(a.id==="-"){e("-");x()}if(a.type==="(number)"){e();if(a.type!=="(string)"&&lb[a.value]===true){x();e()}return true}return false}],"list-style":[!0,"list-style-image","list-style-position","list-style-type"],"list-style-image":["none",ba],"list-style-position":["inside","outside"],"list-style-type":"circle disc square decimal decimal-leading-zero lower-roman upper-roman lower-greek lower-alpha lower-latin upper-alpha upper-latin hebrew katakana hiragana-iroha katakana-oroha none".split(" "),
margin:[4,qa],"margin-bottom":qa,"margin-left":qa,"margin-right":qa,"margin-top":qa,"marker-offset":[r,"auto"],"max-height":[r,"none"],"max-width":[r,"none"],"min-height":r,"min-width":r,opacity:Ba,outline:[!0,"outline-color","outline-style","outline-width"],"outline-color":["invert",S],"outline-style":"dashed dotted double groove inset none outset ridge solid".split(" "),"outline-width":ha,overflow:Fa,"overflow-x":Fa,"overflow-y":Fa,padding:[4,r],"padding-bottom":r,"padding-left":r,"padding-right":r,
"padding-top":r,"page-break-after":cb,"page-break-before":cb,position:["absolute","fixed","relative","static"],quotes:[8,Va],right:[r,"auto"],"table-layout":["auto","fixed"],"text-align":["center","justify","left","right"],"text-decoration":["none","underline","overline","line-through","blink"],"text-indent":r,"text-shadow":["none",4,[S,r]],"text-transform":["capitalize","uppercase","lowercase","none"],top:[r,"auto"],"unicode-bidi":["normal","embed","bidi-override"],"vertical-align":["baseline","bottom",
"sub","super","top","text-top","middle","text-bottom",r],visibility:["visible","hidden","collapse"],"white-space":"normal nowrap pre pre-line pre-wrap inherit".split(" "),width:[r,"auto"],"word-spacing":["normal",r],"word-wrap":["break-word","normal"],"z-index":["auto",Ba]};xa("(number)",kb);xa("(string)",kb);G["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var a=this.value,d=A[a],b;if(typeof d==="function")d=void 0;else if(typeof d==="boolean"){b=j;j=sa[0];Z(a,"var");d=j;
j=b}if(j===d)switch(j[a]){case "unused":j[a]="var";break;case "label":c("'{a}' is a statement label.",g,a)}else if(j["(global)"]){i.undef&&z[a]!=="boolean"&&c("'{a}' is not defined.",g,a);Ta(g)}else switch(j[a]){case "closure":case "function":case "var":case "unused":c("'{a}' used out of scope.",g,a);break;case "label":c("'{a}' is a statement label.",g,a);break;case "outer":case "global":break;default:if(d===true)j[a]=true;else if(d===null){c("'{a}' is not allowed.",g,a);Ta(g)}else if(typeof d!==
"object"){i.undef?c("'{a}' is not defined.",g,a):j[a]=true;Ta(g)}else switch(d[a]){case "function":case "var":case "unused":d[a]="closure";j[a]=d["(global)"]?"global":"outer";break;case "closure":case "parameter":j[a]=d["(global)"]?"global":"outer";break;case "label":c("'{a}' is a statement label.",g,a)}}return this},led:function(){m("Expected an operator and instead saw '{a}'.",a,a.value)}};xa("(regexp)",function(){return this});y("(endline)");y("(begin)");y("(end)").reach=!0;y("</").reach=!0;y("<!");
y("<\!--");y("--\>");y("(error)").reach=!0;y("}").reach=!0;y(")");y("]");y('"').reach=!0;y("'").reach=!0;y(";");y(":").reach=!0;y(",");y("#");y("@");s("else");s("case").reach=!0;s("catch");s("default").reach=!0;s("finally");R("arguments");R("eval");R("false");R("Infinity");R("NaN");R("null");R("this");R("true");R("undefined");da("=","assign",20);da("+=","assignadd",20);da("-=","assignsub",20);da("*=","assignmult",20);da("/=","assigndiv",20).nud=function(){m("A regular expression literal can be confused with '/='.")};
da("%=","assignmod",20);fa("&=","assignbitand",20);fa("|=","assignbitor",20);fa("^=","assignbitxor",20);fa("<<=","assignshiftleft",20);fa(">>=","assignshiftright",20);fa(">>>=","assignshiftrightunsigned",20);B("?",function(a,d){d.left=a;d.right=o(10);e(":");d["else"]=o(10);return d},30);B("||","or",40);B("&&","and",50);ea("|","bitor",70);ea("^","bitxor",80);ea("&","bitand",90);Y("==",function(a,d){i.eqeqeq?c("Expected '{a}' and instead saw '{b}'.",this,"===","=="):ya(a)?c("Use '{a}' to compare with '{b}'.",
this,"===",a.value):ya(d)&&c("Use '{a}' to compare with '{b}'.",this,"===",d.value);return this});Y("===");Y("!=",function(a,d){i.eqeqeq?c("Expected '{a}' and instead saw '{b}'.",this,"!==","!="):ya(a)?c("Use '{a}' to compare with '{b}'.",this,"!==",a.value):ya(d)&&c("Use '{a}' to compare with '{b}'.",this,"!==",d.value);return this});Y("!==");Y("<");Y(">");Y("<=");Y(">=");ea("<<","shiftleft",120);ea(">>","shiftright",120);ea(">>>","shiftrightunsigned",120);B("in","in",120);B("instanceof","instanceof",
120);B("+",function(a,d){var b=o(130);if(a&&b&&a.id==="(string)"&&b.id==="(string)"){a.value=a.value+b.value;a.character=b.character;Sa.test(a.value)&&c("JavaScript URL.",a);return a}d.left=a;d.right=b;return d},130);L("+","num");B("-","sub",130);L("-","neg");B("*","mult",140);B("/","div",140);B("%","mod",140);ib("++","postinc");L("++","preinc");G["++"].exps=!0;ib("--","postdec");L("--","predec");G["--"].exps=!0;L("delete",function(){var f=o(0);(!f||f.id!=="."&&f.id!=="[")&&c("Expected '{a}' and instead saw '{b}'.",
a,".",a.value);this.first=f;return this}).exps=!0;L("~",function(){i.bitwise&&c("Unexpected '{a}'.",this,"~");o(150);return this});L("!",function(){this.right=o(150);this.arity="unary";Cb[this.right.id]===true&&c("Confusing use of '{a}'.",this,"!");return this});L("typeof","typeof");L("new",function(){var f=o(155),d;if(f&&f.id!=="function")if(f.identifier){f["new"]=true;switch(f.value){case "Object":c("Use the object literal notation {}.",g);break;case "Array":if(a.id!=="(")c("Use the array literal notation [].",
g);else{e("(");if(a.id===")")c("Use the array literal notation [].",g);else{d=o(0);f.dimension=d;(d.id==="(number)"&&/[.+\-Ee]/.test(d.value)||d.id==="-"&&!d.right||d.id==="(string)"||d.id==="["||d.id==="{"||d.id==="true"||d.id==="false"||d.id==="null"||d.id==="undefined"||d.id==="Infinity")&&c("Use the array literal notation [].",g);a.id!==")"&&m("Use the array literal notation [].",g)}e(")")}this.first=f;return this;case "Number":case "String":case "Boolean":case "Math":case "JSON":c("Do not use {a} as a constructor.",
g,f.value);break;case "Function":i.evil||c("The Function constructor is eval.");break;case "Date":case "RegExp":break;default:if(f.id!=="function"){d=f.value.substr(0,1);i.newcap&&(d<"A"||d>"Z")&&c("A constructor name should start with an uppercase letter.",g)}}}else f.id!=="."&&(f.id!=="["&&f.id!=="(")&&c("Bad constructor.",g);else c("Weird construction. Delete 'new'.",this);x(g,a);a.id!=="("&&c("Missing '()' invoking a constructor.");this.first=f;return this});G["new"].exps=!0;B(".",function(f,
d){x(E,g);var b=na();typeof b==="string"&&Aa(b);d.left=f;d.right=b;if(!i.evil&&f&&f.value==="document"&&(b==="write"||b==="writeln"))c("document.write can be a form of eval.",f);else if(i.adsafe&&f&&f.value==="ADSAFE")if(b==="id"||b==="lib")c("ADsafe violation.",d);else if(b==="go"){p!=="script"?c("ADsafe violation.",d):(ta||a.id!=="("||C(0).id!=="(string)"||C(0).value!==K||C(1).id!==",")&&m("ADsafe violation: go.",d);ta=true;ga=false}if(!i.evil&&(b==="eval"||b==="execScript"))c("eval is evil.");
else if(i.safe)for(;;){Pa[b]===true&&c("ADsafe restricted word '{a}'.",g,b);if(typeof z[f.value]!=="boolean"||a.id==="(")break;if(Fb[b]===true){a.id==="."&&c("ADsafe violation.",d);break}if(a.id!=="."){c("ADsafe violation.",d);break}e(".");g.left=d;g.right=b;d=g;b=na();typeof b==="string"&&Aa(b)}return d},160,!0);B("(",function(f,d){x(E,g);u();var b=0,j=[];f&&(f.type==="(identifier)"?f.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&f.value!=="Number"&&(f.value!=="String"&&f.value!=="Boolean"&&
f.value!=="Date")&&(f.value==="Math"?c("Math is not a function.",f):i.newcap&&c("Missing 'new' prefix when invoking a constructor.",f)):f.id==="."&&i.safe&&(f.left.value==="Math"&&f.right==="random")&&c("ADsafe violation.",f));if(a.id!==")")for(;;){j[j.length]=o(10);b=b+1;if(a.id!==",")break;J()}e(")");i.immed&&(f.id==="function"&&a.id!==")")&&c("Wrap the entire immediate function invocation in parens.",d);u(E,g);if(typeof f==="object"){f.value==="parseInt"&&b===1&&c("Missing radix parameter.",f);
i.evil||(f.value==="eval"||f.value==="Function"||f.value==="execScript"?c("eval is evil.",f):j[0]&&(j[0].id==="(string)"&&(f.value==="setTimeout"||f.value==="setInterval"))&&c("Implied eval is evil. Pass a function instead of a string.",f));!f.identifier&&(f.id!=="."&&f.id!=="["&&f.id!=="("&&f.id!=="&&"&&f.id!=="||"&&f.id!=="?")&&c("Bad invocation.",f)}d.left=f;return d},155,!0).exps=!0;L("(",function(){u();var f=o(0);e(")",this);u(E,g);i.immed&&f.id==="function"&&(a.id==="("?c("Move the invocation into the parens that contain the function.",
a):c("Do not wrap function literals in parens unless they are to be immediately invoked.",this));return f});B("[",function(a,d){u();var b=o(0),j;if(b&&b.type==="(string)"){i.safe&&Pa[b.value]===true?c("ADsafe restricted word '{a}'.",d,b.value):!i.evil&&(b.value==="eval"||b.value==="execScript")?c("eval is evil.",d):i.safe&&(b.value.charAt(0)==="_"||b.value.charAt(0)==="-")&&c("ADsafe restricted subscript '{a}'.",d,b.value);Aa(b.value);if(!i.sub&&rb.test(b.value)){j=G[b.value];(!j||!j.reserved)&&c("['{a}'] is better written in dot notation.",
b,b.value)}}else(!b||b.type!=="(number)"||b.value<0)&&i.safe&&c("ADsafe subscripting.");e("]",d);u(E,g);d.left=a;d.right=b;return d},160,!0);L("[",function(){var f=g.line!==a.line;this.first=[];if(f){t=t+i.indent;a.from===t+i.indent&&(t=t+i.indent)}for(;a.id!=="(end)";){for(;a.id===",";){c("Extra comma.");e(",")}if(a.id==="]")break;f&&g.line!==a.line&&P();this.first.push(o(10));if(a.id===","){J();if(a.id==="]"&&!i.es5){c("Extra comma.",g);break}}else break}if(f){t=t-i.indent;P()}e("]",this);return this},
160);var sb=y("{");sb.nud=function(){var f,d,b,h,k={};if(f=g.line!==a.line){t=t+i.indent;a.from===t+i.indent&&(t=t+i.indent)}for(;;){if(a.id==="}")break;f&&P();if(a.value==="get"&&C().id!==":"){e("get");i.es5||m("get/set are ES5 features.");(b=$a())||m("Missing property name.");h=a;x(g,a);d=Da(b);j["(loopage)"]&&c("Don't make functions within a loop.",h);(d=d["(params)"])&&c("Unexpected parameter '{a}' in get {b} function.",h,d[0],b);x(g,a);e(",");P();e("set");h=$a();b!==h&&m("Expected {a} and instead saw {b}.",
g,b,h);h=a;x(g,a);d=Da(b);d=d["(params)"];(!d||d.length!==1||d[0]!=="value")&&c("Expected (value) in set {a} function.",h,b)}else{b=$a();if(typeof b!=="string")break;e(":");w(g,a);o(10)}k[b]===true&&c("Duplicate member '{a}'.",a,b);k[b]=true;Aa(b);if(a.id===","){J();a.id===","?c("Extra comma.",g):a.id==="}"&&!i.es5&&c("Extra comma.",g)}else break}if(f){t=t-i.indent;P()}e("}",this);return this};sb.fud=function(){m("Expected to see a statement and instead saw a block.",g)};X("var",ab).exps=!0;ca("function",
function(){pa&&c("Function statements cannot be placed in blocks. Use a function expression or move the statement to the top of the outer function.",g);var f=na();x(g,a);Z(f,"unused");Da(f);a.id==="("&&a.line===g.line&&m("Function statements are not invocable. Wrap the whole function invocation in parens.");return this});L("function",function(){var f=Oa();f?x(g,a):w(g,a);Da(f);j["(loopage)"]&&c("Don't make functions within a loop.");return this});ca("if",function(){var f=a;e("(");w(this,f);u();o(20);
if(a.id==="="){c("Expected a conditional expression and instead saw an assignment.");e("=");o(20)}e(")",f);u(E,g);Q(true);if(a.id==="else"){w(g,a);e("else");a.id==="if"||a.id==="switch"?Ra(true):Q(true)}return this});ca("try",function(){var f,d;i.adsafe&&c("ADsafe try violation.",this);Q(false);if(a.id==="catch"){e("catch");w(g,a);e("(");d=A;A=Object.create(d);f=a.value;a.type!=="(identifier)"?c("Expected an identifier and instead saw '{a}'.",a,f):Z(f,"exception");e();e(")");Q(false);f=true;A=d}if(a.id===
"finally"){e("finally");Q(false)}else{f||m("Expected '{a}' and instead saw '{b}'.",a,"catch",a.value);return this}});ca("while",function(){var f=a;j["(breakage)"]=j["(breakage)"]+1;j["(loopage)"]=j["(loopage)"]+1;e("(");w(this,f);u();o(20);if(a.id==="="){c("Expected a conditional expression and instead saw an assignment.");e("=");o(20)}e(")",f);u(E,g);Q(true);j["(breakage)"]=j["(breakage)"]-1;j["(loopage)"]=j["(loopage)"]-1;return this}).labelled=!0;s("with");ca("switch",function(){var f=a,d=false;
j["(breakage)"]=j["(breakage)"]+1;e("(");w(this,f);u();this.condition=o(20);e(")",f);u(E,g);w(g,a);f=a;e("{");w(g,a);t=t+i.indent;for(this.cases=[];;)switch(a.id){case "case":switch(j["(verb)"]){case "break":case "case":case "continue":case "return":case "switch":case "throw":break;default:c("Expected a 'break' statement before 'case'.",g)}P(-i.indent);e("case");this.cases.push(o(20));d=true;e(":");j["(verb)"]="case";break;case "default":switch(j["(verb)"]){case "break":case "continue":case "return":case "throw":break;
default:c("Expected a 'break' statement before 'default'.",g)}P(-i.indent);e("default");d=true;e(":");break;case "}":t=t-i.indent;P();e("}",f);(this.cases.length===1||this.condition.id==="true"||this.condition.id==="false")&&c("This 'switch' should be an 'if'.",this);j["(breakage)"]=j["(breakage)"]-1;j["(verb)"]=void 0;return;case "(end)":m("Missing '{a}'.",a,"}");return;default:if(d)switch(g.id){case ",":m("Each value should have its own case label.");return;case ":":oa();break;default:m("Missing ':' on a case clause.",
g)}else m("Expected '{a}' and instead saw '{b}'.",a,"case",a.value)}}).labelled=!0;X("debugger",function(){i.debug||c("All 'debugger' statements should be removed.");return this}).exps=!0;var tb=X("do",function(){j["(breakage)"]=j["(breakage)"]+1;j["(loopage)"]=j["(loopage)"]+1;this.first=Q(true);e("while");var f=a;w(g,f);e("(");u();o(20);if(a.id==="="){c("Expected a conditional expression and instead saw an assignment.");e("=");o(20)}e(")",f);u(E,g);j["(breakage)"]=j["(breakage)"]-1;j["(loopage)"]=
j["(loopage)"]-1;return this});tb.labelled=!0;tb.exps=!0;ca("for",function(){var f=i.forin,d;d=a;j["(breakage)"]=j["(breakage)"]+1;j["(loopage)"]=j["(loopage)"]+1;e("(");w(this,d);u();if(C(a.id==="var"?1:0).id==="in"){if(a.id==="var"){e("var");ab(true)}else{switch(j[a.value]){case "unused":j[a.value]="var";break;case "var":break;default:c("Bad for in variable '{a}'.",a,a.value)}e()}e("in");o(20);e(")",d);d=Q(true);!f&&(d.length>1||typeof d[0]!=="object"||d[0].value!=="if")&&c("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",
this)}else{if(a.id!==";")if(a.id==="var"){e("var");ab()}else for(;;){o(0,"for");if(a.id!==",")break;J()}V(g);e(";");if(a.id!==";"){o(20);if(a.id==="="){c("Expected a conditional expression and instead saw an assignment.");e("=");o(20)}}V(g);e(";");a.id===";"&&m("Expected '{a}' and instead saw '{b}'.",a,")",";");if(a.id!==")")for(;;){o(0,"for");if(a.id!==",")break;J()}e(")",d);u(E,g);Q(true)}j["(breakage)"]=j["(breakage)"]-1;j["(loopage)"]=j["(loopage)"]-1;return this}).labelled=!0;X("break",function(){var f=
a.value;j["(breakage)"]===0&&c("Unexpected '{a}'.",a,this.value);V(this);if(a.id!==";"&&g.line===a.line){j[f]!=="label"?c("'{a}' is not a statement label.",a,f):A[f]!==j&&c("'{a}' is out of scope.",a,f);this.first=a;e()}za("break");return this}).exps=!0;X("continue",function(){var f=a.value;j["(breakage)"]===0&&c("Unexpected '{a}'.",a,this.value);V(this);if(a.id!==";"){if(g.line===a.line){j[f]!=="label"?c("'{a}' is not a statement label.",a,f):A[f]!==j&&c("'{a}' is out of scope.",a,f);this.first=
a;e()}}else j["(loopage)"]||c("Unexpected '{a}'.",a,this.value);za("continue");return this}).exps=!0;X("return",function(){V(this);a.id==="(regexp)"&&c("Wrap the /regexp/ literal in parens to disambiguate the slash operator.");if(a.id!==";"&&!a.reach){w(g,a);this.first=o(20)}za("return");return this}).exps=!0;X("throw",function(){V(this);w(g,a);this.first=o(20);za("throw");return this}).exps=!0;s("void");s("class");s("const");s("enum");s("export");s("extends");s("import");s("super");s("let");s("yield");
s("implements");s("interface");s("package");s("private");s("protected");s("public");s("static");var T=function(f,d){var b,h;JSLINT.errors=[];z=Object.create(Eb);if(d){b=d.predef;if(b instanceof Array)for(h=0;h<b.length;h=h+1)z[b[h]]=true;if(d.adsafe)d.safe=true;if(d.safe){d.browser=false;d.css=false;d.debug=false;d.devel=false;d.eqeqeq=true;d.evil=false;d.forin=false;d.nomen=true;d.on=false;d.rhino=false;d.safe=true;d.windows=false;d.strict=true;d.sub=false;d.undef=true;d.widget=false;z.Date=null;
z.eval=null;z.Function=null;z.Object=null;z.ADSAFE=false;z.lib=false}i=d}else i={};i.indent=i.indent||4;i.maxerr=i.maxerr||50;K="";ta=ga=false;Ea={};if(i.approved)for(h=0;h<i.approved.length;h=h+1)Ea[i.approved[h]]=i.approved[h];else Ea.test="test";Ia="";for(h=0;h<i.indent;h=h+1)Ia=Ia+" ";t=1;A=gb=Object.create(z);j={"(global)":true,"(name)":"(global)","(scope)":A,"(breakage)":0,"(loopage)":0};sa=[j];Ga={};ra=[];p=Ha=false;D=null;aa={};$=null;U={};pa=false;wa=[];ja=false;va=0;O.init(f);db=true;Na=
false;E=g=a=G["(begin)"];Ja();try{e();if(a.value.charAt(0)==="<"){a:{var k,l,n,o,q,r,s,y=i.white,x;p="html";H="";for(D=null;;){switch(a.value){case "<":p="html";e("<");l={};r=a;r.identifier||c("Bad identifier {a}.",r,r.value);o=r.value;i.cap&&(o=o.toLowerCase());r.name=o;e();if(!D){D=[];b=o;b!=="html"&&!i.fragment&&(b==="div"&&i.adsafe?m("ADSAFE: Use the fragment option."):m("Expected '{a}' and instead saw '{b}'.",g,"html",b));if(i.adsafe){b==="html"&&m("Currently, ADsafe does not operate on whole HTML documents. It operates on <div> fragments and .js files.",
g);i.fragment?b!=="div"&&m("ADsafe violation: Wrap the widget in a div.",g):m("Use the fragment option.",g)}i.browser=true;Ja()}s=Za[o];typeof s!=="object"&&m("Unrecognized tag '<{a}>'.",r,o);n=s.empty;for(r.type=o;;){if(a.id==="/"){e("/");a.id!==">"&&c("Expected '{a}' and instead saw '{b}'.",a,">",a.value);break}if(a.id&&a.id.substr(0,1)===">")break;if(!a.identifier){(a.id==="(end)"||a.id==="(error)")&&m("Missing '>'.",a);c("Bad identifier.")}i.white=true;w(g,a);k=a.value;i.white=y;e();!i.cap&&k!==
k.toLowerCase()&&c("Attribute '{a}' not all lower case.",a,k);k=k.toLowerCase();H="";M(l,k)&&c("Attribute '{a}' repeated.",a,k);if(k.slice(0,2)==="on"){i.on||c("Avoid HTML event handlers.");p="scriptstring";e("=");q=a.id;q!=='"'&&q!=="'"&&m("Missing quote.");H=q;x=i.white;i.white=false;e(q);oa("on");i.white=x;a.id!==q&&m("Missing close quote on script attribute.");p="html";H="";e(q);s=false}else if(k==="style"){p="scriptstring";e("=");q=a.id;q!=='"'&&q!=="'"&&m("Missing quote.");p="styleproperty";
H=q;e(q);nb();p="html";H="";e(q);s=false}else if(a.id==="="){e("=");s=a.value;!a.identifier&&(a.id!=='"'&&a.id!=="'"&&a.type!=="(string)"&&a.type!=="(number)"&&a.type!=="(color)")&&c("Expected an attribute value and instead saw '{a}'.",g,k);e()}else s=true;l[k]=s;b=k;h=s;var u=void 0,v=void 0;if(b==="id"){u=typeof h==="string"?h.toUpperCase():"";Ga[u]===true&&c("Duplicate id='{a}'.",a,h);if(/^[A-Za-z][A-Za-z0-9._:\-]*$/.test(h)){if(i.adsafe)if(K)h.slice(0,K.length)!==K?c("ADsafe violation: An id must have a '{a}' prefix",
a,K):/^[A-Z]+_[A-Z]+$/.test(h)||c("ADSAFE violation: bad id.");else{K=h;/^[A-Z]+_$/.test(h)||c("ADSAFE violation: bad id.")}}else c("Bad id: '{a}'.",a,h);v=h.search(Nb);v>=0&&c("Unexpected character '{a}' in {b}.",g,h.charAt(v),b);Ga[u]=true}else if(b==="class"||b==="type"||b==="name"){v=h.search(Mb);v>=0&&c("Unexpected character '{a}' in {b}.",g,h.charAt(v),b);Ga[u]=true}else if(b==="href"||b==="background"||b==="content"||b==="data"||b.indexOf("src")>=0||b.indexOf("url")>=0){i.safe&&mb.test(h)&&
m("ADsafe URL violation.");ra.push(h)}else b==="for"?i.adsafe&&(K?h.slice(0,K.length)!==K?c("ADsafe violation: An id must have a '{a}' prefix",a,K):/^[A-Z]+_[A-Z]+$/.test(h)||c("ADSAFE violation: bad id."):c("ADSAFE violation: bad id.")):b==="name"&&i.adsafe&&h.indexOf("_")>=0&&c("ADsafe name violation.")}b=o;h=l;var u=void 0,C=Za[b],v=void 0;Ha=false;C||m("Unrecognized tag '<{a}>'.",a,b===b.toLowerCase()?b:b+" (capitalization error)");if(D.length>0){b==="html"&&m("Too many <html> tags.",g);if(v=
C.parent)v.indexOf(" "+D[D.length-1].name+" ")<0&&m("A '<{a}>' must be within '<{b}>'.",g,b,v);else if(!i.adsafe&&!i.fragment){u=D.length;do{u<=0&&m("A '<{a}>' must be within '<{b}>'.",g,b,"body");u=u-1}while(D[u].name!=="body")}}switch(b){case "div":i.adsafe&&(D.length===1&&!K)&&c("ADSAFE violation: missing ID_.");break;case "script":p="script";e(">");t=a.from;h.lang&&c("lang is deprecated.",g);i.adsafe&&D.length!==1&&c("ADsafe script placement violation.",g);if(h.src){i.adsafe&&(!ga||!Ea[h.src])&&
c("ADsafe unapproved script source.",g);h.type&&c("type is unnecessary.",g)}else{ta&&m("ADsafe script violation.",g);oa("script")}p="html";e("</");!a.identifier&&a.value!=="script"&&c("Expected '{a}' and instead saw '{b}'.",a,"script",a.value);e();p="outer";break;case "style":p="style";e(">");ob();p="html";e("</");!a.identifier&&a.value!=="style"&&c("Expected '{a}' and instead saw '{b}'.",a,"style",a.value);e();p="outer";break;case "input":switch(h.type){case "radio":case "checkbox":case "button":case "reset":case "submit":break;
case "text":case "file":case "password":case "file":case "hidden":case "image":i.adsafe&&h.autocomplete!=="off"&&c("ADsafe autocomplete violation.");break;default:c("Bad input type.")}break;case "applet":case "body":case "embed":case "frame":case "frameset":case "head":case "iframe":case "noembed":case "noframes":case "object":case "param":i.adsafe&&c("ADsafe violation: Disallowed tag: "+b)}n||D.push(r);p="outer";e(">");break;case "</":p="html";e("</");a.identifier||c("Bad identifier.");o=a.value;
i.cap&&(o=o.toLowerCase());e();D||m("Unexpected '{a}'.",a,"</"+o+">");(r=D.pop())||m("Unexpected '{a}'.",a,"</"+o+">");r.name!==o&&m("Expected '{a}' and instead saw '{b}'.",a,"</"+r.name+">","</"+o+">");a.id!==">"&&m("Missing '{a}'.",a,">");p="outer";e(">");break;case "<!":i.safe&&c("ADsafe HTML violation.");for(p="html";;){e();if(a.id===">"||a.id==="(end)")break;a.value.indexOf("--")>=0&&c("Unexpected --.");a.value.indexOf("<")>=0&&c("Unexpected <.");a.value.indexOf(">")>=0&&c("Unexpected >.")}p=
"outer";e(">");break;case "(end)":break a;default:a.id==="(end)"?m("Missing '{a}'.",a,"</"+D[D.length-1].value+">"):e()}if(D&&D.length===0&&(i.adsafe||!i.fragment||a.id==="(end)"))break}a.id!=="(end)"&&m("Unexpected material after the end.")}i.adsafe&&!ta&&c("ADsafe violation: Missing ADSAFE.go.",this)}else switch(a.id){case "{":case "[":ja=i.laxbreak=true;bb();break;case "@":case "*":case "#":case ".":case ":":p="style";e();(g.id!=="@"||!a.identifier||a.value!=="charset"||g.line!==1||g.from!==1)&&
m('A css file should begin with @charset "UTF-8";');e();a.type!=="(string)"&&a.value!=="UTF-8"&&m('A css file should begin with @charset "UTF-8";');e();e(";");ob();break;default:i.adsafe&&i.fragment&&m("Expected '{a}' and instead saw '{b}'.",a,"<div>",a.value);oa("lib")}e("(end)")}catch(B){B&&JSLINT.errors.push({reason:B.message,line:B.line||a.line,character:B.character||a.from},null)}return JSLINT.errors.length===0};T.data=function(){var a={functions:[]},d;d=[];var b,c,e,g,h=[];if(T.errors.length)a.errors=
T.errors;if(ja)a.json=true;for(g in U)M(U,g)&&d.push({name:g,line:U[g]});if(d.length>0)a.implieds=d;if(ra.length>0)a.urls=ra;d=pb(A);if(d.length>0)a.globals=d;for(c=1;c<sa.length;c=c+1){b=sa[c];d={};for(e=0;e<ua.length;e=e+1)d[ua[e]]=[];for(g in b)if(M(b,g)&&g.charAt(0)!=="("){e=b[g];if(Object.prototype.toString.apply(d[e])==="[object Array]"){d[e].push(g);e==="unused"&&h.push({name:g,line:b["(line)"],"function":b["(name)"]})}}for(e=0;e<ua.length;e=e+1)d[ua[e]].length===0&&delete d[ua[e]];d.name=
b["(name)"];d.param=b["(params)"];d.line=b["(line)"];d.last=b["(last)"];a.functions.push(d)}if(h.length>0)a.unused=h;for(g in aa)if(typeof aa[g]==="number"){a.member=aa;break}return a};T.report=function(a){function d(a,b){var c,d,e;if(b){i.push("<div><i>"+a+"</i> ");b=b.sort();for(d=0;d<b.length;d=d+1)if(b[d]!==e){e=b[d];i.push((c?", ":"")+e);c=true}i.push("</div>")}}var b=T.data(),c=[],e,g,h;e="";var j,i=[];if(b.errors||b.implieds||b.unused){g=true;i.push("<div id=errors><i>Error:</i>");if(b.errors)for(h=
0;h<b.errors.length;h=h+1)if(c=b.errors[h]){e=c.evidence||"";i.push("<p>Problem"+(isFinite(c.line)?" at line "+c.line+" character "+c.character:"")+": "+c.reason.entityify()+"</p><p class=evidence>"+(e&&(e.length>80?e.slice(0,77)+"...":e).entityify())+"</p>")}if(b.implieds){c=[];for(h=0;h<b.implieds.length;h=h+1)c[h]="<code>"+b.implieds[h].name+"</code>&nbsp;<i>"+b.implieds[h].line+"</i>";i.push("<p><i>Implied global:</i> "+c.join(", ")+"</p>")}if(b.unused){c=[];for(h=0;h<b.unused.length;h=h+1)c[h]=
"<code><u>"+b.unused[h].name+"</u></code>&nbsp;<i>"+b.unused[h].line+"</i> <code>"+b.unused[h]["function"]+"</code>";i.push("<p><i>Unused variable:</i> "+c.join(", ")+"</p>")}b.json&&i.push("<p>JSON: bad.</p>");i.push("</div>")}if(!a){i.push("<br><div id=functions>");b.urls&&d("URLs<br>",b.urls,"<br>");p==="style"?i.push("<p>CSS.</p>"):b.json&&!g?i.push("<p>JSON: good.</p>"):b.globals?i.push("<div><i>Global</i> "+b.globals.sort().join(", ")+"</div>"):i.push("<div><i>No new global variables introduced.</i></div>");
for(h=0;h<b.functions.length;h=h+1){a=b.functions[h];i.push("<br><div class=function><i>"+a.line+"-"+a.last+"</i> "+(a.name||"")+"("+(a.param?a.param.join(", "):"")+")</div>");d("<big><b>Unused</b></big>",a.unused);d("Closure",a.closure);d("Variable",a["var"]);d("Exception",a.exception);d("Outer",a.outer);d("Global",a.global);d("Label",a.label)}if(b.member){c=pb(b.member);if(c.length){c=c.sort();e="<br><pre id=members>/*members ";g=10;for(h=0;h<c.length;h=h+1){a=c[h];j=a.name();if(g+j.length>72){i.push(e+
"<br>");e="    ";g=1}g=g+(j.length+2);b.member[a]===1&&(j="<i>"+j+"</i>");h<c.length-1&&(j=j+", ");e=e+j}i.push(e+"<br>*/</pre>")}i.push("</div>")}}return i.join("")};T.jslint=T;T.edition="2010-04-06";return T}();
