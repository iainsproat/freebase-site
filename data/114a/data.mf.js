
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
*/
document.createElement("canvas").getContext||function(){function d(){return this.context_||(this.context_=new I(this))}function n(f,a,b){var c=ka.call(arguments,2);return function(){return f.apply(a,c.concat(ka.call(arguments)))}}function b(f){return String(f).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function e(f){f.namespaces.g_vml_||f.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");f.namespaces.g_o_||f.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");
f.styleSheets.ex_canvas_||(f=f.createStyleSheet(),f.owningElement.id="ex_canvas_",f.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function k(f){var a=f.srcElement;switch(f.propertyName){case "width":a.getContext().clearRect();a.style.width=a.attributes.width.nodeValue+"px";a.firstChild.style.width=a.clientWidth+"px";break;case "height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+
"px"}}function a(f){f=f.srcElement;f.firstChild&&(f.firstChild.style.width=f.clientWidth+"px",f.firstChild.style.height=f.clientHeight+"px")}function c(){return[[1,0,0],[0,1,0],[0,0,1]]}function m(f,a){for(var b=c(),d=0;3>d;d++)for(var g=0;3>g;g++){for(var e=0,m=0;3>m;m++)e+=f[d][m]*a[m][g];b[d][g]=e}return b}function t(f,a){a.fillStyle=f.fillStyle;a.lineCap=f.lineCap;a.lineJoin=f.lineJoin;a.lineWidth=f.lineWidth;a.miterLimit=f.miterLimit;a.shadowBlur=f.shadowBlur;a.shadowColor=f.shadowColor;a.shadowOffsetX=
f.shadowOffsetX;a.shadowOffsetY=f.shadowOffsetY;a.strokeStyle=f.strokeStyle;a.globalAlpha=f.globalAlpha;a.font=f.font;a.textAlign=f.textAlign;a.textBaseline=f.textBaseline;a.arcScaleX_=f.arcScaleX_;a.arcScaleY_=f.arcScaleY_;a.lineScale_=f.lineScale_}function r(f){var a=f.indexOf("(",3),b=f.indexOf(")",a+1),a=f.substring(a+1,b).split(",");4==a.length&&"a"==f.substr(3,1)?alpha=Number(a[3]):a[3]=1;return a}function A(f,a,b){return Math.min(b,Math.max(a,f))}function B(f,a,b){0>b&&b++;1<b&&b--;return 1>
6*b?f+6*(a-f)*b:1>2*b?a:2>3*b?f+6*(a-f)*(2/3-b):f}function C(f){var a=1,f=String(f);if("#"!=f.charAt(0))if(/^rgb/.test(f)){for(var a=r(f),f="#",b,c=0;3>c;c++)b=-1!=a[c].indexOf("%")?Math.floor(255*(parseFloat(a[c])/100)):Number(a[c]),f+=Z[A(b,0,255)];a=a[3]}else if(/^hsl/.test(f)){f=a=r(f);h=parseFloat(f[0])/360%360;0>h&&h++;s=A(parseFloat(f[1])/100,0,1);l=A(parseFloat(f[2])/100,0,1);if(0==s)f=b=c=l;else{var c=0.5>l?l*(1+s):l+s-l*s,d=2*l-c,f=B(d,c,h+1/3);b=B(d,c,h);c=B(d,c,h-1/3)}f="#"+Z[Math.floor(255*
f)]+Z[Math.floor(255*b)]+Z[Math.floor(255*c)];a=a[3]}else f=la[f]||f;return{color:f,alpha:a}}function q(f){switch(f){case "butt":return"flat";case "round":return"round";default:return"square"}}function I(f){this.m_=c();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*D;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=
f;var a=f.ownerDocument.createElement("div");a.style.width=f.clientWidth+"px";a.style.height=f.clientHeight+"px";a.style.overflow="hidden";a.style.position="absolute";f.appendChild(a);this.element_=a;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function T(f,a,b,c){f.currentPath_.push({type:"bezierCurveTo",cp1x:a.x,cp1y:a.y,cp2x:b.x,cp2y:b.y,x:c.x,y:c.y});f.currentX_=c.x;f.currentY_=c.y}function da(f,a){var b=C(f.strokeStyle),c=b.color,b=b.alpha*f.globalAlpha,d=f.lineScale_*f.lineWidth;1>d&&(b*=
d);a.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',f.lineJoin,'"',' miterlimit="',f.miterLimit,'"',' endcap="',q(f.lineCap),'"',' weight="',d,'px"',' color="',c,'" />')}function ga(f,a,b,c){var d=f.fillStyle,g=f.arcScaleX_,e=f.arcScaleY_,m=c.x-b.x,k=c.y-b.y;if(d instanceof U){var n=0,u=c=0,t=0,p=1;if("gradient"==d.type_){var n=d.x1_/g,b=d.y1_/e,q=f.getCoords_(d.x0_/g,d.y0_/e),n=f.getCoords_(n,b),n=180*Math.atan2(n.x-q.x,n.y-q.y)/Math.PI;0>n&&(n+=360);1E-6>n&&(n=0)}else q=f.getCoords_(d.x0_,
d.y0_),c=(q.x-b.x)/m,u=(q.y-b.y)/k,m/=g*D,k/=e*D,p=o.max(m,k),t=2*d.r0_/p,p=2*d.r1_/p-t;g=d.colors_;g.sort(function(f,a){return f.offset-a.offset});for(var e=g.length,q=g[0].color,b=g[e-1].color,m=g[0].alpha*f.globalAlpha,f=g[e-1].alpha*f.globalAlpha,k=[],r=0;r<e;r++){var z=g[r];k.push(z.offset*p+t+" "+z.color)}a.push('<g_vml_:fill type="',d.type_,'"',' method="none" focus="100%"',' color="',q,'"',' color2="',b,'"',' colors="',k.join(","),'"',' opacity="',f,'"',' g_o_:opacity2="',m,'"',' angle="',
n,'"',' focusposition="',c,",",u,'" />')}else d instanceof W?m&&k&&a.push("<g_vml_:fill",' position="',-b.x/m*g*g,",",-b.y/k*e*e,'"',' type="tile"',' src="',d.src_,'" />'):(d=C(f.fillStyle),a.push('<g_vml_:fill color="',d.color,'" opacity="',d.alpha*f.globalAlpha,'" />'))}function X(f,a,b){isFinite(a[0][0])&&(isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1]))&&(f.m_=a,b&&(f.lineScale_=na(oa(a[0][0]*a[1][1]-a[0][1]*a[1][0]))))}function U(a){this.type_=a;
this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function W(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new g("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new g("INVALID_STATE_ERR");switch(b){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=b;break;default:throw new g("SYNTAX_ERR");}this.src_=a.src;this.width_=a.width;this.height_=a.height}function g(a){this.code=this[a];this.message=
a+": DOM Exception "+this.code}var o=Math,u=o.round,aa=o.sin,ea=o.cos,oa=o.abs,na=o.sqrt,D=10,S=D/2,ka=Array.prototype.slice;e(document);var ia={init:function(a){/MSIE/.test(navigator.userAgent)&&!window.opera&&(a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",n(this.init_,this,a)))},init_:function(a){for(var a=a.getElementsByTagName("canvas"),b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(f){if(!f.getContext){f.getContext=d;e(f.ownerDocument);f.innerHTML=
"";f.attachEvent("onpropertychange",k);f.attachEvent("onresize",a);var b=f.attributes;b.width&&b.width.specified?f.style.width=b.width.nodeValue+"px":f.width=f.clientWidth;b.height&&b.height.specified?f.style.height=b.height.nodeValue+"px":f.height=f.clientHeight}return f}};ia.init();for(var Z=[],p=0;16>p;p++)for(var ha=0;16>ha;ha++)Z[16*p+ha]=p.toString(16)+ha.toString(16);var la={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",
blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",
darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",
khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",
mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",
peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},
z={},p=I.prototype;p.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};p.beginPath=function(){this.currentPath_=[]};p.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};p.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};p.bezierCurveTo=function(a,
b,c,d,g,e){g=this.getCoords_(g,e);a=this.getCoords_(a,b);c=this.getCoords_(c,d);T(this,a,c,g)};p.quadraticCurveTo=function(a,b,c,d){a=this.getCoords_(a,b);c=this.getCoords_(c,d);d={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};T(this,d,{x:d.x+(c.x-this.currentX_)/3,y:d.y+(c.y-this.currentY_)/3},c)};p.arc=function(a,b,c,d,g,e){var c=c*D,m=e?"at":"wa",k=a+ea(d)*c-S,n=b+aa(d)*c-S,d=a+ea(g)*c-S,g=b+aa(g)*c-S;k==d&&!e&&(k+=0.125);a=this.getCoords_(a,b);k=this.getCoords_(k,
n);d=this.getCoords_(d,g);this.currentPath_.push({type:m,x:a.x,y:a.y,radius:c,xStart:k.x,yStart:k.y,xEnd:d.x,yEnd:d.y})};p.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};p.strokeRect=function(a,b,c,d){var g=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke();this.currentPath_=g};p.fillRect=function(a,b,c,d){var g=this.currentPath_;this.beginPath();
this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.fill();this.currentPath_=g};p.createLinearGradient=function(a,b,c,d){var g=new U("gradient");g.x0_=a;g.y0_=b;g.x1_=c;g.y1_=d;return g};p.createRadialGradient=function(a,b,c,d,g,e){var m=new U("gradientradial");m.x0_=a;m.y0_=b;m.r0_=c;m.x1_=d;m.y1_=g;m.r1_=e;return m};p.drawImage=function(a,b){var c,d,g,e,m,k,n,t;g=a.runtimeStyle.width;e=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height=
"auto";var q=a.width,p=a.height;a.runtimeStyle.width=g;a.runtimeStyle.height=e;if(3==arguments.length)c=arguments[1],d=arguments[2],m=k=0,n=g=q,t=e=p;else if(5==arguments.length)c=arguments[1],d=arguments[2],g=arguments[3],e=arguments[4],m=k=0,n=q,t=p;else if(9==arguments.length)m=arguments[1],k=arguments[2],n=arguments[3],t=arguments[4],c=arguments[5],d=arguments[6],g=arguments[7],e=arguments[8];else throw Error("Invalid number of arguments");var r=this.getCoords_(c,d),z=[];z.push(" <g_vml_:group",
' coordsize="',10*D,",",10*D,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var C=[];C.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",u(r.x/D),",","Dy=",u(r.y/D),"");var A=this.getCoords_(c+g,d),I=this.getCoords_(c,d+e);c=this.getCoords_(c+g,d+e);r.x=o.max(r.x,A.x,I.x,c.x);r.y=o.max(r.y,A.y,I.y,c.y);z.push("padding:0 ",u(r.x/D),
"px ",u(r.y/D),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",C.join(""),", sizingmethod='clip');")}else z.push("top:",u(r.y/D),"px;left:",u(r.x/D),"px;");z.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',D*g,"px;"," height:",D*e,'px"',' cropleft="',m/q,'"',' croptop="',k/p,'"',' cropright="',(q-m-n)/q,'"',' cropbottom="',(p-k-t)/p,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",z.join(""))};p.stroke=function(a){for(var b={x:null,y:null},c={x:null,y:null},
d=0;d<this.currentPath_.length;d+=5E3){var g=[];g.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*D,",",10*D,'"',' stroked="',!a,'"',' path="');for(var e=d;e<Math.min(d+5E3,this.currentPath_.length);e++){0==e%5E3&&0<e&&g.push(" m ",u(this.currentPath_[e-1].x),",",u(this.currentPath_[e-1].y));var m=this.currentPath_[e];switch(m.type){case "moveTo":g.push(" m ",u(m.x),",",u(m.y));break;case "lineTo":g.push(" l ",
u(m.x),",",u(m.y));break;case "close":g.push(" x ");m=null;break;case "bezierCurveTo":g.push(" c ",u(m.cp1x),",",u(m.cp1y),",",u(m.cp2x),",",u(m.cp2y),",",u(m.x),",",u(m.y));break;case "at":case "wa":g.push(" ",m.type," ",u(m.x-this.arcScaleX_*m.radius),",",u(m.y-this.arcScaleY_*m.radius)," ",u(m.x+this.arcScaleX_*m.radius),",",u(m.y+this.arcScaleY_*m.radius)," ",u(m.xStart),",",u(m.yStart)," ",u(m.xEnd),",",u(m.yEnd))}if(m){if(null==b.x||m.x<b.x)b.x=m.x;if(null==c.x||m.x>c.x)c.x=m.x;if(null==b.y||
m.y<b.y)b.y=m.y;if(null==c.y||m.y>c.y)c.y=m.y}}g.push(' ">');a?ga(this,g,b,c):da(this,g);g.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",g.join(""))}};p.fill=function(){this.stroke(!0)};p.closePath=function(){this.currentPath_.push({type:"close"})};p.getCoords_=function(a,b){var c=this.m_;return{x:D*(a*c[0][0]+b*c[1][0]+c[2][0])-S,y:D*(a*c[0][1]+b*c[1][1]+c[2][1])-S}};p.save=function(){var a={};t(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=m(c(),this.m_)};
p.restore=function(){this.aStack_.length&&(t(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};p.translate=function(a,b){X(this,m([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)};p.rotate=function(a){var b=ea(a),a=aa(a);X(this,m([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};p.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;X(this,m([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};p.transform=function(a,b,c,d,g,e){X(this,m([[a,b,0],[c,d,0],[g,e,1]],this.m_),!0)};p.setTransform=function(a,b,c,d,g,m){X(this,
[[a,b,0],[c,d,0],[g,m,1]],!0)};p.drawText_=function(a,c,d,g,m){var e=this.m_,g=0,k=1E3,n=0,o=[],t;t=this.font;if(z[t])t=z[t];else{var q=document.createElement("div").style;try{q.font=t}catch(p){}t=z[t]={style:q.fontStyle||"normal",variant:q.fontVariant||"normal",weight:q.fontWeight||"normal",size:q.fontSize||10,family:q.fontFamily||"sans-serif"}}var q=t,r=this.element_;t={};for(var C in q)t[C]=q[C];C=parseFloat(r.currentStyle.fontSize);r=parseFloat(q.size);t.size="number"==typeof q.size?q.size:-1!=
q.size.indexOf("px")?r:-1!=q.size.indexOf("em")?C*r:-1!=q.size.indexOf("%")?C/100*r:-1!=q.size.indexOf("pt")?r/0.75:C;t.size*=0.981;C=t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.family;r=this.element_.currentStyle;q=this.textAlign.toLowerCase();switch(q){case "left":case "center":case "right":break;case "end":q="ltr"==r.direction?"right":"left";break;case "start":q="rtl"==r.direction?"right":"left";break;default:q="left"}switch(this.textBaseline){case "hanging":case "top":n=t.size/1.75;
break;case "middle":break;default:case null:case "alphabetic":case "ideographic":case "bottom":n=-t.size/2.25}switch(q){case "right":g=1E3;k=0.05;break;case "center":g=k=500}c=this.getCoords_(c+0,d+n);o.push('<g_vml_:line from="',-g,' 0" to="',k,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!m,'" stroked="',!!m,'" style="position:absolute;width:1px;height:1px;">');m?da(this,o):ga(this,o,{x:-g,y:0},{x:k,y:t.size});m=e[0][0].toFixed(3)+","+e[1][0].toFixed(3)+","+e[0][1].toFixed(3)+
","+e[1][1].toFixed(3)+",0,0";c=u(c.x/D)+","+u(c.y/D);o.push('<g_vml_:skew on="t" matrix="',m,'" ',' offset="',c,'" origin="',g,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',b(a),'" style="v-text-align:',q,";font:",b(C),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",o.join(""))};p.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)};p.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)};p.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",
'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};p.clip=function(){};p.arcTo=function(){};p.createPattern=function(a,b){return new W(a,b)};U.prototype.addColorStop=function(a,b){b=C(b);this.colors_.push({offset:a,
color:b.color,alpha:b.alpha})};p=g.prototype=Error();p.INDEX_SIZE_ERR=1;p.DOMSTRING_SIZE_ERR=2;p.HIERARCHY_REQUEST_ERR=3;p.WRONG_DOCUMENT_ERR=4;p.INVALID_CHARACTER_ERR=5;p.NO_DATA_ALLOWED_ERR=6;p.NO_MODIFICATION_ALLOWED_ERR=7;p.NOT_FOUND_ERR=8;p.NOT_SUPPORTED_ERR=9;p.INUSE_ATTRIBUTE_ERR=10;p.INVALID_STATE_ERR=11;p.SYNTAX_ERR=12;p.INVALID_MODIFICATION_ERR=13;p.NAMESPACE_ERR=14;p.INVALID_ACCESS_ERR=15;p.VALIDATION_ERR=16;p.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=ia;CanvasRenderingContext2D=I;CanvasGradient=
U;CanvasPattern=W;DOMException=g}();
(function(){jQuery.color={};jQuery.color.make=function(d,b,e,k){var a={};a.r=d||0;a.g=b||0;a.b=e||0;a.a=null!=k?k:1;a.add=function(b,d){for(var e=0;e<b.length;++e)a[b.charAt(e)]+=d;return a.normalize()};a.scale=function(b,d){for(var e=0;e<b.length;++e)a[b.charAt(e)]*=d;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,c,d){return c<a?a:c>d?d:c}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),
255);a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(d,b){var e;do{e=d.css(b).toLowerCase();if(""!=e&&"transparent"!=e)break;d=d.parent()}while(!jQuery.nodeName(d.get(0),"body"));"rgba(0, 0, 0, 0)"==e&&(e="transparent");return jQuery.color.parse(e)};jQuery.color.parse=function(n){var b,e=jQuery.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return e(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return e(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return e(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return e(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return e(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return e(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));n=jQuery.trim(n).toLowerCase();if("transparent"==n)return e(255,255,255,0);b=d[n];return e(b[0],b[1],b[2])};var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(d){function n(e,k,a,c){function m(a,b){for(var b=[G].concat(b),w=0;w<a.length;++w)a[w].apply(this,b)}function n(a){for(var b=[],w=0;w<a.length;++w){var c=d.extend(!0,{},f.series);a[w].data?(c.data=a[w].data,delete a[w].data,d.extend(!0,c,a[w]),a[w].data=c.data):c.data=a[w];b.push(c)}z=b;b=z.length;w=[];c=[];for(a=0;a<z.length;++a){var j=z[a].color;null!=j&&(--b,"number"==typeof j?c.push(j):w.push(d.color.parse(z[a].color)))}for(a=0;a<c.length;++a)b=Math.max(b,c[a]+1);w=[];for(a=c=0;w.length<
b;)j=f.colors.length==a?d.color.make(100,100,100):d.color.parse(f.colors[a]),j.scale("rgb",1+0.2*(1==c%2?-1:1)*Math.ceil(c/2)),w.push(j),++a,a>=f.colors.length&&(a=0,++c);for(a=b=0;a<z.length;++a){c=z[a];null==c.color?(c.color=w[b].toString(),++b):"number"==typeof c.color&&(c.color=w[c.color].toString());if(null==c.lines.show){var g,j=!0;for(g in c)if(c[g]&&c[g].show){j=!1;break}j&&(c.lines.show=!0)}c.xaxis=C(E,r(c,"x"));c.yaxis=C(L,r(c,"y"))}b=function(a){a&&(a.datamin=e,a.datamax=k,a.used=!1)};
g=function(a,b,c){b<a.datamin&&(a.datamin=b);c>a.datamax&&(a.datamax=c)};for(var e=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,J,F,K,o,q,a=0;a<E.length;++a)b(E[a]);for(a=0;a<L.length;++a)b(L[a]);for(a=0;a<z.length;++a)b=z[a],b.datapoints={points:[]},m(R.processRawData,[b,b.data,b.datapoints]);for(a=0;a<z.length;++a){var b=z[a],ba=b.data,N=b.datapoints.format;if(!N){N=[];N.push({x:!0,number:!0,required:!0});N.push({y:!0,number:!0,required:!0});if(b.bars.show||b.lines.show&&b.lines.fill)N.push({y:!0,
number:!0,required:!1,defaultValue:0}),b.bars.horizontal&&(delete N[N.length-1].y,N[N.length-1].x=!0);b.datapoints.format=N}if(null==b.datapoints.pointsize){null==b.datapoints.pointsize&&(b.datapoints.pointsize=N.length);F=b.datapoints.pointsize;j=b.datapoints.points;insertSteps=b.lines.show&&b.lines.steps;b.xaxis.used=b.yaxis.used=!0;for(w=J=0;w<ba.length;++w,J+=F){q=ba[w];var t=null==q;if(!t)for(c=0;c<F;++c){K=q[c];if(o=N[c])if(o.number&&null!=K&&(K=+K,isNaN(K)&&(K=null)),null==K)o.required&&(t=
!0),null!=o.defaultValue&&(K=o.defaultValue);j[J+c]=K}if(t)for(c=0;c<F;++c)K=j[J+c],null!=K&&(o=N[c],o.x&&g(b.xaxis,K,K),o.y&&g(b.yaxis,K,K)),j[J+c]=null;else if(insertSteps&&0<J&&null!=j[J-F]&&j[J-F]!=j[J]&&j[J-F+1]!=j[J+1]){for(c=0;c<F;++c)j[J+F+c]=j[J+c];j[J+1]=j[J-F+1];J+=F}}}}for(a=0;a<z.length;++a)b=z[a],m(R.processDatapoints,[b,b.datapoints]);for(a=0;a<z.length;++a){b=z[a];j=b.datapoints.points;F=b.datapoints.pointsize;q=J=e;t=ba=k;for(w=0;w<j.length;w+=F)if(null!=j[w])for(c=0;c<F;++c)if(K=
j[w+c],o=N[c])if(o.x&&(K<J&&(J=K),K>ba&&(ba=K)),o.y)K<q&&(q=K),K>t&&(t=K);b.bars.show&&(w="left"==b.bars.align?0:-b.bars.barWidth/2,b.bars.horizontal?(q+=w,t+=w+b.bars.barWidth):(J+=w,ba+=w+b.bars.barWidth));g(b.xaxis,J,ba);g(b.yaxis,q,t)}d.each(B(),function(a,b){b.datamin==e&&(b.datamin=null);b.datamax==k&&(b.datamax=null)})}function r(a,b){var c=a[b+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function A(a){var b={},c,d;for(c=0;c<E.length;++c)(d=E[c])&&d.used&&(b["x"+d.n]=
d.c2p(a.left));for(c=0;c<L.length;++c)(d=L[c])&&d.used&&(b["y"+d.n]=d.c2p(a.top));void 0!==b.x1&&(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function B(){var a=[],b,c;for(b=0;b<E.length;++b)(c=E[b])&&c.used&&a.push(c);for(b=0;b<L.length;++b)(c=L[b])&&c.used&&a.push(c);return a}function C(a,b){a[b-1]||(a[b-1]={n:b,direction:a==E?"x":"y",options:d.extend(!0,{},a==E?f.xaxis:f.yaxis)});return a[b-1]}function q(a){function b(a){return a}var c,d,j=a.options.transform||b,g=a.options.inverseTransform;"x"==
a.direction?(c=a.scale=Y/(j(a.max)-j(a.min)),d=j(a.min),a.p2c=j==b?function(a){return(a-d)*c}:function(a){return(j(a)-d)*c},a.c2p=g?function(a){return g(d+a/c)}:function(a){return d+a/c}):(c=a.scale=Q/(j(a.max)-j(a.min)),d=j(a.max),a.p2c=j==b?function(a){return(d-a)*c}:function(a){return(d-j(a))*c},a.c2p=g?function(a){return g(d-a/c)}:function(a){return d-a/c})}function I(a){function b(c,j){return d('<div style="position:absolute;top:-10000px;'+j+'font-size:smaller"><div class="'+a.direction+"Axis "+
a.direction+a.n+'Axis">'+c.join("")+"</div></div>").appendTo(e)}if(a){var c=a.options,g,j=a.ticks||[],f=[],m,k=c.labelWidth,c=c.labelHeight;if("x"==a.direction){if(null==k&&(k=Math.floor(O/(0<j.length?j.length:1))),null==c){f=[];for(g=0;g<j.length;++g)(m=j[g].label)&&f.push('<div class="tickLabel" style="float:left;width:'+k+'px">'+m+"</div>");0<f.length&&(f.push('<div style="clear:left"></div>'),j=b(f,"width:10000px;"),c=j.height(),j.remove())}}else if(null==k||null==c){for(g=0;g<j.length;++g)(m=
j[g].label)&&f.push('<div class="tickLabel">'+m+"</div>");0<f.length&&(j=b(f,""),null==k&&(k=j.children().width()),null==c&&(c=j.find("div.tickLabel").height()),j.remove())}null==k&&(k=0);null==c&&(c=0);a.labelWidth=k;a.labelHeight=c}}function T(a){if(a&&(a.used||a.labelWidth||a.labelHeight)){var b=a.labelWidth,c=a.labelHeight,g=a.options.position,j=a.options.tickLength,m=f.grid.axisMargin,e=f.grid.labelMargin,k="x"==a.direction?E:L,n=d.grep(k,function(a){return a&&a.options.position==g&&(a.labelHeight||
a.labelWidth)});d.inArray(a,n)==n.length-1&&(m=0);null==j&&(j="full");k=d.grep(k,function(a){return a&&(a.labelHeight||a.labelWidth)});k=0==d.inArray(a,k);!k&&"full"==j&&(j=5);isNaN(+j)||(e+=+j);"x"==a.direction?(c+=e,"bottom"==g?(y.bottom+=c+m,a.box={top:P-y.bottom,height:c}):(a.box={top:y.top+m,height:c},y.top+=c+m)):(b+=e,"left"==g?(a.box={left:y.left+m,width:b},y.left+=b+m):(y.right+=b+m,a.box={left:O-y.right,width:b}));a.position=g;a.tickLength=j;a.box.padding=e;a.innermost=k}}function da(){var a=
B(),b;for(b=0;b<a.length;++b){var c=a[b],g=c.options,j=+(null!=g.min?g.min:c.datamin),m=+(null!=g.max?g.max:c.datamax),k=m-j;if(0==k){if(k=0==m?1:0.01,null==g.min&&(j-=k),null==g.max||null!=g.min)m+=k}else{var n=g.autoscaleMargin;if(null!=n&&(null==g.min&&(j-=k*n,0>j&&(null!=c.datamin&&0<=c.datamin)&&(j=0)),null==g.max))m+=k*n,0<m&&(null!=c.datamax&&0>=c.datamax)&&(m=0)}c.min=j;c.max=m}y.left=y.right=y.top=y.bottom=0;if(f.grid.show){for(b=0;b<a.length;++b){ga(a[b]);c=a[b];c.ticks=[];j=c.options.ticks;
g=null;null==j||"number"==typeof j&&0<j?g=c.tickGenerator(c):j&&(g=d.isFunction(j)?j({min:c.min,max:c.max}):j);m=j=void 0;for(j=0;j<g.length;++j)k=null,n=g[j],"object"==typeof n?(m=n[0],1<n.length&&(k=n[1])):m=n,null==k&&(k=c.tickFormatter(m,c)),c.ticks[j]={v:m,label:k};c=a[b];g=a[b].ticks;if(null!=c.options.autoscaleMargin&&0<g.length&&(null==c.options.min&&(c.min=Math.min(c.min,g[0].v)),null==c.options.max&&1<g.length))c.max=Math.max(c.max,g[g.length-1].v)}for(b=0;b<E.length;++b)I(E[b]);for(b=0;b<
L.length;++b)I(L[b]);for(b=E.length-1;0<=b;--b)T(E[b]);for(b=L.length-1;0<=b;--b)T(L[b]);for(c=b=0;c<z.length;++c)b=Math.max(b,2*(z[c].points.radius+z[c].points.lineWidth/2));for(var o in y)y[o]+=f.grid.borderWidth,y[o]=Math.max(b,y[o])}Y=O-y.left-y.right;Q=P-y.bottom-y.top;for(b=0;b<a.length;++b)q(a[b]);if(f.grid.show){for(b=0;b<a.length;++b)o=a[b],"x"==o.direction?(o.box.left=y.left,o.box.width=Y):(o.box.top=y.top,o.box.height=Q);e.find(".tickLabels").remove();a=['<div class="tickLabels" style="font-size:smaller">'];
o=B();for(b=0;b<o.length;++b){c=o[b];g=c.box;a.push('<div class="'+c.direction+"Axis "+c.direction+c.n+'Axis" style="color:'+c.options.color+'">');for(j=0;j<c.ticks.length;++j)if(m=c.ticks[j],m.label&&!(m.v<c.min||m.v>c.max)){k={};"x"==c.direction?(n="center",k.left=Math.round(y.left+c.p2c(m.v)-c.labelWidth/2),"bottom"==c.position?k.top=g.top+g.padding:k.bottom=P-(g.top+g.height-g.padding)):(k.top=Math.round(y.top+c.p2c(m.v)-c.labelHeight/2),"left"==c.position?(k.right=O-(g.left+g.width-g.padding),
n="right"):(k.left=g.left+g.padding,n="left"));k.width=c.labelWidth;var n=["position:absolute","text-align:"+n],F;for(F in k)n.push(F+":"+k[F]+"px");a.push('<div class="tickLabel" style="'+n.join(";")+'">'+m.label+"</div>")}a.push("</div>")}a.push("</div>");e.append(a.join(""))}e.find(".legend").remove();if(f.legend.show){F=[];a=!1;o=f.legend.labelFormatter;for(g=0;g<z.length;++g)if(b=z[g],c=b.label)0==g%f.legend.noColumns&&(a&&F.push("</tr>"),F.push("<tr>"),a=!0),o&&(c=o(c,b)),F.push('<td class="legendColorBox"><div style="border:1px solid '+
f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+b.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+c+"</td>");a&&F.push("</tr>");0!=F.length&&(a='<table style="font-size:smaller;color:'+f.grid.color+'">'+F.join("")+"</table>",null!=f.legend.container?d(f.legend.container).html(a):(F="",o=f.legend.position,b=f.legend.margin,null==b[0]&&(b=[b,b]),"n"==o.charAt(0)?F+="top:"+(b[1]+y.top)+"px;":"s"==o.charAt(0)&&(F+="bottom:"+(b[1]+y.bottom)+
"px;"),"e"==o.charAt(1)?F+="right:"+(b[0]+y.right)+"px;":"w"==o.charAt(1)&&(F+="left:"+(b[0]+y.left)+"px;"),a=d('<div class="legend">'+a.replace('style="','style="position:absolute;'+F+";")+"</div>").appendTo(e),0!=f.legend.backgroundOpacity&&(o=f.legend.backgroundColor,null==o&&(o=(o=f.grid.backgroundColor)&&"string"==typeof o?d.color.parse(o):d.color.extract(a,"background-color"),o.a=1,o=o.toString()),b=a.children(),d('<div style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+
F+"background-color:"+o+';"> </div>').prependTo(a).css("opacity",f.legend.backgroundOpacity))))}}function ga(a){var c=a.options,g;g="number"==typeof c.ticks&&0<c.ticks?c.ticks:"x"==a.direction?0.3*Math.sqrt(O):0.3*Math.sqrt(P);g=(a.max-a.min)/g;var f,j,m,e;if("time"==c.mode){var k={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};e=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],
[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];f=0;null!=c.minTickSize&&(f="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*k[c.minTickSize[1]]);for(j=0;j<e.length-1&&!(g<(e[j][0]*k[e[j][1]]+e[j+1][0]*k[e[j+1][1]])/2&&e[j][0]*k[e[j][1]]>=f);++j);f=e[j][0];m=e[j][1];"year"==m&&(j=Math.pow(10,Math.floor(Math.log(g/k.year)/Math.LN10)),e=g/k.year/j,f=(1.5>e?1:3>e?2:7.5>e?5:10)*j);
a.tickSize=c.tickSize||[f,m];j=function(a){var c=[],g=a.tickSize[0],d=a.tickSize[1],j=new Date(a.min),f=g*k[d];d=="second"&&j.setUTCSeconds(b(j.getUTCSeconds(),g));d=="minute"&&j.setUTCMinutes(b(j.getUTCMinutes(),g));d=="hour"&&j.setUTCHours(b(j.getUTCHours(),g));d=="month"&&j.setUTCMonth(b(j.getUTCMonth(),g));d=="year"&&j.setUTCFullYear(b(j.getUTCFullYear(),g));j.setUTCMilliseconds(0);f>=k.minute&&j.setUTCSeconds(0);f>=k.hour&&j.setUTCMinutes(0);f>=k.day&&j.setUTCHours(0);f>=k.day*4&&j.setUTCDate(1);
f>=k.year&&j.setUTCMonth(0);var m=0,e=Number.NaN,H;do{H=e;e=j.getTime();c.push(e);if(d=="month")if(g<1){j.setUTCDate(1);var w=j.getTime();j.setUTCMonth(j.getUTCMonth()+1);var o=j.getTime();j.setTime(e+m*k.hour+(o-w)*g);m=j.getUTCHours();j.setUTCHours(0)}else j.setUTCMonth(j.getUTCMonth()+g);else d=="year"?j.setUTCFullYear(j.getUTCFullYear()+g):j.setTime(e+f)}while(e<a.max&&e!=H);return c};f=function(a,b){var g=new Date(a);if(c.timeformat!=null)return d.plot.formatDate(g,c.timeformat,c.monthNames);
var j=b.tickSize[0]*k[b.tickSize[1]],f=b.max-b.min,m=c.twelveHourClock?" %p":"";fmt=j<k.minute?"%h:%M:%S"+m:j<k.day?f<2*k.day?"%h:%M"+m:"%b %d %h:%M"+m:j<k.month?"%b %d":j<k.year?f<k.year?"%b":"%b %y":"%y";return d.plot.formatDate(g,fmt,c.monthNames)}}else{m=c.tickDecimals;var o=-Math.floor(Math.log(g)/Math.LN10);null!=m&&o>m&&(o=m);j=Math.pow(10,-o);e=g/j;if(1.5>e)f=1;else if(3>e){if(f=2,2.25<e&&(null==m||o+1<=m))f=2.5,++o}else f=7.5>e?5:10;f*=j;null!=c.minTickSize&&f<c.minTickSize&&(f=c.minTickSize);
a.tickDecimals=Math.max(0,null!=m?m:o);a.tickSize=c.tickSize||f;j=function(a){var c=[],g=b(a.min,a.tickSize),j=0,d=Number.NaN,f;do{f=d;d=g+j*a.tickSize;c.push(d);++j}while(d<a.max&&d!=f);return c};f=function(a,b){return a.toFixed(b.tickDecimals)}}if(null!=c.alignTicksWithAxis){var n=("x"==a.direction?E:L)[c.alignTicksWithAxis-1];if(n&&n.used&&n!=a){j=j(a);if(0<j.length&&(null==c.min&&(a.min=Math.min(a.min,j[0])),null==c.max&&1<j.length))a.max=Math.max(a.max,j[j.length-1]);j=function(a){var b=[],c,
g;for(g=0;g<n.ticks.length;++g)c=(n.ticks[g].v-n.min)/(n.max-n.min),c=a.min+c*(a.max-a.min),b.push(c);return b};"time"!=a.mode&&null==c.tickDecimals&&(g=Math.max(0,-Math.floor(Math.log(g)/Math.LN10)+1),e=j(a),1<e.length&&/\..*0$/.test((e[1]-e[0]).toFixed(g))||(a.tickDecimals=g))}}a.tickGenerator=j;a.tickFormatter=d.isFunction(c.tickFormatter)?function(a,b){return""+c.tickFormatter(a,b)}:f}function X(){v.clearRect(0,0,O,P);var a=f.grid;a.show&&!a.aboveData&&W();for(var b=0;b<z.length;++b){m(R.drawSeries,
[v,z[b]]);var c=z[b];c.lines.show&&g(c);c.bars.show&&aa(c);c.points.show&&o(c)}m(R.draw,[v]);a.show&&a.aboveData&&W()}function U(a,b){var c,g,j,d,f;d=B();for(i=0;i<d.length;++i)if(c=d[i],c.direction==b&&(f=b+c.n+"axis",!a[f]&&1==c.n&&(f=b+"axis"),a[f])){g=a[f].from;j=a[f].to;break}a[f]||(c="x"==b?E[0]:L[0],g=a[b+"1"],j=a[b+"2"]);null!=g&&(null!=j&&g>j)&&(d=g,g=j,j=d);return{from:g,to:j,axis:c}}function W(){var a;v.save();v.translate(y.left,y.top);f.grid.backgroundColor&&(v.fillStyle=la(f.grid.backgroundColor,
Q,0,"rgba(255, 255, 255, 0)"),v.fillRect(0,0,Y,Q));var b=f.grid.markings;if(b){if(d.isFunction(b)){var c=G.getAxes();c.xmin=c.xaxis.min;c.xmax=c.xaxis.max;c.ymin=c.yaxis.min;c.ymax=c.yaxis.max;b=b(c)}for(a=0;a<b.length;++a){var c=b[a],g=U(c,"x"),j=U(c,"y");null==g.from&&(g.from=g.axis.min);null==g.to&&(g.to=g.axis.max);null==j.from&&(j.from=j.axis.min);null==j.to&&(j.to=j.axis.max);g.to<g.axis.min||(g.from>g.axis.max||j.to<j.axis.min||j.from>j.axis.max)||(g.from=Math.max(g.from,g.axis.min),g.to=Math.min(g.to,
g.axis.max),j.from=Math.max(j.from,j.axis.min),j.to=Math.min(j.to,j.axis.max),g.from==g.to&&j.from==j.to||(g.from=g.axis.p2c(g.from),g.to=g.axis.p2c(g.to),j.from=j.axis.p2c(j.from),j.to=j.axis.p2c(j.to),g.from==g.to||j.from==j.to?(v.beginPath(),v.strokeStyle=c.color||f.grid.markingsColor,v.lineWidth=c.lineWidth||f.grid.markingsLineWidth,v.moveTo(g.from,j.from),v.lineTo(g.to,j.to),v.stroke()):(v.fillStyle=c.color||f.grid.markingsColor,v.fillRect(g.from,j.to,g.to-g.from,j.from-j.to))))}}c=B();b=f.grid.borderWidth;
for(g=0;g<c.length;++g){j=c[g];a=j.box;var m=j.tickLength,e,k,o,n;v.strokeStyle=j.options.tickColor||d.color.parse(j.options.color).scale("a",0.22).toString();v.lineWidth=1;"x"==j.direction?(e=0,k="full"==m?"top"==j.position?0:Q:a.top-y.top+("top"==j.position?a.height:0)):(k=0,e="full"==m?"left"==j.position?0:Y:a.left-y.left+("left"==j.position?a.width:0));j.innermost||(v.beginPath(),o=n=0,"x"==j.direction?o=Y:n=Q,1==v.lineWidth&&(e=Math.floor(e)+0.5,k=Math.floor(k)+0.5),v.moveTo(e,k),v.lineTo(e+
o,k+n),v.stroke());v.beginPath();for(a=0;a<j.ticks.length;++a){var q=j.ticks[a].v;o=n=0;q<j.min||(q>j.max||"full"==m&&0<b&&(q==j.min||q==j.max))||("x"==j.direction?(e=j.p2c(q),n="full"==m?-Q:m,"top"==j.position&&(n=-n)):(k=j.p2c(q),o="full"==m?-Y:m,"left"==j.position&&(o=-o)),1==v.lineWidth&&("x"==j.direction?e=Math.floor(e)+0.5:k=Math.floor(k)+0.5),v.moveTo(e,k),v.lineTo(e+o,k+n))}v.stroke()}b&&(v.lineWidth=b,v.strokeStyle=f.grid.borderColor,v.strokeRect(-b/2,-b/2,Y+b,Q+b));v.restore()}function g(a){function b(a,
c,g,d,j){var f=a.points,a=a.pointsize,m=null,e=null;v.beginPath();for(var k=a;k<f.length;k+=a){var o=f[k-a],n=f[k-a+1],H=f[k],w=f[k+1];if(!(null==o||null==H)){if(n<=w&&n<j.min){if(w<j.min)continue;o=(j.min-n)/(w-n)*(H-o)+o;n=j.min}else if(w<=n&&w<j.min){if(n<j.min)continue;H=(j.min-n)/(w-n)*(H-o)+o;w=j.min}if(n>=w&&n>j.max){if(w>j.max)continue;o=(j.max-n)/(w-n)*(H-o)+o;n=j.max}else if(w>=n&&w>j.max){if(n>j.max)continue;H=(j.max-n)/(w-n)*(H-o)+o;w=j.max}if(o<=H&&o<d.min){if(H<d.min)continue;n=(d.min-
o)/(H-o)*(w-n)+n;o=d.min}else if(H<=o&&H<d.min){if(o<d.min)continue;w=(d.min-o)/(H-o)*(w-n)+n;H=d.min}if(o>=H&&o>d.max){if(H>d.max)continue;n=(d.max-o)/(H-o)*(w-n)+n;o=d.max}else if(H>=o&&H>d.max){if(o>d.max)continue;w=(d.max-o)/(H-o)*(w-n)+n;H=d.max}(o!=m||n!=e)&&v.moveTo(d.p2c(o)+c,j.p2c(n)+g);m=H;e=w;v.lineTo(d.p2c(H)+c,j.p2c(w)+g)}}v.stroke()}v.save();v.translate(y.left,y.top);v.lineJoin="round";var c=a.lines.lineWidth,g=a.shadowSize;if(0<c&&0<g){v.lineWidth=g;v.strokeStyle="rgba(0,0,0,0.1)";
var j=Math.PI/18;b(a.datapoints,Math.sin(j)*(c/2+g/2),Math.cos(j)*(c/2+g/2),a.xaxis,a.yaxis);v.lineWidth=g/2;b(a.datapoints,Math.sin(j)*(c/2+g/4),Math.cos(j)*(c/2+g/4),a.xaxis,a.yaxis)}v.lineWidth=c;v.strokeStyle=a.color;if(g=ea(a.lines,a.color,0,Q)){v.fillStyle=g;for(var d=a.datapoints,g=a.xaxis,j=a.yaxis,f=d.points,d=d.pointsize,m=Math.min(Math.max(0,j.min),j.max),e=0,k=!1,o=1,n=0,q=0;!(0<d&&e>f.length+d);){var e=e+d,t=f[e-d],u=f[e-d+o],r=f[e],p=f[e+o];if(k){if(0<d&&null!=t&&null==r){q=e;d=-d;o=
2;continue}if(0>d&&e==n+d){v.fill();k=!1;d=-d;o=1;e=n=q+d;continue}}if(!(null==t||null==r)){if(t<=r&&t<g.min){if(r<g.min)continue;u=(g.min-t)/(r-t)*(p-u)+u;t=g.min}else if(r<=t&&r<g.min){if(t<g.min)continue;p=(g.min-t)/(r-t)*(p-u)+u;r=g.min}if(t>=r&&t>g.max){if(r>g.max)continue;u=(g.max-t)/(r-t)*(p-u)+u;t=g.max}else if(r>=t&&r>g.max){if(t>g.max)continue;p=(g.max-t)/(r-t)*(p-u)+u;r=g.max}k||(v.beginPath(),v.moveTo(g.p2c(t),j.p2c(m)),k=!0);if(u>=j.max&&p>=j.max)v.lineTo(g.p2c(t),j.p2c(j.max)),v.lineTo(g.p2c(r),
j.p2c(j.max));else if(u<=j.min&&p<=j.min)v.lineTo(g.p2c(t),j.p2c(j.min)),v.lineTo(g.p2c(r),j.p2c(j.min));else{var C=t,z=r;u<=p&&u<j.min&&p>=j.min?(t=(j.min-u)/(p-u)*(r-t)+t,u=j.min):p<=u&&(p<j.min&&u>=j.min)&&(r=(j.min-u)/(p-u)*(r-t)+t,p=j.min);u>=p&&u>j.max&&p<=j.max?(t=(j.max-u)/(p-u)*(r-t)+t,u=j.max):p>=u&&(p>j.max&&u<=j.max)&&(r=(j.max-u)/(p-u)*(r-t)+t,p=j.max);t!=C&&v.lineTo(g.p2c(C),j.p2c(u));v.lineTo(g.p2c(t),j.p2c(u));v.lineTo(g.p2c(r),j.p2c(p));r!=z&&(v.lineTo(g.p2c(r),j.p2c(p)),v.lineTo(g.p2c(z),
j.p2c(p)))}}}}0<c&&b(a.datapoints,0,0,a.xaxis,a.yaxis);v.restore()}function o(a){function b(a,c,g,d,j,f,m){for(var e=a.points,a=a.pointsize,k=0;k<e.length;k+=a){var o=e[k],n=e[k+1];null==o||(o<f.min||o>f.max||n<m.min||n>m.max)||(v.beginPath(),v.arc(f.p2c(o),m.p2c(n)+d,c,0,j,!1),g&&(v.fillStyle=g,v.fill()),v.stroke())}}v.save();v.translate(y.left,y.top);var c=a.lines.lineWidth,g=a.shadowSize,d=a.points.radius;0<c&&0<g&&(g/=2,v.lineWidth=g,v.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,d,null,g+g/2,
Math.PI,a.xaxis,a.yaxis),v.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,d,null,g/2,Math.PI,a.xaxis,a.yaxis));v.lineWidth=c;v.strokeStyle=a.color;b(a.datapoints,d,ea(a.points,a.color),0,2*Math.PI,a.xaxis,a.yaxis);v.restore()}function u(a,b,c,g,d,f,m,e,k,o,n,t){var q,u,r,p;n?(p=u=r=!0,q=!1,n=c,c=b+g,d=b+d,a<n&&(b=a,a=n,n=b,q=!0,u=!1)):(q=u=r=!0,p=!1,n=a+g,a+=d,d=c,c=b,c<d&&(b=c,c=d,d=b,p=!0,r=!1));if(!(a<e.min||n>e.max||c<k.min||d>k.max))if(n<e.min&&(n=e.min,q=!1),a>e.max&&(a=e.max,u=!1),d<k.min&&(d=
k.min,p=!1),c>k.max&&(c=k.max,r=!1),n=e.p2c(n),d=k.p2c(d),a=e.p2c(a),c=k.p2c(c),m&&(o.beginPath(),o.moveTo(n,d),o.lineTo(n,c),o.lineTo(a,c),o.lineTo(a,d),o.fillStyle=m(d,c),o.fill()),0<t&&(q||u||r||p))o.beginPath(),o.moveTo(n,d+f),q?o.lineTo(n,c+f):o.moveTo(n,c+f),r?o.lineTo(a,c+f):o.moveTo(a,c+f),u?o.lineTo(a,d+f):o.moveTo(a,d+f),p?o.lineTo(n,d+f):o.moveTo(n,d+f),o.stroke()}function aa(a){v.save();v.translate(y.left,y.top);v.lineWidth=a.bars.lineWidth;v.strokeStyle=a.color;for(var c="left"==a.bars.align?
0:-a.bars.barWidth/2,b=a.datapoints,g=c+a.bars.barWidth,d=a.bars.fill?function(c,b){return ea(a.bars,a.color,c,b)}:null,f=a.xaxis,e=a.yaxis,m=b.points,b=b.pointsize,k=0;k<m.length;k+=b)null!=m[k]&&u(m[k],m[k+1],m[k+2],c,g,0,d,f,e,v,a.bars.horizontal,a.bars.lineWidth);v.restore()}function ea(a,c,b,g){var f=a.fill;if(!f)return null;if(a.fillColor)return la(a.fillColor,b,g,c);a=d.color.parse(c);a.a="number"==typeof f?f:0.4;a.normalize();return a.toString()}function oa(a){f.grid.hoverable&&D("plothover",
a,function(a){return!1!=a.hoverable})}function na(a){D("plotclick",a,function(a){return!1!=a.clickable})}function D(a,c,b){var g=fa.offset(),d=c.pageX-g.left-y.left,m=c.pageY-g.top-y.top,k=A({left:d,top:m});k.pageX=c.pageX;k.pageY=c.pageY;var c=f.grid.mouseActiveRadius,o=c*c+1,n=null,t,q;for(t=z.length-1;0<=t;--t)if(b(z[t])){var u=z[t],r=u.xaxis,p=u.yaxis,v=u.datapoints.points,C=u.datapoints.pointsize,I=r.c2p(d),B=p.c2p(m),aa=c/r.scale,G=c/p.scale;if(u.lines.show||u.points.show)for(q=0;q<v.length;q+=
C){var E=v[q],D=v[q+1];if(null!=E&&!(E-I>aa||E-I<-aa||D-B>G||D-B<-G))E=Math.abs(r.p2c(E)-d),D=Math.abs(p.p2c(D)-m),D=E*E+D*D,D<o&&(o=D,n=[t,q/C])}if(u.bars.show&&!n){r="left"==u.bars.align?0:-u.bars.barWidth/2;u=r+u.bars.barWidth;for(q=0;q<v.length;q+=C)if(E=v[q],D=v[q+1],p=v[q+2],null!=E&&(z[t].bars.horizontal?I<=Math.max(p,E)&&I>=Math.min(p,E)&&B>=D+r&&B<=D+u:I>=E+r&&I<=E+u&&B>=Math.min(p,D)&&B<=Math.max(p,D)))n=[t,q/C]}}n?(t=n[0],q=n[1],C=z[t].datapoints.pointsize,b={datapoint:z[t].datapoints.points.slice(q*
C,(q+1)*C),dataIndex:q,series:z[t],seriesIndex:t}):b=null;b&&(b.pageX=parseInt(b.series.xaxis.p2c(b.datapoint[0])+g.left+y.left),b.pageY=parseInt(b.series.yaxis.p2c(b.datapoint[1])+g.top+y.top));if(f.grid.autoHighlight){for(g=0;g<V.length;++g)d=V[g],d.auto==a&&(!b||!(d.series==b.series&&d.point==b.datapoint))&&Z(d.series,d.point);b&&ia(b.series,b.datapoint,a)}e.trigger(a,[k,b])}function S(){pa||(pa=setTimeout(ka,30))}function ka(){pa=null;M.save();M.clearRect(0,0,O,P);M.translate(y.left,y.top);var a,
c;for(a=0;a<V.length;++a)if(c=V[a],c.series.bars.show)ha(c.series,c.point);else{var b=c.series,g=c.point;c=g[0];var g=g[1],f=b.xaxis,e=b.yaxis;if(!(c<f.min||c>f.max||g<e.min||g>e.max)){var k=b.points.radius+b.points.lineWidth/2;M.lineWidth=k;M.strokeStyle=d.color.parse(b.color).scale("a",0.5).toString();b=1.5*k;M.beginPath();M.arc(f.p2c(c),e.p2c(g),b,0,2*Math.PI,!1);M.stroke()}}M.restore();m(R.drawOverlay,[M])}function ia(a,c,b){"number"==typeof a&&(a=z[a]);if("number"==typeof c)var g=a.datapoints.pointsize,
c=a.datapoints.points.slice(g*c,g*(c+1));g=p(a,c);-1==g?(V.push({series:a,point:c,auto:b}),S()):b||(V[g].auto=!1)}function Z(a,c){null==a&&null==c&&(V=[],S());"number"==typeof a&&(a=z[a]);"number"==typeof c&&(c=a.data[c]);var b=p(a,c);-1!=b&&(V.splice(b,1),S())}function p(a,c){for(var b=0;b<V.length;++b){var g=V[b];if(g.series==a&&g.point[0]==c[0]&&g.point[1]==c[1])return b}return-1}function ha(a,c){M.lineWidth=a.bars.lineWidth;M.strokeStyle=d.color.parse(a.color).scale("a",0.5).toString();var b=
d.color.parse(a.color).scale("a",0.5).toString(),g="left"==a.bars.align?0:-a.bars.barWidth/2;u(c[0],c[1],c[2]||0,g,g+a.bars.barWidth,0,function(){return b},a.xaxis,a.yaxis,M,a.bars.horizontal,a.bars.lineWidth)}function la(a,c,b,g){if("string"==typeof a)return a;for(var c=v.createLinearGradient(0,b,0,c),b=0,f=a.colors.length;b<f;++b){var e=a.colors[b];if("string"!=typeof e){var m=d.color.parse(g);null!=e.brightness&&(m=m.scale("rgb",e.brightness));null!=e.opacity&&(m.a*=e.opacity);e=m.toString()}c.addColorStop(b/
(f-1),e)}return c}var z=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,
tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,
markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},ja=null,ca=null,fa=null,v=null,M=null,E=[],L=[],y={left:0,right:0,top:0,bottom:0},O=0,P=0,Y=0,Q=0,R={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[]},G=this;G.setData=n;G.setupGrid=da;G.draw=X;G.getPlaceholder=function(){return e};G.getCanvas=function(){return ja};G.getPlotOffset=function(){return y};G.width=
function(){return Y};G.height=function(){return Q};G.offset=function(){var a=fa.offset();a.left+=y.left;a.top+=y.top;return a};G.getData=function(){return z};G.getAxis=function(a,c){var b=(a==x?E:L)[c-1];b&&!b.used&&(b=null);return b};G.getAxes=function(){var a={},c;for(c=0;c<E.length;++c)a["x"+(c?c+1:"")+"axis"]=E[c]||{};for(c=0;c<L.length;++c)a["y"+(c?c+1:"")+"axis"]=L[c]||{};a.x2axis||(a.x2axis={n:2});a.y2axis||(a.y2axis={n:2});return a};G.getXAxes=function(){return E};G.getYAxes=function(){return L};
G.getUsedAxes=B;G.c2p=A;G.p2c=function(a){var c={},b,g,d;for(b=0;b<E.length;++b)if((g=E[b])&&g.used)if(d="x"+g.n,null==a[d]&&1==g.n&&(d="x"),a[d]){c.left=g.p2c(a[d]);break}for(b=0;b<L.length;++b)if((g=L[b])&&g.used)if(d="y"+g.n,null==a[d]&&1==g.n&&(d="y"),a[d]){c.top=g.p2c(a[d]);break}return c};G.getOptions=function(){return f};G.highlight=ia;G.unhighlight=Z;G.triggerRedrawOverlay=S;G.pointOffset=function(a){return{left:parseInt(E[r(a,"x")-1].p2c(+a.x)+y.left),top:parseInt(L[r(a,"y")-1].p2c(+a.y)+
y.top)}};G.hooks=R;for(ca=0;ca<c.length;++ca){var ma=c[ca];ma.init(G);ma.options&&d.extend(!0,f,ma.options)}d.extend(!0,f,a);null==f.xaxis.color&&(f.xaxis.color=f.grid.color);null==f.yaxis.color&&(f.yaxis.color=f.grid.color);null==f.xaxis.tickColor&&(f.xaxis.tickColor=f.grid.tickColor);null==f.yaxis.tickColor&&(f.yaxis.tickColor=f.grid.tickColor);null==f.grid.borderColor&&(f.grid.borderColor=f.grid.color);null==f.grid.tickColor&&(f.grid.tickColor=d.color.parse(f.grid.color).scale("a",0.22).toString());
for(a=0;a<Math.max(1,f.xaxes.length);++a)f.xaxes[a]=d.extend(!0,{},f.xaxis,f.xaxes[a]);for(a=0;a<Math.max(1,f.yaxes.length);++a)f.yaxes[a]=d.extend(!0,{},f.yaxis,f.yaxes[a]);f.xaxis.noTicks&&null==f.xaxis.ticks&&(f.xaxis.ticks=f.xaxis.noTicks);f.yaxis.noTicks&&null==f.yaxis.ticks&&(f.yaxis.ticks=f.yaxis.noTicks);f.x2axis&&(f.y2axis.position="top",f.xaxes[1]=f.x2axis);f.y2axis&&(void 0===f.y2axis.autoscaleMargin&&(f.y2axis.autoscaleMargin=0.02),f.y2axis.position="right",f.yaxes[1]=f.y2axis);f.grid.coloredAreas&&
(f.grid.markings=f.grid.coloredAreas);f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor);f.lines&&d.extend(!0,f.series.lines,f.lines);f.points&&d.extend(!0,f.series.points,f.points);f.bars&&d.extend(!0,f.series.bars,f.bars);f.shadowSize&&(f.series.shadowSize=f.shadowSize);for(a=0;a<f.xaxes.length;++a)C(E,a+1).options=f.xaxes[a];for(a=0;a<f.yaxes.length;++a)C(L,a+1).options=f.yaxes[a];for(var $ in R)f.hooks[$]&&f.hooks[$].length&&(R[$]=R[$].concat(f.hooks[$]));m(R.processOptions,
[f]);$=function(a,c){var b=document.createElement("canvas");b.width=a;b.height=c;b.getContext||(b=window.G_vmlCanvasManager.initElement(b));return b};O=e.width();P=e.height();e.html("");"static"==e.css("position")&&e.css("position","relative");if(0>=O||0>=P)throw"Invalid dimensions for plot, width = "+O+", height = "+P;window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);ja=d($(O,P)).appendTo(e).get(0);v=ja.getContext("2d");ca=d($(O,P)).css({position:"absolute",left:0,top:0}).appendTo(e).get(0);
M=ca.getContext("2d");M.stroke();n(k);da();X();fa=d([ca,ja]);f.grid.hoverable&&fa.mousemove(oa);f.grid.clickable&&fa.click(na);m(R.bindEvents,[fa]);var V=[],pa=null}function b(b,d){return d*Math.floor(b/d)}d.plot=function(b,k,a){return new n(d(b),k,a,d.plot.plugins)};d.plot.plugins=[];d.plot.formatDate=function(b,d,a){var c=function(a){a=""+a;return 1==a.length?"0"+a:a},m=[],n=!1,r=!1,A=b.getUTCHours(),B=12>A;null==a&&(a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=d.search(/%p|%P/)&&
(12<A?A-=12:0==A&&(A=12));for(var C=0;C<d.length;++C){var q=d.charAt(C);if(n){switch(q){case "h":q=""+A;break;case "H":q=c(A);break;case "M":q=c(b.getUTCMinutes());break;case "S":q=c(b.getUTCSeconds());break;case "d":q=""+b.getUTCDate();break;case "m":q=""+(b.getUTCMonth()+1);break;case "y":q=""+b.getUTCFullYear();break;case "b":q=""+a[b.getUTCMonth()];break;case "p":q=B?"am":"pm";break;case "P":q=B?"AM":"PM";break;case "0":q="",r=!0}q&&r&&(q=c(q),r=!1);m.push(q);r||(n=!1)}else"%"==q?n=!0:m.push(q)}return m.join("")}})(jQuery);
(function(){jQuery.color={};jQuery.color.make=function(d,b,e,k){var a={};a.r=d||0;a.g=b||0;a.b=e||0;a.a=null!=k?k:1;a.add=function(b,d){for(var e=0;e<b.length;++e)a[b.charAt(e)]+=d;return a.normalize()};a.scale=function(b,d){for(var e=0;e<b.length;++e)a[b.charAt(e)]*=d;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,c,d){return c<a?a:c>d?d:c}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),
255);a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(d,b){var e;do{e=d.css(b).toLowerCase();if(""!=e&&"transparent"!=e)break;d=d.parent()}while(!jQuery.nodeName(d.get(0),"body"));"rgba(0, 0, 0, 0)"==e&&(e="transparent");return jQuery.color.parse(e)};jQuery.color.parse=function(n){var b,e=jQuery.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return e(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return e(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return e(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return e(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return e(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return e(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));n=jQuery.trim(n).toLowerCase();if("transparent"==n)return e(255,255,255,0);b=d[n];return e(b[0],b[1],b[2])};var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(d){function n(e,a,c){var m=this,n=e.add(this),r=e.find(c.tabs),A=a.jquery?a:e.children(a),B;r.length||(r=e.children());A.length||(A=e.parent().find(a));A.length||(A=d(a));d.extend(this,{click:function(a,e){var k=r.eq(a);"string"==typeof a&&a.replace("#","")&&(a=a.replace(/([\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1"),k=r.filter("[href*="+a.replace("#","")+"]"),a=Math.max(r.index(k),0));if(c.rotate){var A=r.length-1;if(0>a)return m.click(A,e);if(a>A)return m.click(0,
e)}if(!k.length){if(0<=B)return m;a=c.initialIndex;k=r.eq(a)}if(a===B)return m;e=e||d.Event();e.type="onBeforeClick";n.trigger(e,[a]);if(!e.isDefaultPrevented())return b[c.effect].call(m,a,function(){e.type="onClick";n.trigger(e,[a])}),B=a,r.removeClass(c.current),k.addClass(c.current),m},getConf:function(){return c},getTabs:function(){return r},getPanes:function(){return A},getCurrentPane:function(){return A.eq(B)},getCurrentTab:function(){return r.eq(B)},getIndex:function(){return B},next:function(){return m.click(B+
1)},prev:function(){return m.click(B-1)},destroy:function(){r.unbind(c.event).removeClass(c.current);A.find("a[href^=#]").unbind("click.T");return m}});d.each(["onBeforeClick","onClick"],function(a,b){d.isFunction(c[b])&&d(m).bind(b,c[b]);m[b]=function(a){d(m).bind(b,a);return m}});c.history&&d.fn.history&&(d.tools.history.init(r),c.event="history");r.each(function(a){d(this).bind(c.event,function(b){m.click(a,b);return b.preventDefault()})});A.find("a[href^=#]").bind("click.T",function(a){m.click(d(this).attr("href"),
a)});location.hash?m.click(location.hash):(0===c.initialIndex||0<c.initialIndex)&&m.click(c.initialIndex)}d.tools=d.tools||{version:"@VERSION"};d.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(d,a){b[d]=a}};var b={"default":function(b,a){this.getPanes().hide().eq(b).show();a.call()},fade:function(b,a){var c=this.getConf(),d=c.fadeOutSpeed,e=this.getPanes();d?e.fadeOut(d):e.hide();e.eq(b).fadeIn(c.fadeInSpeed,
a)},slide:function(b,a){this.getPanes().slideUp(200);this.getPanes().eq(b).slideDown(400,a)},ajax:function(b,a){this.getPanes().eq(0).load(this.getTabs().eq(b).attr("href"),a)}},e;d.tools.tabs.addEffect("horizontal",function(b,a){e||(e=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){d(this).hide()});this.getPanes().eq(b).animate({width:e},function(){d(this).show();a.call()})});d.fn.tabs=function(b,a){var c=this.data("tabs");c&&(c.destroy(),this.removeData("tabs"));
d.isFunction(a)&&(a={onBeforeClick:a});a=d.extend({},d.tools.tabs.conf,a);this.each(function(){c=new n(d(this),b,a);d(this).data("tabs",c)});return a.api?c:this}})(jQuery);
(function(d){var n="undefined"!=typeof window.innerWidth?function(){return{w:window.innerWidth,h:window.innerHeight}}:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?function(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}:function(){return{w:document.getElementsByTagName("body")[0].clientWidth,h:document.getElementsByTagName("body")[0].clientHeight}};window.kbs=
function(b){d(".kbs.current",b).removeClass("current");var e=d(".domain-section:first",b),k=d(".domain-section:last",b),a=this.scroll_to=function(a){var b=d(document).scrollTop();d(document).height();var c=n().h,c=b+c,e=a.offset().top,a=e+a.height();e<b?d(document).scrollTop(e):a>c&&d(document).scrollTop(b+(a-c))},c=this.get_current=function(){return d(".kbs.current:first",b)},m=this.set_next=function(b,d,e){b=b||c();d.length&&(b.removeClass("current"),d.addClass("current"),e||a(d))},t=this.next_domain=
function(a){var b=c(),d=r(b);d&&(d=d.find(".kbs:first"),m(b,d,a))},r=this._next_domain=function(a){if(!a||!a.length)return d(".domain-section:first",b);a=a.closest(".domain-section");return!a.length||a[0]===k[0]?e:a.next(".domain-section")},A=this.prev_domain=function(){var a=c(),b=B(a);b&&(b=b.find(".kbs:first"),m(a,b))},B=this._prev_domain=function(a){if(!a||!a.length)return d(".domain-section:last",b);var c=a.closest(".domain-section");return a.closest(".property-section").length||a.closest(".type-section").length?
c:!c.length||c[0]===e[0]?k:c.prev(".domain-section")},C=this.next_type=function(){var a=c(),b=q(a);b&&(b=b.find(".kbs:first"),m(a,b))},q=this._next_type=function(a){if(!a||!a.length)return d(".type-section:first",b);var c=a.closest(".domain-section"),a=a.closest(".type-section"),a=a.length?a.next(".type-section"):c.find(".type-section:first");if(!a||!a.length){var e=r(c);if(e)for(;e.get(0)!==c.get(0);){a=e.find(".type-section:first");if(a.length)break;e=r(e)}}return a},I=this.prev_type=function(){var a=
c(),b=T(a);b&&(b=b.find(".kbs:first"),m(a,b))},T=this._prev_type=function(a){if(!a||!a.length)return d(".type-section:last",b);var c=a.closest(".domain-section"),e=a.closest(".type-section");if(a.closest(".property-section").length)return e;var m;e.length&&(m=e.prev(".type-section"));if(!m||!m.length)if(a=B(c))for(;a.get(0)!==c.get(0);){m=a.find(".type-section:last");if(m.length)break;a=B(a)}return m},da=this.next_prop=function(){var a=c(),b=ga(a);b&&(b=b.find(".kbs:first"),m(a,b))},ga=this._next_prop=
function(a){if(!a||!a.length)return d(".property-section:first",b);var c=a.closest(".domain-section"),e=a.closest(".type-section"),m=a.closest(".property-section"),c=m.length?m.next(".property-section"):e.length?e.find(".property-section:first"):c.find(".property-section:first");if(!c||!c.length)if(a=q(a))for(;a.get(0)!==e.get(0);){c=a.find(".property-section:first");if(c.length)break;null==e.get(0)&&(e=a);a=q(a)}return c},X=this.prev_prop=function(){var a=c(),b=U(a);b&&(b=b.find(".kbs:first"),m(a,
b))},U=this._prev_prop=function(a){if(!a||!a.length)return d(".property-section:last",b);var c=a.closest(".domain-section"),e=a.closest(".type-section"),m=a.closest(".property-section");if(a.closest(".data-section").length)return m;var k;m.length&&(k=m.prev(".property-section"));if(!k||!k.length)if(I=e.length?T(e):T(c))for(;I.get(0)!==e.get(0);){k=I.find(".property-section:last");if(k.length)break;null==e.get(0)&&(e=I);I=T(I)}return k};this.next=function(){var a=c();if(a&&a.length){var e=this._next(a);
if(e){m(a,e);return}}a=d(".kbs:visible:first",b);m(a,a)};this._next=function(a){if(!a||!a.length)return d(".domain-section:first .kbs:first",b);var c=a.closest(".domain-section"),m=a.closest(".type-section"),n=a.closest(".property-section");if(a.closest(".data-section").length){a=a.next(".kbs");if(a.length)return a;a=n.next(".property-section").find(".kbs:first");if(a.length)return a;a=m.next(".type-section").find(".kbs:first")}else if(n.length){a=n.find(".data-section:first .kbs:first");if(a.length)return a;
a=n.next(".property-section").find(".kbs:first");if(a.length)return a;a=m.next(".type-section").find(".kbs:first")}else if(m.length){a=m.find(".property-section:first .kbs:first");if(a.length)return a;a=m.next(".type-section").find(".kbs:first")}else a=c.find(".type-section:first .kbs:first");return a.length?a:c.get(0)===k.get(0)?e.find(".kbs:first"):c.next(".domain-section").find(".kbs:first")};this.prev=function(){var a=c(),b=this._prev(a);b&&m(a,b)};this._prev=function(a){if(!a||!a.length)return a=
d(".data-section:last .kbs:last",b),a.length||(a=d(".property-section:last .kbs:first",b)),a.length||(a=d(".type-section:last .kbs:first",b)),a.length||(a=d(".domain-section:last .kbs:first",b)),a;var c=a.closest(".domain-section"),m=a.closest(".type-section"),n=a.closest(".property-section");return a.closest(".data-section").length?(a=a.prev(".kbs"),a.length?a:n.find(".kbs:first")):n.length?(a=n.prev(".property-section").find(".kbs:last"),a.length?a:m.find(".kbs:first")):m.length?(a=m.prev(".type-section").find(".kbs:last"),
a.length?a:c.find(".kbs:first")):c.get(0)===e.get(0)?k.find(".kbs:last"):c.prev(".domain-section").find(".kbs:last")};this.edit=function(){this.get_current().trigger("edit")};var W=this;d(document).unbind(".kbs").bind("keydown.kbs",function(a){var b=a.target;if(b==document.body||b==document||b==window||b==d("html")[0])b=a.keyCode,68===b?a.shiftKey?A():t():84===b?a.shiftKey?I():C():80===b?a.shiftKey?X():da():74===b?W.next():75===b?W.prev():69===b&&W.edit()})}})(jQuery);
(function(d,n){var b=window.propbox={init:function(e,k){k=d.extend({lang:"/lang/en"},k);if(!k.base_ajax_url)throw Error("base_ajax_url required in propbox options");if(!k.base_static_url)throw Error("base_static_url required in propbox options");if(!k.id)throw Error("topic id required in propbox options");if(!k.lang)throw Error("lang required in propbox options");b.options=k;b.kbs=new n(e);d(".kbs",e).live("click",function(){var a=b.kbs.get_current();b.kbs.set_next(a,d(this),!0)}).live("edit",function(){var a=
d(this).find(".headmenu:first").data("submenu");a&&d("li:first a:first",a).click()});b.init_menus(e);d.tablesorter&&d(".data-table").addClass("table-sortable").tablesorter()},init_menus:function(e,k){e=d(e||document);k&&d(".nicemenu",e).nicemenu();var a;a=e&&e.is(".hover-row")?e:d(".hover-row",e);a.hover(b.row_menu_hoverover,b.row_menu_hoverout);a.dblclick(function(){var a=d(".nicemenu .default-action",this);a.length||(a=d(".nicemenu:first .submenu:first a:first",this));var b=a.attr("href");b&&("#"==
b||0==b.indexOf("javascript:void(0)"))&&d(a).click()});d(".nicemenu .headmenu",e).add(d(".nicemenu .default-action",e)).click("click",function(){if(b.kbs){var a=b.kbs.get_current();a&&b.kbs.set_next(a,d(this).parents(".kbs:first"),!0)}return!1})},row_menu_hoverover:function(){d(this).addClass("row-hover")},row_menu_hoverout:function(){d(this).removeClass("row-hover")},get_script:function(e,k){var a=b.get_script.cache;a||(a=b.get_script.cache={});var c=a[e];c?1===c.state?c.callbacks.push(k):4===c.state&&
k():(c=a[e]={state:0,callbacks:[k]},d.ajax({url:b.options.base_static_url+e,dataType:"script",cache:!0,beforeSend:function(){c.state=1},success:function(){c.state=4;d.each(c.callbacks,function(a,b){b()})},error:function(){c.state=-1}}))},prop_edit:function(e,k){var a=d(e).parents(".property-section");a.length||(a=d(e).parents(".submenu").data("headmenu").parents(".property-section"));a=a.find(".data-section .data-row:first:visible .nicemenu:first .headmenu");a.length?a.data("submenu").find("a:first").click():
b.prop_add(e,k);return!1},prop_add:function(e,k){var a=d(e).parents(".property-section");a.length||(a=d(e).parents(".submenu").data("headmenu").parents(".property-section"));b.get_script("/propbox-edit.mf.js",function(){b.edit.prop_add_begin(a,k)});return!1},value_edit:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".data-row:first"),a=k.parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.value_edit_begin(a,k)});return!1},value_delete:function(e){var k=
d(e).parents(".submenu").data("headmenu").parents(".data-row:first"),a=k.parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.value_delete_begin(a,k)});return!1},remove_type:function(e){var e=d(e),k=e.parents(".type-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_type_begin(e,k)});return!1},add_type:function(e,k,a){var e=d(e),c=e.parents(".type-section"),m=b.options.incompatible_types;m?m.search(b.options.id,k,a,{compatible:function(){b.add_type_submit(e,
c)},incompatible:m.overlay_incompatible_callback({onConfirm:function(){b.add_type_submit(e,c)}})}):b.add_type_submit(e,c);return!1},add_type_submit:function(d,k){b.get_script("/propbox-edit.mf.js",function(){b.edit.add_type_submit(d,k)})},add_has_no_value:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.add_has_no_value(k)});return!1},add_has_value:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".property-section");
b.get_script("/propbox-edit.mf.js",function(){b.edit.add_has_value(k)});return!1},add_is_reviewed:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.add_is_reviewed(k)});return!1},remove_has_no_value:function(e){var k=d(e).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_has_no_value(k)});return!1},remove_has_value:function(e){var k=d(e).parents(".property-section");b.get_script("/propbox-edit.mf.js",
function(){b.edit.remove_has_value(k)});return!1},more:function(e,k,a){var c=d(e).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.more(c,k,a,function(){d.tablesorter&&c.find("table").addClass("table-sortable").tablesorter()})})}}})(jQuery,window.kbs);
(function(d,n,b){n.infinitescroll=function(a,b,d){this.element=n(d);this._create(a,b)};n.infinitescroll.defaults={loading:{finished:b,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:b},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},callback:b,debug:!1,behavior:b,binder:n(d),nextSelector:"div.navigation a:first",
navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:b,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:b,path:b};n.infinitescroll.prototype={_binding:function(a){var c=this,d=c.options;if(d.behavior&&this["_binding_"+d.behavior]!==b)this["_binding_"+d.behavior].call(this);else{if("bind"!==a&&"unbind"!==a)return this._debug("Binding value  "+a+" not valid"),!1;if("unbind"==a)this.options.binder.unbind("smartscroll.infscr."+
c.options.infid);else this.options.binder[a]("smartscroll.infscr."+c.options.infid,function(){c.scroll()});this._debug("Binding",a)}},_create:function(a,c){if(!this._validate(a))return!1;var d=this.options=n.extend(!0,{},n.infinitescroll.defaults,a),e=n(d.nextSelector).attr("href");d.contentSelector=d.contentSelector||this.element;d.loading.selector=d.loading.selector||d.contentSelector;e?(d.path=this._determinepath(e),d.loading.msg=n('<div id="infscr-loading"><img alt="Loading..." src="'+d.loading.img+
'" /><div>'+d.loading.msgText+"</div></div>"),(new Image).src=d.loading.img,d.pixelsFromNavToBottom=n(document).height()-n(d.navSelector).offset().top,d.loading.start=d.loading.start||function(){n(d.navSelector).hide();d.loading.msg.appendTo(d.loading.selector).show(d.loading.speed,function(){beginAjax(d)})},d.loading.finished=d.loading.finished||function(){d.loading.msg.fadeOut("normal")},d.callback=function(a,e){d.behavior&&a["_callback_"+d.behavior]!==b&&a["_callback_"+d.behavior].call(n(d.contentSelector)[0],
e);c&&c.call(n(d.contentSelector)[0],e)},this._setup()):this._debug("Navigation selector not found")},_debug:function(){if(this.options.debug)return d.console&&console.log.call(console,arguments)},_determinepath:function(a){var c=this.options;if(c.behavior&&this["_determinepath_"+c.behavior]!==b)this["_determinepath_"+c.behavior].call(this,a);else{if(c.pathParse)return this._debug("pathParse manual"),"function"===typeof c.pathParse?c.pathParse():c.pathParse;if(a.match(/^(.*?)\b2\b(.*?$)/))a=a.match(/^(.*?)\b2\b(.*?$)/).slice(1);
else if(a.match(/^(.*?)2(.*?$)/)){if(a.match(/^(.*?page=)2(\/.*|$)/))return a=a.match(/^(.*?page=)2(\/.*|$)/).slice(1);a=a.match(/^(.*?)2(.*?$)/).slice(1)}else{if(a.match(/^(.*?page=)1(\/.*|$)/))return a=a.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");c.state.isInvalidPage=!0}this._debug("determinePath",
a);return a}},_error:function(a){var c=this.options;c.behavior&&this["_error_"+c.behavior]!==b?this["_error_"+c.behavior].call(this,a):("destroy"!==a&&"end"!==a&&(a="unknown"),this._debug("Error",a),"end"==a&&this._showdonemsg(),c.state.isDone=!0,c.state.currPage=1,c.state.isPaused=!1,this._binding("unbind"))},_loadcallback:function(a,c){var e=this.options,k=this.options.callback,r=e.state.isDone?"done":!e.appendCallback?"no-append":"append";if(e.behavior&&this["_loadcallback_"+e.behavior]!==b)this["_loadcallback_"+
e.behavior].call(this,a,c);else{switch(r){case "done":return this._showdonemsg(),!1;case "no-append":"html"==e.dataType&&(c=n("<div>"+c+"</div>").find(e.itemSelector));break;case "append":var A=a.children();if(0==A.length)return this._error("end");for(r=document.createDocumentFragment();a[0].firstChild;)r.appendChild(a[0].firstChild);this._debug("contentSelector",n(e.contentSelector)[0]);n(e.contentSelector)[0].appendChild(r);c=A.get()}e.loading.finished.call(n(e.contentSelector)[0],e);e.animate&&
(r=n(d).scrollTop()+n("#infscr-loading").height()+e.extraScrollPx+"px",n("html,body").animate({scrollTop:r},800,function(){e.state.isDuringAjax=!1}));e.animate||(e.state.isDuringAjax=!1);k(this,c)}},_nearbottom:function(){var a=this.options,c=0+n(document).height()-a.binder.scrollTop()-n(d).height();if(a.behavior&&this["_nearbottom_"+a.behavior]!==b)this["_nearbottom_"+a.behavior].call(this);else return this._debug("math:",c,a.pixelsFromNavToBottom),c-a.bufferPx<a.pixelsFromNavToBottom},_pausing:function(a){var c=
this.options;if(c.behavior&&this["_pausing_"+c.behavior]!==b)this["_pausing_"+c.behavior].call(this,a);else{"pause"!==a&&("resume"!==a&&null!==a)&&this._debug("Invalid argument. Toggling pause value instead");switch(a&&("pause"==a||"resume"==a)?a:"toggle"){case "pause":c.state.isPaused=!0;break;case "resume":c.state.isPaused=!1;break;case "toggle":c.state.isPaused=!c.state.isPaused}this._debug("Paused",c.state.isPaused);return!1}},_setup:function(){var a=this.options;if(a.behavior&&this["_setup_"+
a.behavior]!==b)this["_setup_"+a.behavior].call(this);else return this._binding("bind"),!1},_showdonemsg:function(){var a=this.options;a.behavior&&this["_showdonemsg_"+a.behavior]!==b?this["_showdonemsg_"+a.behavior].call(this):(a.loading.msg.find("img").hide().parent().find("div").html(a.loading.finishedMsg).animate({opacity:1},2E3,function(){n(this).parent().fadeOut("normal")}),a.errorCallback.call(n(a.contentSelector)[0],"done"))},_validate:function(a){for(var b in a)return b.indexOf&&-1<b.indexOf("Selector")&&
0===n(a[b]).length?(this._debug("Your "+b+" found no elements."),!1):!0},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=!0;return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},retrieve:function(a){var c=this,d=c.options,e=this._determinepath(e),k,A,B,C,a=a||null;beginAjax=function(a){a.state.currPage++;c._debug("heading into ajax",e);k=n(a.contentSelector).is("table")?n("<tbody/>"):n("<div/>");
A=e.join(a.state.currPage);B="html"==a.dataType||"json"==a.dataType?a.dataType:"html+callback";a.appendCallback&&"html"==a.dataType&&(B+="+callback");switch(B){case "html+callback":c._debug("Using HTML via .load() method");k.load(A+" "+a.itemSelector,null,function(a){c._loadcallback(k,a)});break;case "html":case "json":c._debug("Using "+B.toUpperCase()+" via $.ajax() method"),n.ajax({url:A,dataType:a.dataType,complete:function(a,b){(C="undefined"!==typeof a.isResolved?a.isResolved():"success"===b||
"notmodified"===b)?c._loadcallback(k,a.responseText):c._error("end")}})}};if(d.behavior&&this["retrieve_"+d.behavior]!==b)this["retrieve_"+d.behavior].call(this,a);else{if(d.state.isDestroyed)return this._debug("Instance is destroyed"),!1;d.state.isDuringAjax=!0;d.loading.start.call(n(d.contentSelector)[0],d)}},scroll:function(){var a=this.options,c=a.state;a.behavior&&this["scroll_"+a.behavior]!==b?this["scroll_"+a.behavior].call(this):!c.isDuringAjax&&!c.isInvalidPage&&!c.isDone&&!c.isDestroyed&&
!c.isPaused&&this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(a){n.isPlainObject(a)&&(this.options=n.extend(!0,this.options,a))}};n.fn.infinitescroll=function(a,b){switch(typeof a){case "string":var d=Array.prototype.slice.call(arguments,1);this.each(function(){var b=n.data(this,"infinitescroll");if(!b||!n.isFunction(b[a])||"_"===a.charAt(0))return!1;b[a].apply(b,d)});break;case "object":this.each(function(){var d=n.data(this,
"infinitescroll");d?d.update(a):n.data(this,"infinitescroll",new n.infinitescroll(a,b,this))})}return this};var e=n.event,k;e.special.smartscroll={setup:function(){n(this).bind("scroll",e.special.smartscroll.handler)},teardown:function(){n(this).unbind("scroll",e.special.smartscroll.handler)},handler:function(a,b){var d=this,e=arguments;a.type="smartscroll";k&&clearTimeout(k);k=setTimeout(function(){n.event.handle.apply(d,e)},"execAsap"===b?0:100)}};n.fn.smartscroll=function(a){return a?this.bind("smartscroll",
a):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);
(function(d,n){var b=n.collection={init_infinitescroll:function(){var e=d("#infinitescroll"),k=e.attr("data-next");if(k&&"false"!==k){var a=d("#infinitescroll-next");e.infinitescroll({loading:{msgText:"Fetching more topics",img:n.h.static_url("lib/template/img/horizontal-loader.gif")},nextSelector:"#infinitescroll-next",navSelector:"#infinitescroll-next",dataType:"json",pathParse:function(){return[a[0].href+"&"+d.param({cursor:e.attr("data-next")})+"&page=",""]},appendCallback:!1},function(a){var a=
JSON.parse(a),m=a.result.cursor,a=d(a.result.html);b.init_menus(a);b.load_blurbs(a);e.append(a);m?e.attr("data-next",m):d(window).unbind(".infscr")});setTimeout(function(){d(window).trigger("scroll")})}},init_menus:function(e,k){e=d(e||document);k&&d(".nicemenu",e).nicemenu();(e&&e.is(".data-row")?e:d(".data-row",e)).hover(b.row_menu_hoverover,b.row_menu_hoverout);d(".nicemenu .headmenu",e).add(d(".nicemenu .default-action",e))},load_blurbs:function(b){d(".load-blurb",b).each(function(b,a){var c=
[n.acre.freebase.googleapis_url,"/text",d(a).attr("data-id"),"?key=",n.acre.freebase.api_key].join("");d.getJSON(c,function(b){b=b.result.split(/\s+/);d(a).text(b.slice(0,30).join(" "))})})},row_menu_hoverover:function(){var e=d(this);b.row_menu_hoverover.timeout=setTimeout(function(){e.addClass("row-hover")},300)},row_menu_hoverout:function(){clearTimeout(b.row_menu_hoverover.timeout);d(this).removeClass("row-hover")},row_edit:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".data-row:first");
n.get_script(n.h.ajax_url("lib/collection/collection-edit.mf.js"),function(){b.edit.row_edit_begin(k)});return!1},init:function(){b.init_infinitescroll();b.init_menus();b.load_blurbs();return b}};b.init()})(jQuery,window.freebase);
(function(d,n){var b=n.data={init_data_tabs:function(){var b=d("ul.tabs"),k=0;d("a",b).each(function(a){d(this).hasClass("current")&&(k=a)});b.tabs("div.panes > .pane",{effect:"fade",initialIndex:k})},init_activity_chart:function(b){d(".activity-summary",b).each(function(){for(var b=d(this),a=JSON.parse(b.attr("data-activity")),c=[],e=1;e<a.length;e++){var n=parseInt(a[e].v,10);c.push([e,n])}d.plot(b,[{data:c,lines:{show:!0},points:{show:!0,radius:2,fill:!0,fillColor:"#f71"},shadowSize:0,color:"#f71"}],
{grid:{show:!0,color:"#fff",borderWidth:0,hoverable:!0,autoHighlight:!0,mouseActiveRadius:3},legend:{show:!1},xaxis:{tickFormatter:function(){return""},ticks:[]},yaxis:{tickFormatter:function(){return""},ticks:[]}})})}};d(function(){b.init_data_tabs();b.init_activity_chart()})})(jQuery,window.freebase);
