
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
*/
document.createElement("canvas").getContext||function(){function d(){return this.context_||(this.context_=new I(this))}function m(f,a,b){var c=ja.call(arguments,2);return function(){return f.apply(a,c.concat(ja.call(arguments)))}}function b(f){return String(f).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function e(f){f.namespaces.g_vml_||f.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");f.namespaces.g_o_||f.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");
f.styleSheets.ex_canvas_||(f=f.createStyleSheet(),f.owningElement.id="ex_canvas_",f.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function k(f){var a=f.srcElement;switch(f.propertyName){case "width":a.getContext().clearRect();a.style.width=a.attributes.width.nodeValue+"px";a.firstChild.style.width=a.clientWidth+"px";break;case "height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+
"px"}}function a(f){f=f.srcElement;f.firstChild&&(f.firstChild.style.width=f.clientWidth+"px",f.firstChild.style.height=f.clientHeight+"px")}function c(){return[[1,0,0],[0,1,0],[0,0,1]]}function n(f,a){for(var b=c(),d=0;3>d;d++)for(var g=0;3>g;g++){for(var e=0,n=0;3>n;n++)e+=f[d][n]*a[n][g];b[d][g]=e}return b}function q(f,a){a.fillStyle=f.fillStyle;a.lineCap=f.lineCap;a.lineJoin=f.lineJoin;a.lineWidth=f.lineWidth;a.miterLimit=f.miterLimit;a.shadowBlur=f.shadowBlur;a.shadowColor=f.shadowColor;a.shadowOffsetX=
f.shadowOffsetX;a.shadowOffsetY=f.shadowOffsetY;a.strokeStyle=f.strokeStyle;a.globalAlpha=f.globalAlpha;a.font=f.font;a.textAlign=f.textAlign;a.textBaseline=f.textBaseline;a.arcScaleX_=f.arcScaleX_;a.arcScaleY_=f.arcScaleY_;a.lineScale_=f.lineScale_}function r(f){var a=f.indexOf("(",3),b=f.indexOf(")",a+1),a=f.substring(a+1,b).split(",");4==a.length&&"a"==f.substr(3,1)?alpha=Number(a[3]):a[3]=1;return a}function A(f,a,b){return Math.min(b,Math.max(a,f))}function B(f,a,b){0>b&&b++;1<b&&b--;return 1>
6*b?f+6*(a-f)*b:1>2*b?a:2>3*b?f+6*(a-f)*(2/3-b):f}function C(f){var a=1,f=String(f);if("#"!=f.charAt(0))if(/^rgb/.test(f)){for(var a=r(f),f="#",b,c=0;3>c;c++)b=-1!=a[c].indexOf("%")?Math.floor(255*(parseFloat(a[c])/100)):Number(a[c]),f+=Y[A(b,0,255)];a=a[3]}else if(/^hsl/.test(f)){f=a=r(f);h=parseFloat(f[0])/360%360;0>h&&h++;s=A(parseFloat(f[1])/100,0,1);l=A(parseFloat(f[2])/100,0,1);if(0==s)f=b=c=l;else{var c=0.5>l?l*(1+s):l+s-l*s,d=2*l-c,f=B(d,c,h+1/3);b=B(d,c,h);c=B(d,c,h-1/3)}f="#"+Y[Math.floor(255*
f)]+Y[Math.floor(255*b)]+Y[Math.floor(255*c)];a=a[3]}else f=ka[f]||f;return{color:f,alpha:a}}function p(f){switch(f){case "butt":return"flat";case "round":return"round";default:return"square"}}function I(f){this.m_=c();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*D;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=
f;var a=f.ownerDocument.createElement("div");a.style.width=f.clientWidth+"px";a.style.height=f.clientHeight+"px";a.style.overflow="hidden";a.style.position="absolute";f.appendChild(a);this.element_=a;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function S(f,a,b,c){f.currentPath_.push({type:"bezierCurveTo",cp1x:a.x,cp1y:a.y,cp2x:b.x,cp2y:b.y,x:c.x,y:c.y});f.currentX_=c.x;f.currentY_=c.y}function ca(f,a){var b=C(f.strokeStyle),c=b.color,b=b.alpha*f.globalAlpha,d=f.lineScale_*f.lineWidth;1>d&&(b*=
d);a.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',f.lineJoin,'"',' miterlimit="',f.miterLimit,'"',' endcap="',p(f.lineCap),'"',' weight="',d,'px"',' color="',c,'" />')}function fa(f,a,b,c){var d=f.fillStyle,g=f.arcScaleX_,e=f.arcScaleY_,n=c.x-b.x,k=c.y-b.y;if(d instanceof T){var m=0,u=c=0,q=0,t=1;if("gradient"==d.type_){var m=d.x1_/g,b=d.y1_/e,p=f.getCoords_(d.x0_/g,d.y0_/e),m=f.getCoords_(m,b),m=180*Math.atan2(m.x-p.x,m.y-p.y)/Math.PI;0>m&&(m+=360);1E-6>m&&(m=0)}else p=f.getCoords_(d.x0_,
d.y0_),c=(p.x-b.x)/n,u=(p.y-b.y)/k,n/=g*D,k/=e*D,t=o.max(n,k),q=2*d.r0_/t,t=2*d.r1_/t-q;g=d.colors_;g.sort(function(f,a){return f.offset-a.offset});for(var e=g.length,p=g[0].color,b=g[e-1].color,n=g[0].alpha*f.globalAlpha,f=g[e-1].alpha*f.globalAlpha,k=[],r=0;r<e;r++){var z=g[r];k.push(z.offset*t+q+" "+z.color)}a.push('<g_vml_:fill type="',d.type_,'"',' method="none" focus="100%"',' color="',p,'"',' color2="',b,'"',' colors="',k.join(","),'"',' opacity="',f,'"',' g_o_:opacity2="',n,'"',' angle="',
m,'"',' focusposition="',c,",",u,'" />')}else d instanceof V?n&&k&&a.push("<g_vml_:fill",' position="',-b.x/n*g*g,",",-b.y/k*e*e,'"',' type="tile"',' src="',d.src_,'" />'):(d=C(f.fillStyle),a.push('<g_vml_:fill color="',d.color,'" opacity="',d.alpha*f.globalAlpha,'" />'))}function W(f,a,b){isFinite(a[0][0])&&(isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1]))&&(f.m_=a,b&&(f.lineScale_=ma(na(a[0][0]*a[1][1]-a[0][1]*a[1][0]))))}function T(a){this.type_=a;
this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function V(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new g("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new g("INVALID_STATE_ERR");switch(b){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=b;break;default:throw new g("SYNTAX_ERR");}this.src_=a.src;this.width_=a.width;this.height_=a.height}function g(a){this.code=this[a];this.message=
a+": DOM Exception "+this.code}var o=Math,u=o.round,$=o.sin,da=o.cos,na=o.abs,ma=o.sqrt,D=10,R=D/2,ja=Array.prototype.slice;e(document);var ha={init:function(a){/MSIE/.test(navigator.userAgent)&&!window.opera&&(a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",m(this.init_,this,a)))},init_:function(a){for(var a=a.getElementsByTagName("canvas"),b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(f){if(!f.getContext){f.getContext=d;e(f.ownerDocument);f.innerHTML=
"";f.attachEvent("onpropertychange",k);f.attachEvent("onresize",a);var b=f.attributes;b.width&&b.width.specified?f.style.width=b.width.nodeValue+"px":f.width=f.clientWidth;b.height&&b.height.specified?f.style.height=b.height.nodeValue+"px":f.height=f.clientHeight}return f}};ha.init();for(var Y=[],t=0;16>t;t++)for(var ga=0;16>ga;ga++)Y[16*t+ga]=t.toString(16)+ga.toString(16);var ka={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",
blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",
darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",
khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",
mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",
peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},
z={},t=I.prototype;t.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};t.beginPath=function(){this.currentPath_=[]};t.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};t.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};t.bezierCurveTo=function(a,
b,c,d,g,e){g=this.getCoords_(g,e);a=this.getCoords_(a,b);c=this.getCoords_(c,d);S(this,a,c,g)};t.quadraticCurveTo=function(a,b,c,d){a=this.getCoords_(a,b);c=this.getCoords_(c,d);d={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};S(this,d,{x:d.x+(c.x-this.currentX_)/3,y:d.y+(c.y-this.currentY_)/3},c)};t.arc=function(a,b,c,d,g,e){var c=c*D,n=e?"at":"wa",m=a+da(d)*c-R,k=b+$(d)*c-R,d=a+da(g)*c-R,g=b+$(g)*c-R;m==d&&!e&&(m+=0.125);a=this.getCoords_(a,b);m=this.getCoords_(m,
k);d=this.getCoords_(d,g);this.currentPath_.push({type:n,x:a.x,y:a.y,radius:c,xStart:m.x,yStart:m.y,xEnd:d.x,yEnd:d.y})};t.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};t.strokeRect=function(a,b,c,d){var g=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke();this.currentPath_=g};t.fillRect=function(a,b,c,d){var g=this.currentPath_;this.beginPath();
this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.fill();this.currentPath_=g};t.createLinearGradient=function(a,b,c,d){var g=new T("gradient");g.x0_=a;g.y0_=b;g.x1_=c;g.y1_=d;return g};t.createRadialGradient=function(a,b,c,d,g,e){var n=new T("gradientradial");n.x0_=a;n.y0_=b;n.r0_=c;n.x1_=d;n.y1_=g;n.r1_=e;return n};t.drawImage=function(a,b){var c,d,g,e,n,m,k,q;g=a.runtimeStyle.width;e=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height=
"auto";var p=a.width,t=a.height;a.runtimeStyle.width=g;a.runtimeStyle.height=e;if(3==arguments.length)c=arguments[1],d=arguments[2],n=m=0,k=g=p,q=e=t;else if(5==arguments.length)c=arguments[1],d=arguments[2],g=arguments[3],e=arguments[4],n=m=0,k=p,q=t;else if(9==arguments.length)n=arguments[1],m=arguments[2],k=arguments[3],q=arguments[4],c=arguments[5],d=arguments[6],g=arguments[7],e=arguments[8];else throw Error("Invalid number of arguments");var r=this.getCoords_(c,d),z=[];z.push(" <g_vml_:group",
' coordsize="',10*D,",",10*D,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var C=[];C.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",u(r.x/D),",","Dy=",u(r.y/D),"");var A=this.getCoords_(c+g,d),I=this.getCoords_(c,d+e);c=this.getCoords_(c+g,d+e);r.x=o.max(r.x,A.x,I.x,c.x);r.y=o.max(r.y,A.y,I.y,c.y);z.push("padding:0 ",u(r.x/D),
"px ",u(r.y/D),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",C.join(""),", sizingmethod='clip');")}else z.push("top:",u(r.y/D),"px;left:",u(r.x/D),"px;");z.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',D*g,"px;"," height:",D*e,'px"',' cropleft="',n/p,'"',' croptop="',m/t,'"',' cropright="',(p-n-k)/p,'"',' cropbottom="',(t-m-q)/t,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",z.join(""))};t.stroke=function(a){for(var b={x:null,y:null},c={x:null,y:null},
d=0;d<this.currentPath_.length;d+=5E3){var g=[];g.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*D,",",10*D,'"',' stroked="',!a,'"',' path="');for(var e=d;e<Math.min(d+5E3,this.currentPath_.length);e++){0==e%5E3&&0<e&&g.push(" m ",u(this.currentPath_[e-1].x),",",u(this.currentPath_[e-1].y));var n=this.currentPath_[e];switch(n.type){case "moveTo":g.push(" m ",u(n.x),",",u(n.y));break;case "lineTo":g.push(" l ",
u(n.x),",",u(n.y));break;case "close":g.push(" x ");n=null;break;case "bezierCurveTo":g.push(" c ",u(n.cp1x),",",u(n.cp1y),",",u(n.cp2x),",",u(n.cp2y),",",u(n.x),",",u(n.y));break;case "at":case "wa":g.push(" ",n.type," ",u(n.x-this.arcScaleX_*n.radius),",",u(n.y-this.arcScaleY_*n.radius)," ",u(n.x+this.arcScaleX_*n.radius),",",u(n.y+this.arcScaleY_*n.radius)," ",u(n.xStart),",",u(n.yStart)," ",u(n.xEnd),",",u(n.yEnd))}if(n){if(null==b.x||n.x<b.x)b.x=n.x;if(null==c.x||n.x>c.x)c.x=n.x;if(null==b.y||
n.y<b.y)b.y=n.y;if(null==c.y||n.y>c.y)c.y=n.y}}g.push(' ">');a?fa(this,g,b,c):ca(this,g);g.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",g.join(""))}};t.fill=function(){this.stroke(!0)};t.closePath=function(){this.currentPath_.push({type:"close"})};t.getCoords_=function(a,b){var c=this.m_;return{x:D*(a*c[0][0]+b*c[1][0]+c[2][0])-R,y:D*(a*c[0][1]+b*c[1][1]+c[2][1])-R}};t.save=function(){var a={};q(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=n(c(),this.m_)};
t.restore=function(){this.aStack_.length&&(q(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};t.translate=function(a,b){W(this,n([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)};t.rotate=function(a){var b=da(a),a=$(a);W(this,n([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};t.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;W(this,n([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};t.transform=function(a,b,c,d,g,e){W(this,n([[a,b,0],[c,d,0],[g,e,1]],this.m_),!0)};t.setTransform=function(a,b,c,d,g,n){W(this,[[a,
b,0],[c,d,0],[g,n,1]],!0)};t.drawText_=function(a,c,d,g,n){var e=this.m_,g=0,m=1E3,k=0,o=[],q;q=this.font;if(z[q])q=z[q];else{var p=document.createElement("div").style;try{p.font=q}catch(t){}q=z[q]={style:p.fontStyle||"normal",variant:p.fontVariant||"normal",weight:p.fontWeight||"normal",size:p.fontSize||10,family:p.fontFamily||"sans-serif"}}var p=q,r=this.element_;q={};for(var C in p)q[C]=p[C];C=parseFloat(r.currentStyle.fontSize);r=parseFloat(p.size);q.size="number"==typeof p.size?p.size:-1!=p.size.indexOf("px")?
r:-1!=p.size.indexOf("em")?C*r:-1!=p.size.indexOf("%")?C/100*r:-1!=p.size.indexOf("pt")?r/0.75:C;q.size*=0.981;C=q.style+" "+q.variant+" "+q.weight+" "+q.size+"px "+q.family;r=this.element_.currentStyle;p=this.textAlign.toLowerCase();switch(p){case "left":case "center":case "right":break;case "end":p="ltr"==r.direction?"right":"left";break;case "start":p="rtl"==r.direction?"right":"left";break;default:p="left"}switch(this.textBaseline){case "hanging":case "top":k=q.size/1.75;break;case "middle":break;
default:case null:case "alphabetic":case "ideographic":case "bottom":k=-q.size/2.25}switch(p){case "right":g=1E3;m=0.05;break;case "center":g=m=500}c=this.getCoords_(c+0,d+k);o.push('<g_vml_:line from="',-g,' 0" to="',m,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!n,'" stroked="',!!n,'" style="position:absolute;width:1px;height:1px;">');n?ca(this,o):fa(this,o,{x:-g,y:0},{x:m,y:q.size});n=e[0][0].toFixed(3)+","+e[1][0].toFixed(3)+","+e[0][1].toFixed(3)+","+e[1][1].toFixed(3)+",0,0";
c=u(c.x/D)+","+u(c.y/D);o.push('<g_vml_:skew on="t" matrix="',n,'" ',' offset="',c,'" origin="',g,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',b(a),'" style="v-text-align:',p,";font:",b(C),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",o.join(""))};t.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)};t.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)};t.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",
'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};t.clip=function(){};t.arcTo=function(){};t.createPattern=function(a,b){return new V(a,b)};T.prototype.addColorStop=function(a,b){b=C(b);this.colors_.push({offset:a,
color:b.color,alpha:b.alpha})};t=g.prototype=Error();t.INDEX_SIZE_ERR=1;t.DOMSTRING_SIZE_ERR=2;t.HIERARCHY_REQUEST_ERR=3;t.WRONG_DOCUMENT_ERR=4;t.INVALID_CHARACTER_ERR=5;t.NO_DATA_ALLOWED_ERR=6;t.NO_MODIFICATION_ALLOWED_ERR=7;t.NOT_FOUND_ERR=8;t.NOT_SUPPORTED_ERR=9;t.INUSE_ATTRIBUTE_ERR=10;t.INVALID_STATE_ERR=11;t.SYNTAX_ERR=12;t.INVALID_MODIFICATION_ERR=13;t.NAMESPACE_ERR=14;t.INVALID_ACCESS_ERR=15;t.VALIDATION_ERR=16;t.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=ha;CanvasRenderingContext2D=I;CanvasGradient=
T;CanvasPattern=V;DOMException=g}();
(function(){jQuery.color={};jQuery.color.make=function(d,b,e,k){var a={};a.r=d||0;a.g=b||0;a.b=e||0;a.a=null!=k?k:1;a.add=function(b,d){for(var e=0;e<b.length;++e)a[b.charAt(e)]+=d;return a.normalize()};a.scale=function(b,d){for(var e=0;e<b.length;++e)a[b.charAt(e)]*=d;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,c,d){return c<a?a:c>d?d:c}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),
255);a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(d,b){var e;do{e=d.css(b).toLowerCase();if(""!=e&&"transparent"!=e)break;d=d.parent()}while(!jQuery.nodeName(d.get(0),"body"));"rgba(0, 0, 0, 0)"==e&&(e="transparent");return jQuery.color.parse(e)};jQuery.color.parse=function(m){var b,e=jQuery.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(m))return e(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return e(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(m))return e(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return e(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(m))return e(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(m))return e(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));m=jQuery.trim(m).toLowerCase();if("transparent"==m)return e(255,255,255,0);b=d[m];return e(b[0],b[1],b[2])};var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(d){function m(e,m,a,c){function n(a,b){for(var b=[G].concat(b),w=0;w<a.length;++w)a[w].apply(this,b)}function q(a){for(var b=[],w=0;w<a.length;++w){var c=d.extend(!0,{},f.series);a[w].data?(c.data=a[w].data,delete a[w].data,d.extend(!0,c,a[w]),a[w].data=c.data):c.data=a[w];b.push(c)}z=b;b=z.length;w=[];c=[];for(a=0;a<z.length;++a){var j=z[a].color;null!=j&&(--b,"number"==typeof j?c.push(j):w.push(d.color.parse(z[a].color)))}for(a=0;a<c.length;++a)b=Math.max(b,c[a]+1);w=[];for(a=c=0;w.length<
b;)j=f.colors.length==a?d.color.make(100,100,100):d.color.parse(f.colors[a]),j.scale("rgb",1+0.2*(1==c%2?-1:1)*Math.ceil(c/2)),w.push(j),++a,a>=f.colors.length&&(a=0,++c);for(a=b=0;a<z.length;++a){c=z[a];null==c.color?(c.color=w[b].toString(),++b):"number"==typeof c.color&&(c.color=w[c.color].toString());if(null==c.lines.show){var g,j=!0;for(g in c)if(c[g]&&c[g].show){j=!1;break}j&&(c.lines.show=!0)}c.xaxis=C(E,r(c,"x"));c.yaxis=C(K,r(c,"y"))}b=function(a){a&&(a.datamin=e,a.datamax=m,a.used=!1)};
g=function(a,b,c){b<a.datamin&&(a.datamin=b);c>a.datamax&&(a.datamax=c)};for(var e=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,k,F,J,o,p,a=0;a<E.length;++a)b(E[a]);for(a=0;a<K.length;++a)b(K[a]);for(a=0;a<z.length;++a)b=z[a],b.datapoints={points:[]},n(Q.processRawData,[b,b.data,b.datapoints]);for(a=0;a<z.length;++a){var b=z[a],aa=b.data,M=b.datapoints.format;if(!M){M=[];M.push({x:!0,number:!0,required:!0});M.push({y:!0,number:!0,required:!0});if(b.bars.show||b.lines.show&&b.lines.fill)M.push({y:!0,
number:!0,required:!1,defaultValue:0}),b.bars.horizontal&&(delete M[M.length-1].y,M[M.length-1].x=!0);b.datapoints.format=M}if(null==b.datapoints.pointsize){null==b.datapoints.pointsize&&(b.datapoints.pointsize=M.length);F=b.datapoints.pointsize;j=b.datapoints.points;insertSteps=b.lines.show&&b.lines.steps;b.xaxis.used=b.yaxis.used=!0;for(w=k=0;w<aa.length;++w,k+=F){p=aa[w];var q=null==p;if(!q)for(c=0;c<F;++c){J=p[c];if(o=M[c])if(o.number&&null!=J&&(J=+J,isNaN(J)&&(J=null)),null==J)o.required&&(q=
!0),null!=o.defaultValue&&(J=o.defaultValue);j[k+c]=J}if(q)for(c=0;c<F;++c)J=j[k+c],null!=J&&(o=M[c],o.x&&g(b.xaxis,J,J),o.y&&g(b.yaxis,J,J)),j[k+c]=null;else if(insertSteps&&0<k&&null!=j[k-F]&&j[k-F]!=j[k]&&j[k-F+1]!=j[k+1]){for(c=0;c<F;++c)j[k+F+c]=j[k+c];j[k+1]=j[k-F+1];k+=F}}}}for(a=0;a<z.length;++a)b=z[a],n(Q.processDatapoints,[b,b.datapoints]);for(a=0;a<z.length;++a){b=z[a];j=b.datapoints.points;F=b.datapoints.pointsize;p=k=e;q=aa=m;for(w=0;w<j.length;w+=F)if(null!=j[w])for(c=0;c<F;++c)if(J=
j[w+c],o=M[c])if(o.x&&(J<k&&(k=J),J>aa&&(aa=J)),o.y)J<p&&(p=J),J>q&&(q=J);b.bars.show&&(w="left"==b.bars.align?0:-b.bars.barWidth/2,b.bars.horizontal?(p+=w,q+=w+b.bars.barWidth):(k+=w,aa+=w+b.bars.barWidth));g(b.xaxis,k,aa);g(b.yaxis,p,q)}d.each(B(),function(a,b){b.datamin==e&&(b.datamin=null);b.datamax==m&&(b.datamax=null)})}function r(a,b){var c=a[b+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function A(a){var b={},c,d;for(c=0;c<E.length;++c)(d=E[c])&&d.used&&(b["x"+d.n]=
d.c2p(a.left));for(c=0;c<K.length;++c)(d=K[c])&&d.used&&(b["y"+d.n]=d.c2p(a.top));void 0!==b.x1&&(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function B(){var a=[],b,c;for(b=0;b<E.length;++b)(c=E[b])&&c.used&&a.push(c);for(b=0;b<K.length;++b)(c=K[b])&&c.used&&a.push(c);return a}function C(a,b){a[b-1]||(a[b-1]={n:b,direction:a==E?"x":"y",options:d.extend(!0,{},a==E?f.xaxis:f.yaxis)});return a[b-1]}function p(a){function b(a){return a}var c,d,j=a.options.transform||b,g=a.options.inverseTransform;"x"==
a.direction?(c=a.scale=X/(j(a.max)-j(a.min)),d=j(a.min),a.p2c=j==b?function(a){return(a-d)*c}:function(a){return(j(a)-d)*c},a.c2p=g?function(a){return g(d+a/c)}:function(a){return d+a/c}):(c=a.scale=P/(j(a.max)-j(a.min)),d=j(a.max),a.p2c=j==b?function(a){return(d-a)*c}:function(a){return(d-j(a))*c},a.c2p=g?function(a){return g(d-a/c)}:function(a){return d-a/c})}function I(a){function b(c,j){return d('<div style="position:absolute;top:-10000px;'+j+'font-size:smaller"><div class="'+a.direction+"Axis "+
a.direction+a.n+'Axis">'+c.join("")+"</div></div>").appendTo(e)}if(a){var c=a.options,g,j=a.ticks||[],f=[],n,k=c.labelWidth,c=c.labelHeight;if("x"==a.direction){if(null==k&&(k=Math.floor(N/(0<j.length?j.length:1))),null==c){f=[];for(g=0;g<j.length;++g)(n=j[g].label)&&f.push('<div class="tickLabel" style="float:left;width:'+k+'px">'+n+"</div>");0<f.length&&(f.push('<div style="clear:left"></div>'),j=b(f,"width:10000px;"),c=j.height(),j.remove())}}else if(null==k||null==c){for(g=0;g<j.length;++g)(n=
j[g].label)&&f.push('<div class="tickLabel">'+n+"</div>");0<f.length&&(j=b(f,""),null==k&&(k=j.children().width()),null==c&&(c=j.find("div.tickLabel").height()),j.remove())}null==k&&(k=0);null==c&&(c=0);a.labelWidth=k;a.labelHeight=c}}function S(a){if(a&&(a.used||a.labelWidth||a.labelHeight)){var b=a.labelWidth,c=a.labelHeight,g=a.options.position,j=a.options.tickLength,n=f.grid.axisMargin,e=f.grid.labelMargin,k="x"==a.direction?E:K,m=d.grep(k,function(a){return a&&a.options.position==g&&(a.labelHeight||
a.labelWidth)});d.inArray(a,m)==m.length-1&&(n=0);null==j&&(j="full");k=d.grep(k,function(a){return a&&(a.labelHeight||a.labelWidth)});k=0==d.inArray(a,k);!k&&"full"==j&&(j=5);isNaN(+j)||(e+=+j);"x"==a.direction?(c+=e,"bottom"==g?(y.bottom+=c+n,a.box={top:O-y.bottom,height:c}):(a.box={top:y.top+n,height:c},y.top+=c+n)):(b+=e,"left"==g?(a.box={left:y.left+n,width:b},y.left+=b+n):(y.right+=b+n,a.box={left:N-y.right,width:b}));a.position=g;a.tickLength=j;a.box.padding=e;a.innermost=k}}function ca(){var a=
B(),b;for(b=0;b<a.length;++b){var c=a[b],g=c.options,j=+(null!=g.min?g.min:c.datamin),n=+(null!=g.max?g.max:c.datamax),k=n-j;if(0==k){if(k=0==n?1:0.01,null==g.min&&(j-=k),null==g.max||null!=g.min)n+=k}else{var m=g.autoscaleMargin;if(null!=m&&(null==g.min&&(j-=k*m,0>j&&(null!=c.datamin&&0<=c.datamin)&&(j=0)),null==g.max))n+=k*m,0<n&&(null!=c.datamax&&0>=c.datamax)&&(n=0)}c.min=j;c.max=n}y.left=y.right=y.top=y.bottom=0;if(f.grid.show){for(b=0;b<a.length;++b){fa(a[b]);c=a[b];c.ticks=[];j=c.options.ticks;
g=null;null==j||"number"==typeof j&&0<j?g=c.tickGenerator(c):j&&(g=d.isFunction(j)?j({min:c.min,max:c.max}):j);n=j=void 0;for(j=0;j<g.length;++j)k=null,m=g[j],"object"==typeof m?(n=m[0],1<m.length&&(k=m[1])):n=m,null==k&&(k=c.tickFormatter(n,c)),c.ticks[j]={v:n,label:k};c=a[b];g=a[b].ticks;if(null!=c.options.autoscaleMargin&&0<g.length&&(null==c.options.min&&(c.min=Math.min(c.min,g[0].v)),null==c.options.max&&1<g.length))c.max=Math.max(c.max,g[g.length-1].v)}for(b=0;b<E.length;++b)I(E[b]);for(b=0;b<
K.length;++b)I(K[b]);for(b=E.length-1;0<=b;--b)S(E[b]);for(b=K.length-1;0<=b;--b)S(K[b]);for(c=b=0;c<z.length;++c)b=Math.max(b,2*(z[c].points.radius+z[c].points.lineWidth/2));for(var o in y)y[o]+=f.grid.borderWidth,y[o]=Math.max(b,y[o])}X=N-y.left-y.right;P=O-y.bottom-y.top;for(b=0;b<a.length;++b)p(a[b]);if(f.grid.show){for(b=0;b<a.length;++b)o=a[b],"x"==o.direction?(o.box.left=y.left,o.box.width=X):(o.box.top=y.top,o.box.height=P);e.find(".tickLabels").remove();a=['<div class="tickLabels" style="font-size:smaller">'];
o=B();for(b=0;b<o.length;++b){c=o[b];g=c.box;a.push('<div class="'+c.direction+"Axis "+c.direction+c.n+'Axis" style="color:'+c.options.color+'">');for(j=0;j<c.ticks.length;++j)if(n=c.ticks[j],n.label&&!(n.v<c.min||n.v>c.max)){k={};"x"==c.direction?(m="center",k.left=Math.round(y.left+c.p2c(n.v)-c.labelWidth/2),"bottom"==c.position?k.top=g.top+g.padding:k.bottom=O-(g.top+g.height-g.padding)):(k.top=Math.round(y.top+c.p2c(n.v)-c.labelHeight/2),"left"==c.position?(k.right=N-(g.left+g.width-g.padding),
m="right"):(k.left=g.left+g.padding,m="left"));k.width=c.labelWidth;var m=["position:absolute","text-align:"+m],F;for(F in k)m.push(F+":"+k[F]+"px");a.push('<div class="tickLabel" style="'+m.join(";")+'">'+n.label+"</div>")}a.push("</div>")}a.push("</div>");e.append(a.join(""))}e.find(".legend").remove();if(f.legend.show){F=[];a=!1;o=f.legend.labelFormatter;for(g=0;g<z.length;++g)if(b=z[g],c=b.label)0==g%f.legend.noColumns&&(a&&F.push("</tr>"),F.push("<tr>"),a=!0),o&&(c=o(c,b)),F.push('<td class="legendColorBox"><div style="border:1px solid '+
f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+b.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+c+"</td>");a&&F.push("</tr>");0!=F.length&&(a='<table style="font-size:smaller;color:'+f.grid.color+'">'+F.join("")+"</table>",null!=f.legend.container?d(f.legend.container).html(a):(F="",o=f.legend.position,b=f.legend.margin,null==b[0]&&(b=[b,b]),"n"==o.charAt(0)?F+="top:"+(b[1]+y.top)+"px;":"s"==o.charAt(0)&&(F+="bottom:"+(b[1]+y.bottom)+
"px;"),"e"==o.charAt(1)?F+="right:"+(b[0]+y.right)+"px;":"w"==o.charAt(1)&&(F+="left:"+(b[0]+y.left)+"px;"),a=d('<div class="legend">'+a.replace('style="','style="position:absolute;'+F+";")+"</div>").appendTo(e),0!=f.legend.backgroundOpacity&&(o=f.legend.backgroundColor,null==o&&(o=(o=f.grid.backgroundColor)&&"string"==typeof o?d.color.parse(o):d.color.extract(a,"background-color"),o.a=1,o=o.toString()),b=a.children(),d('<div style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+
F+"background-color:"+o+';"> </div>').prependTo(a).css("opacity",f.legend.backgroundOpacity))))}}function fa(a){var c=a.options,g;g="number"==typeof c.ticks&&0<c.ticks?c.ticks:"x"==a.direction?0.3*Math.sqrt(N):0.3*Math.sqrt(O);g=(a.max-a.min)/g;var f,j,n,e;if("time"==c.mode){var k={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};e=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],
[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];f=0;null!=c.minTickSize&&(f="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*k[c.minTickSize[1]]);for(j=0;j<e.length-1&&!(g<(e[j][0]*k[e[j][1]]+e[j+1][0]*k[e[j+1][1]])/2&&e[j][0]*k[e[j][1]]>=f);++j);f=e[j][0];n=e[j][1];"year"==n&&(j=Math.pow(10,Math.floor(Math.log(g/k.year)/Math.LN10)),e=g/k.year/j,f=(1.5>e?1:3>e?2:7.5>e?5:10)*j);
a.tickSize=c.tickSize||[f,n];j=function(a){var c=[],g=a.tickSize[0],d=a.tickSize[1],j=new Date(a.min),f=g*k[d];d=="second"&&j.setUTCSeconds(b(j.getUTCSeconds(),g));d=="minute"&&j.setUTCMinutes(b(j.getUTCMinutes(),g));d=="hour"&&j.setUTCHours(b(j.getUTCHours(),g));d=="month"&&j.setUTCMonth(b(j.getUTCMonth(),g));d=="year"&&j.setUTCFullYear(b(j.getUTCFullYear(),g));j.setUTCMilliseconds(0);f>=k.minute&&j.setUTCSeconds(0);f>=k.hour&&j.setUTCMinutes(0);f>=k.day&&j.setUTCHours(0);f>=k.day*4&&j.setUTCDate(1);
f>=k.year&&j.setUTCMonth(0);var n=0,e=Number.NaN,H;do{H=e;e=j.getTime();c.push(e);if(d=="month")if(g<1){j.setUTCDate(1);var w=j.getTime();j.setUTCMonth(j.getUTCMonth()+1);var m=j.getTime();j.setTime(e+n*k.hour+(m-w)*g);n=j.getUTCHours();j.setUTCHours(0)}else j.setUTCMonth(j.getUTCMonth()+g);else d=="year"?j.setUTCFullYear(j.getUTCFullYear()+g):j.setTime(e+f)}while(e<a.max&&e!=H);return c};f=function(a,b){var g=new Date(a);if(c.timeformat!=null)return d.plot.formatDate(g,c.timeformat,c.monthNames);
var j=b.tickSize[0]*k[b.tickSize[1]],f=b.max-b.min,n=c.twelveHourClock?" %p":"";fmt=j<k.minute?"%h:%M:%S"+n:j<k.day?f<2*k.day?"%h:%M"+n:"%b %d %h:%M"+n:j<k.month?"%b %d":j<k.year?f<k.year?"%b":"%b %y":"%y";return d.plot.formatDate(g,fmt,c.monthNames)}}else{n=c.tickDecimals;var m=-Math.floor(Math.log(g)/Math.LN10);null!=n&&m>n&&(m=n);j=Math.pow(10,-m);e=g/j;if(1.5>e)f=1;else if(3>e){if(f=2,2.25<e&&(null==n||m+1<=n))f=2.5,++m}else f=7.5>e?5:10;f*=j;null!=c.minTickSize&&f<c.minTickSize&&(f=c.minTickSize);
a.tickDecimals=Math.max(0,null!=n?n:m);a.tickSize=c.tickSize||f;j=function(a){var c=[],g=b(a.min,a.tickSize),j=0,d=Number.NaN,f;do{f=d;d=g+j*a.tickSize;c.push(d);++j}while(d<a.max&&d!=f);return c};f=function(a,b){return a.toFixed(b.tickDecimals)}}if(null!=c.alignTicksWithAxis){var o=("x"==a.direction?E:K)[c.alignTicksWithAxis-1];if(o&&o.used&&o!=a){j=j(a);if(0<j.length&&(null==c.min&&(a.min=Math.min(a.min,j[0])),null==c.max&&1<j.length))a.max=Math.max(a.max,j[j.length-1]);j=function(a){var b=[],c,
g;for(g=0;g<o.ticks.length;++g)c=(o.ticks[g].v-o.min)/(o.max-o.min),c=a.min+c*(a.max-a.min),b.push(c);return b};"time"!=a.mode&&null==c.tickDecimals&&(g=Math.max(0,-Math.floor(Math.log(g)/Math.LN10)+1),e=j(a),1<e.length&&/\..*0$/.test((e[1]-e[0]).toFixed(g))||(a.tickDecimals=g))}}a.tickGenerator=j;a.tickFormatter=d.isFunction(c.tickFormatter)?function(a,b){return""+c.tickFormatter(a,b)}:f}function W(){v.clearRect(0,0,N,O);var a=f.grid;a.show&&!a.aboveData&&V();for(var b=0;b<z.length;++b){n(Q.drawSeries,
[v,z[b]]);var c=z[b];c.lines.show&&g(c);c.bars.show&&$(c);c.points.show&&o(c)}n(Q.draw,[v]);a.show&&a.aboveData&&V()}function T(a,b){var c,g,j,d,f;d=B();for(i=0;i<d.length;++i)if(c=d[i],c.direction==b&&(f=b+c.n+"axis",!a[f]&&1==c.n&&(f=b+"axis"),a[f])){g=a[f].from;j=a[f].to;break}a[f]||(c="x"==b?E[0]:K[0],g=a[b+"1"],j=a[b+"2"]);null!=g&&(null!=j&&g>j)&&(d=g,g=j,j=d);return{from:g,to:j,axis:c}}function V(){var a;v.save();v.translate(y.left,y.top);f.grid.backgroundColor&&(v.fillStyle=ka(f.grid.backgroundColor,
P,0,"rgba(255, 255, 255, 0)"),v.fillRect(0,0,X,P));var b=f.grid.markings;if(b){if(d.isFunction(b)){var c=G.getAxes();c.xmin=c.xaxis.min;c.xmax=c.xaxis.max;c.ymin=c.yaxis.min;c.ymax=c.yaxis.max;b=b(c)}for(a=0;a<b.length;++a){var c=b[a],g=T(c,"x"),j=T(c,"y");null==g.from&&(g.from=g.axis.min);null==g.to&&(g.to=g.axis.max);null==j.from&&(j.from=j.axis.min);null==j.to&&(j.to=j.axis.max);g.to<g.axis.min||(g.from>g.axis.max||j.to<j.axis.min||j.from>j.axis.max)||(g.from=Math.max(g.from,g.axis.min),g.to=Math.min(g.to,
g.axis.max),j.from=Math.max(j.from,j.axis.min),j.to=Math.min(j.to,j.axis.max),g.from==g.to&&j.from==j.to||(g.from=g.axis.p2c(g.from),g.to=g.axis.p2c(g.to),j.from=j.axis.p2c(j.from),j.to=j.axis.p2c(j.to),g.from==g.to||j.from==j.to?(v.beginPath(),v.strokeStyle=c.color||f.grid.markingsColor,v.lineWidth=c.lineWidth||f.grid.markingsLineWidth,v.moveTo(g.from,j.from),v.lineTo(g.to,j.to),v.stroke()):(v.fillStyle=c.color||f.grid.markingsColor,v.fillRect(g.from,j.to,g.to-g.from,j.from-j.to))))}}c=B();b=f.grid.borderWidth;
for(g=0;g<c.length;++g){j=c[g];a=j.box;var n=j.tickLength,e,k,m,o;v.strokeStyle=j.options.tickColor||d.color.parse(j.options.color).scale("a",0.22).toString();v.lineWidth=1;"x"==j.direction?(e=0,k="full"==n?"top"==j.position?0:P:a.top-y.top+("top"==j.position?a.height:0)):(k=0,e="full"==n?"left"==j.position?0:X:a.left-y.left+("left"==j.position?a.width:0));j.innermost||(v.beginPath(),m=o=0,"x"==j.direction?m=X:o=P,1==v.lineWidth&&(e=Math.floor(e)+0.5,k=Math.floor(k)+0.5),v.moveTo(e,k),v.lineTo(e+
m,k+o),v.stroke());v.beginPath();for(a=0;a<j.ticks.length;++a){var p=j.ticks[a].v;m=o=0;p<j.min||(p>j.max||"full"==n&&0<b&&(p==j.min||p==j.max))||("x"==j.direction?(e=j.p2c(p),o="full"==n?-P:n,"top"==j.position&&(o=-o)):(k=j.p2c(p),m="full"==n?-X:n,"left"==j.position&&(m=-m)),1==v.lineWidth&&("x"==j.direction?e=Math.floor(e)+0.5:k=Math.floor(k)+0.5),v.moveTo(e,k),v.lineTo(e+m,k+o))}v.stroke()}b&&(v.lineWidth=b,v.strokeStyle=f.grid.borderColor,v.strokeRect(-b/2,-b/2,X+b,P+b));v.restore()}function g(a){function b(a,
c,g,j,d){var f=a.points,a=a.pointsize,n=null,e=null;v.beginPath();for(var k=a;k<f.length;k+=a){var m=f[k-a],o=f[k-a+1],H=f[k],w=f[k+1];if(!(null==m||null==H)){if(o<=w&&o<d.min){if(w<d.min)continue;m=(d.min-o)/(w-o)*(H-m)+m;o=d.min}else if(w<=o&&w<d.min){if(o<d.min)continue;H=(d.min-o)/(w-o)*(H-m)+m;w=d.min}if(o>=w&&o>d.max){if(w>d.max)continue;m=(d.max-o)/(w-o)*(H-m)+m;o=d.max}else if(w>=o&&w>d.max){if(o>d.max)continue;H=(d.max-o)/(w-o)*(H-m)+m;w=d.max}if(m<=H&&m<j.min){if(H<j.min)continue;o=(j.min-
m)/(H-m)*(w-o)+o;m=j.min}else if(H<=m&&H<j.min){if(m<j.min)continue;w=(j.min-m)/(H-m)*(w-o)+o;H=j.min}if(m>=H&&m>j.max){if(H>j.max)continue;o=(j.max-m)/(H-m)*(w-o)+o;m=j.max}else if(H>=m&&H>j.max){if(m>j.max)continue;w=(j.max-m)/(H-m)*(w-o)+o;H=j.max}(m!=n||o!=e)&&v.moveTo(j.p2c(m)+c,d.p2c(o)+g);n=H;e=w;v.lineTo(j.p2c(H)+c,d.p2c(w)+g)}}v.stroke()}v.save();v.translate(y.left,y.top);v.lineJoin="round";var c=a.lines.lineWidth,g=a.shadowSize;if(0<c&&0<g){v.lineWidth=g;v.strokeStyle="rgba(0,0,0,0.1)";
var j=Math.PI/18;b(a.datapoints,Math.sin(j)*(c/2+g/2),Math.cos(j)*(c/2+g/2),a.xaxis,a.yaxis);v.lineWidth=g/2;b(a.datapoints,Math.sin(j)*(c/2+g/4),Math.cos(j)*(c/2+g/4),a.xaxis,a.yaxis)}v.lineWidth=c;v.strokeStyle=a.color;if(g=da(a.lines,a.color,0,P)){v.fillStyle=g;for(var d=a.datapoints,g=a.xaxis,j=a.yaxis,f=d.points,d=d.pointsize,n=Math.min(Math.max(0,j.min),j.max),e=0,k=!1,m=1,o=0,p=0;!(0<d&&e>f.length+d);){var e=e+d,q=f[e-d],u=f[e-d+m],r=f[e],t=f[e+m];if(k){if(0<d&&null!=q&&null==r){p=e;d=-d;m=
2;continue}if(0>d&&e==o+d){v.fill();k=!1;d=-d;m=1;e=o=p+d;continue}}if(!(null==q||null==r)){if(q<=r&&q<g.min){if(r<g.min)continue;u=(g.min-q)/(r-q)*(t-u)+u;q=g.min}else if(r<=q&&r<g.min){if(q<g.min)continue;t=(g.min-q)/(r-q)*(t-u)+u;r=g.min}if(q>=r&&q>g.max){if(r>g.max)continue;u=(g.max-q)/(r-q)*(t-u)+u;q=g.max}else if(r>=q&&r>g.max){if(q>g.max)continue;t=(g.max-q)/(r-q)*(t-u)+u;r=g.max}k||(v.beginPath(),v.moveTo(g.p2c(q),j.p2c(n)),k=!0);if(u>=j.max&&t>=j.max)v.lineTo(g.p2c(q),j.p2c(j.max)),v.lineTo(g.p2c(r),
j.p2c(j.max));else if(u<=j.min&&t<=j.min)v.lineTo(g.p2c(q),j.p2c(j.min)),v.lineTo(g.p2c(r),j.p2c(j.min));else{var C=q,z=r;u<=t&&u<j.min&&t>=j.min?(q=(j.min-u)/(t-u)*(r-q)+q,u=j.min):t<=u&&(t<j.min&&u>=j.min)&&(r=(j.min-u)/(t-u)*(r-q)+q,t=j.min);u>=t&&u>j.max&&t<=j.max?(q=(j.max-u)/(t-u)*(r-q)+q,u=j.max):t>=u&&(t>j.max&&u<=j.max)&&(r=(j.max-u)/(t-u)*(r-q)+q,t=j.max);q!=C&&v.lineTo(g.p2c(C),j.p2c(u));v.lineTo(g.p2c(q),j.p2c(u));v.lineTo(g.p2c(r),j.p2c(t));r!=z&&(v.lineTo(g.p2c(r),j.p2c(t)),v.lineTo(g.p2c(z),
j.p2c(t)))}}}}0<c&&b(a.datapoints,0,0,a.xaxis,a.yaxis);v.restore()}function o(a){function b(a,c,g,j,d,f,n){for(var e=a.points,a=a.pointsize,k=0;k<e.length;k+=a){var m=e[k],o=e[k+1];null==m||(m<f.min||m>f.max||o<n.min||o>n.max)||(v.beginPath(),v.arc(f.p2c(m),n.p2c(o)+j,c,0,d,!1),g&&(v.fillStyle=g,v.fill()),v.stroke())}}v.save();v.translate(y.left,y.top);var c=a.lines.lineWidth,g=a.shadowSize,j=a.points.radius;0<c&&0<g&&(g/=2,v.lineWidth=g,v.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,j,null,g+g/2,
Math.PI,a.xaxis,a.yaxis),v.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,j,null,g/2,Math.PI,a.xaxis,a.yaxis));v.lineWidth=c;v.strokeStyle=a.color;b(a.datapoints,j,da(a.points,a.color),0,2*Math.PI,a.xaxis,a.yaxis);v.restore()}function u(a,c,b,g,j,d,f,n,e,k,m,o){var q,p,u,r;m?(r=p=u=!0,q=!1,m=b,b=c+g,j=c+j,a<m&&(c=a,a=m,m=c,q=!0,p=!1)):(q=p=u=!0,r=!1,m=a+g,a+=j,j=b,b=c,b<j&&(c=b,b=j,j=c,r=!0,u=!1));if(!(a<n.min||m>n.max||b<e.min||j>e.max))if(m<n.min&&(m=n.min,q=!1),a>n.max&&(a=n.max,p=!1),j<e.min&&(j=
e.min,r=!1),b>e.max&&(b=e.max,u=!1),m=n.p2c(m),j=e.p2c(j),a=n.p2c(a),b=e.p2c(b),f&&(k.beginPath(),k.moveTo(m,j),k.lineTo(m,b),k.lineTo(a,b),k.lineTo(a,j),k.fillStyle=f(j,b),k.fill()),0<o&&(q||p||u||r))k.beginPath(),k.moveTo(m,j+d),q?k.lineTo(m,b+d):k.moveTo(m,b+d),u?k.lineTo(a,b+d):k.moveTo(a,b+d),p?k.lineTo(a,j+d):k.moveTo(a,j+d),r?k.lineTo(m,j+d):k.moveTo(m,j+d),k.stroke()}function $(a){v.save();v.translate(y.left,y.top);v.lineWidth=a.bars.lineWidth;v.strokeStyle=a.color;for(var b="left"==a.bars.align?
0:-a.bars.barWidth/2,c=a.datapoints,g=b+a.bars.barWidth,d=a.bars.fill?function(b,c){return da(a.bars,a.color,b,c)}:null,f=a.xaxis,n=a.yaxis,e=c.points,c=c.pointsize,k=0;k<e.length;k+=c)null!=e[k]&&u(e[k],e[k+1],e[k+2],b,g,0,d,f,n,v,a.bars.horizontal,a.bars.lineWidth);v.restore()}function da(a,b,c,g){var j=a.fill;if(!j)return null;if(a.fillColor)return ka(a.fillColor,c,g,b);a=d.color.parse(b);a.a="number"==typeof j?j:0.4;a.normalize();return a.toString()}function na(a){f.grid.hoverable&&D("plothover",
a,function(a){return!1!=a.hoverable})}function ma(a){D("plotclick",a,function(a){return!1!=a.clickable})}function D(a,b,c){var g=ea.offset(),d=b.pageX-g.left-y.left,n=b.pageY-g.top-y.top,k=A({left:d,top:n});k.pageX=b.pageX;k.pageY=b.pageY;var b=f.grid.mouseActiveRadius,m=b*b+1,o=null,q,p;for(q=z.length-1;0<=q;--q)if(c(z[q])){var u=z[q],r=u.xaxis,t=u.yaxis,v=u.datapoints.points,C=u.datapoints.pointsize,I=r.c2p(d),B=t.c2p(n),$=b/r.scale,G=b/t.scale;if(u.lines.show||u.points.show)for(p=0;p<v.length;p+=
C){var E=v[p],D=v[p+1];if(null!=E&&!(E-I>$||E-I<-$||D-B>G||D-B<-G))E=Math.abs(r.p2c(E)-d),D=Math.abs(t.p2c(D)-n),D=E*E+D*D,D<m&&(m=D,o=[q,p/C])}if(u.bars.show&&!o){r="left"==u.bars.align?0:-u.bars.barWidth/2;u=r+u.bars.barWidth;for(p=0;p<v.length;p+=C)if(E=v[p],D=v[p+1],t=v[p+2],null!=E&&(z[q].bars.horizontal?I<=Math.max(t,E)&&I>=Math.min(t,E)&&B>=D+r&&B<=D+u:I>=E+r&&I<=E+u&&B>=Math.min(t,D)&&B<=Math.max(t,D)))o=[q,p/C]}}o?(q=o[0],p=o[1],C=z[q].datapoints.pointsize,c={datapoint:z[q].datapoints.points.slice(p*
C,(p+1)*C),dataIndex:p,series:z[q],seriesIndex:q}):c=null;c&&(c.pageX=parseInt(c.series.xaxis.p2c(c.datapoint[0])+g.left+y.left),c.pageY=parseInt(c.series.yaxis.p2c(c.datapoint[1])+g.top+y.top));if(f.grid.autoHighlight){for(g=0;g<U.length;++g)d=U[g],d.auto==a&&(!c||!(d.series==c.series&&d.point==c.datapoint))&&Y(d.series,d.point);c&&ha(c.series,c.datapoint,a)}e.trigger(a,[k,c])}function R(){oa||(oa=setTimeout(ja,30))}function ja(){oa=null;L.save();L.clearRect(0,0,N,O);L.translate(y.left,y.top);var a,
b;for(a=0;a<U.length;++a)if(b=U[a],b.series.bars.show)ga(b.series,b.point);else{var c=b.series,g=b.point;b=g[0];var g=g[1],j=c.xaxis,f=c.yaxis;if(!(b<j.min||b>j.max||g<f.min||g>f.max)){var e=c.points.radius+c.points.lineWidth/2;L.lineWidth=e;L.strokeStyle=d.color.parse(c.color).scale("a",0.5).toString();c=1.5*e;L.beginPath();L.arc(j.p2c(b),f.p2c(g),c,0,2*Math.PI,!1);L.stroke()}}L.restore();n(Q.drawOverlay,[L])}function ha(a,b,c){"number"==typeof a&&(a=z[a]);if("number"==typeof b)var g=a.datapoints.pointsize,
b=a.datapoints.points.slice(g*b,g*(b+1));g=t(a,b);-1==g?(U.push({series:a,point:b,auto:c}),R()):c||(U[g].auto=!1)}function Y(a,b){null==a&&null==b&&(U=[],R());"number"==typeof a&&(a=z[a]);"number"==typeof b&&(b=a.data[b]);var c=t(a,b);-1!=c&&(U.splice(c,1),R())}function t(a,b){for(var c=0;c<U.length;++c){var g=U[c];if(g.series==a&&g.point[0]==b[0]&&g.point[1]==b[1])return c}return-1}function ga(a,b){L.lineWidth=a.bars.lineWidth;L.strokeStyle=d.color.parse(a.color).scale("a",0.5).toString();var c=
d.color.parse(a.color).scale("a",0.5).toString(),g="left"==a.bars.align?0:-a.bars.barWidth/2;u(b[0],b[1],b[2]||0,g,g+a.bars.barWidth,0,function(){return c},a.xaxis,a.yaxis,L,a.bars.horizontal,a.bars.lineWidth)}function ka(a,b,c,g){if("string"==typeof a)return a;for(var b=v.createLinearGradient(0,c,0,b),c=0,j=a.colors.length;c<j;++c){var f=a.colors[c];if("string"!=typeof f){var n=d.color.parse(g);null!=f.brightness&&(n=n.scale("rgb",f.brightness));null!=f.opacity&&(n.a*=f.opacity);f=n.toString()}b.addColorStop(c/
(j-1),f)}return b}var z=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,
tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,
markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},ia=null,ba=null,ea=null,v=null,L=null,E=[],K=[],y={left:0,right:0,top:0,bottom:0},N=0,O=0,X=0,P=0,Q={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[]},G=this;G.setData=q;G.setupGrid=ca;G.draw=W;G.getPlaceholder=function(){return e};G.getCanvas=function(){return ia};G.getPlotOffset=function(){return y};G.width=
function(){return X};G.height=function(){return P};G.offset=function(){var a=ea.offset();a.left+=y.left;a.top+=y.top;return a};G.getData=function(){return z};G.getAxis=function(a,b){var c=(a==x?E:K)[b-1];c&&!c.used&&(c=null);return c};G.getAxes=function(){var a={},b;for(b=0;b<E.length;++b)a["x"+(b?b+1:"")+"axis"]=E[b]||{};for(b=0;b<K.length;++b)a["y"+(b?b+1:"")+"axis"]=K[b]||{};a.x2axis||(a.x2axis={n:2});a.y2axis||(a.y2axis={n:2});return a};G.getXAxes=function(){return E};G.getYAxes=function(){return K};
G.getUsedAxes=B;G.c2p=A;G.p2c=function(a){var b={},c,g,d;for(c=0;c<E.length;++c)if((g=E[c])&&g.used)if(d="x"+g.n,null==a[d]&&1==g.n&&(d="x"),a[d]){b.left=g.p2c(a[d]);break}for(c=0;c<K.length;++c)if((g=K[c])&&g.used)if(d="y"+g.n,null==a[d]&&1==g.n&&(d="y"),a[d]){b.top=g.p2c(a[d]);break}return b};G.getOptions=function(){return f};G.highlight=ha;G.unhighlight=Y;G.triggerRedrawOverlay=R;G.pointOffset=function(a){return{left:parseInt(E[r(a,"x")-1].p2c(+a.x)+y.left),top:parseInt(K[r(a,"y")-1].p2c(+a.y)+
y.top)}};G.hooks=Q;for(ba=0;ba<c.length;++ba){var la=c[ba];la.init(G);la.options&&d.extend(!0,f,la.options)}d.extend(!0,f,a);null==f.xaxis.color&&(f.xaxis.color=f.grid.color);null==f.yaxis.color&&(f.yaxis.color=f.grid.color);null==f.xaxis.tickColor&&(f.xaxis.tickColor=f.grid.tickColor);null==f.yaxis.tickColor&&(f.yaxis.tickColor=f.grid.tickColor);null==f.grid.borderColor&&(f.grid.borderColor=f.grid.color);null==f.grid.tickColor&&(f.grid.tickColor=d.color.parse(f.grid.color).scale("a",0.22).toString());
for(a=0;a<Math.max(1,f.xaxes.length);++a)f.xaxes[a]=d.extend(!0,{},f.xaxis,f.xaxes[a]);for(a=0;a<Math.max(1,f.yaxes.length);++a)f.yaxes[a]=d.extend(!0,{},f.yaxis,f.yaxes[a]);f.xaxis.noTicks&&null==f.xaxis.ticks&&(f.xaxis.ticks=f.xaxis.noTicks);f.yaxis.noTicks&&null==f.yaxis.ticks&&(f.yaxis.ticks=f.yaxis.noTicks);f.x2axis&&(f.y2axis.position="top",f.xaxes[1]=f.x2axis);f.y2axis&&(void 0===f.y2axis.autoscaleMargin&&(f.y2axis.autoscaleMargin=0.02),f.y2axis.position="right",f.yaxes[1]=f.y2axis);f.grid.coloredAreas&&
(f.grid.markings=f.grid.coloredAreas);f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor);f.lines&&d.extend(!0,f.series.lines,f.lines);f.points&&d.extend(!0,f.series.points,f.points);f.bars&&d.extend(!0,f.series.bars,f.bars);f.shadowSize&&(f.series.shadowSize=f.shadowSize);for(a=0;a<f.xaxes.length;++a)C(E,a+1).options=f.xaxes[a];for(a=0;a<f.yaxes.length;++a)C(K,a+1).options=f.yaxes[a];for(var Z in Q)f.hooks[Z]&&f.hooks[Z].length&&(Q[Z]=Q[Z].concat(f.hooks[Z]));n(Q.processOptions,
[f]);Z=function(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;c.getContext||(c=window.G_vmlCanvasManager.initElement(c));return c};N=e.width();O=e.height();e.html("");"static"==e.css("position")&&e.css("position","relative");if(0>=N||0>=O)throw"Invalid dimensions for plot, width = "+N+", height = "+O;window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);ia=d(Z(N,O)).appendTo(e).get(0);v=ia.getContext("2d");ba=d(Z(N,O)).css({position:"absolute",left:0,top:0}).appendTo(e).get(0);
L=ba.getContext("2d");L.stroke();q(m);ca();W();ea=d([ba,ia]);f.grid.hoverable&&ea.mousemove(na);f.grid.clickable&&ea.click(ma);n(Q.bindEvents,[ea]);var U=[],oa=null}function b(b,d){return d*Math.floor(b/d)}d.plot=function(b,k,a){return new m(d(b),k,a,d.plot.plugins)};d.plot.plugins=[];d.plot.formatDate=function(b,d,a){var c=function(a){a=""+a;return 1==a.length?"0"+a:a},n=[],m=!1,r=!1,A=b.getUTCHours(),B=12>A;null==a&&(a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=d.search(/%p|%P/)&&
(12<A?A-=12:0==A&&(A=12));for(var C=0;C<d.length;++C){var p=d.charAt(C);if(m){switch(p){case "h":p=""+A;break;case "H":p=c(A);break;case "M":p=c(b.getUTCMinutes());break;case "S":p=c(b.getUTCSeconds());break;case "d":p=""+b.getUTCDate();break;case "m":p=""+(b.getUTCMonth()+1);break;case "y":p=""+b.getUTCFullYear();break;case "b":p=""+a[b.getUTCMonth()];break;case "p":p=B?"am":"pm";break;case "P":p=B?"AM":"PM";break;case "0":p="",r=!0}p&&r&&(p=c(p),r=!1);n.push(p);r||(m=!1)}else"%"==p?m=!0:n.push(p)}return n.join("")}})(jQuery);
(function(){jQuery.color={};jQuery.color.make=function(d,b,e,k){var a={};a.r=d||0;a.g=b||0;a.b=e||0;a.a=null!=k?k:1;a.add=function(b,d){for(var e=0;e<b.length;++e)a[b.charAt(e)]+=d;return a.normalize()};a.scale=function(b,d){for(var e=0;e<b.length;++e)a[b.charAt(e)]*=d;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,c,d){return c<a?a:c>d?d:c}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),
255);a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(d,b){var e;do{e=d.css(b).toLowerCase();if(""!=e&&"transparent"!=e)break;d=d.parent()}while(!jQuery.nodeName(d.get(0),"body"));"rgba(0, 0, 0, 0)"==e&&(e="transparent");return jQuery.color.parse(e)};jQuery.color.parse=function(m){var b,e=jQuery.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(m))return e(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return e(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(m))return e(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return e(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(m))return e(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(m))return e(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));m=jQuery.trim(m).toLowerCase();if("transparent"==m)return e(255,255,255,0);b=d[m];return e(b[0],b[1],b[2])};var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(d){function m(e,a,c){var n=this,m=e.add(this),r=e.find(c.tabs),A=a.jquery?a:e.children(a),B;r.length||(r=e.children());A.length||(A=e.parent().find(a));A.length||(A=d(a));d.extend(this,{click:function(a,e){var k=r.eq(a);"string"==typeof a&&a.replace("#","")&&(a=a.replace(/([\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1"),k=r.filter("[href*="+a.replace("#","")+"]"),a=Math.max(r.index(k),0));if(c.rotate){var A=r.length-1;if(0>a)return n.click(A,e);if(a>A)return n.click(0,
e)}if(!k.length){if(0<=B)return n;a=c.initialIndex;k=r.eq(a)}if(a===B)return n;e=e||d.Event();e.type="onBeforeClick";m.trigger(e,[a]);if(!e.isDefaultPrevented())return b[c.effect].call(n,a,function(){e.type="onClick";m.trigger(e,[a])}),B=a,r.removeClass(c.current),k.addClass(c.current),n},getConf:function(){return c},getTabs:function(){return r},getPanes:function(){return A},getCurrentPane:function(){return A.eq(B)},getCurrentTab:function(){return r.eq(B)},getIndex:function(){return B},next:function(){return n.click(B+
1)},prev:function(){return n.click(B-1)},destroy:function(){r.unbind(c.event).removeClass(c.current);A.find("a[href^=#]").unbind("click.T");return n}});d.each(["onBeforeClick","onClick"],function(a,b){d.isFunction(c[b])&&d(n).bind(b,c[b]);n[b]=function(a){d(n).bind(b,a);return n}});c.history&&d.fn.history&&(d.tools.history.init(r),c.event="history");r.each(function(a){d(this).bind(c.event,function(b){n.click(a,b);return b.preventDefault()})});A.find("a[href^=#]").bind("click.T",function(a){n.click(d(this).attr("href"),
a)});location.hash?n.click(location.hash):(0===c.initialIndex||0<c.initialIndex)&&n.click(c.initialIndex)}d.tools=d.tools||{version:"@VERSION"};d.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(d,a){b[d]=a}};var b={"default":function(b,a){this.getPanes().hide().eq(b).show();a.call()},fade:function(b,a){var c=this.getConf(),d=c.fadeOutSpeed,e=this.getPanes();d?e.fadeOut(d):e.hide();e.eq(b).fadeIn(c.fadeInSpeed,
a)},slide:function(b,a){this.getPanes().slideUp(200);this.getPanes().eq(b).slideDown(400,a)},ajax:function(b,a){this.getPanes().eq(0).load(this.getTabs().eq(b).attr("href"),a)}},e;d.tools.tabs.addEffect("horizontal",function(b,a){e||(e=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){d(this).hide()});this.getPanes().eq(b).animate({width:e},function(){d(this).show();a.call()})});d.fn.tabs=function(b,a){var c=this.data("tabs");c&&(c.destroy(),this.removeData("tabs"));
d.isFunction(a)&&(a={onBeforeClick:a});a=d.extend({},d.tools.tabs.conf,a);this.each(function(){c=new m(d(this),b,a);d(this).data("tabs",c)});return a.api?c:this}})(jQuery);
(function(d){var m="undefined"!=typeof window.innerWidth?function(){return{w:window.innerWidth,h:window.innerHeight}}:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?function(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}:function(){return{w:document.getElementsByTagName("body")[0].clientWidth,h:document.getElementsByTagName("body")[0].clientHeight}};window.kbs=
function(b){d(".kbs.current",b).removeClass("current");var e=d(".domain-section:first",b),k=d(".domain-section:last",b),a=this.scroll_to=function(a){var b=d(document).scrollTop();d(document).height();var c=m().h,c=b+c,e=a.offset().top,a=e+a.height();e<b?d(document).scrollTop(e):a>c&&d(document).scrollTop(b+(a-c))},c=this.get_current=function(){return d(".kbs.current:first",b)},n=this.set_next=function(b,d,e){b=b||c();d.length&&(b.removeClass("current"),d.addClass("current"),e||a(d))},q=this.next_domain=
function(a){var b=c(),d=r(b);d&&(d=d.find(".kbs:first"),n(b,d,a))},r=this._next_domain=function(a){if(!a||!a.length)return d(".domain-section:first",b);a=a.closest(".domain-section");return!a.length||a[0]===k[0]?e:a.next(".domain-section")},A=this.prev_domain=function(){var a=c(),b=B(a);b&&(b=b.find(".kbs:first"),n(a,b))},B=this._prev_domain=function(a){if(!a||!a.length)return d(".domain-section:last",b);var c=a.closest(".domain-section");return a.closest(".property-section").length||a.closest(".type-section").length?
c:!c.length||c[0]===e[0]?k:c.prev(".domain-section")},C=this.next_type=function(){var a=c(),b=p(a);b&&(b=b.find(".kbs:first"),n(a,b))},p=this._next_type=function(a){if(!a||!a.length)return d(".type-section:first",b);var c=a.closest(".domain-section"),a=a.closest(".type-section"),a=a.length?a.next(".type-section"):c.find(".type-section:first");if(!a||!a.length){var e=r(c);if(e)for(;e.get(0)!==c.get(0);){a=e.find(".type-section:first");if(a.length)break;e=r(e)}}return a},I=this.prev_type=function(){var a=
c(),b=S(a);b&&(b=b.find(".kbs:first"),n(a,b))},S=this._prev_type=function(a){if(!a||!a.length)return d(".type-section:last",b);var c=a.closest(".domain-section"),e=a.closest(".type-section");if(a.closest(".property-section").length)return e;var n;e.length&&(n=e.prev(".type-section"));if(!n||!n.length)if(a=B(c))for(;a.get(0)!==c.get(0);){n=a.find(".type-section:last");if(n.length)break;a=B(a)}return n},ca=this.next_prop=function(){var a=c(),b=fa(a);b&&(b=b.find(".kbs:first"),n(a,b))},fa=this._next_prop=
function(a){if(!a||!a.length)return d(".property-section:first",b);var c=a.closest(".domain-section"),e=a.closest(".type-section"),n=a.closest(".property-section"),c=n.length?n.next(".property-section"):e.length?e.find(".property-section:first"):c.find(".property-section:first");if(!c||!c.length)if(a=p(a))for(;a.get(0)!==e.get(0);){c=a.find(".property-section:first");if(c.length)break;null==e.get(0)&&(e=a);a=p(a)}return c},W=this.prev_prop=function(){var a=c(),b=T(a);b&&(b=b.find(".kbs:first"),n(a,
b))},T=this._prev_prop=function(a){if(!a||!a.length)return d(".property-section:last",b);var c=a.closest(".domain-section"),e=a.closest(".type-section"),n=a.closest(".property-section");if(a.closest(".data-section").length)return n;var k;n.length&&(k=n.prev(".property-section"));if(!k||!k.length)if(I=e.length?S(e):S(c))for(;I.get(0)!==e.get(0);){k=I.find(".property-section:last");if(k.length)break;null==e.get(0)&&(e=I);I=S(I)}return k};this.next=function(){var a=c();if(a&&a.length){var e=this._next(a);
if(e){n(a,e);return}}a=d(".kbs:visible:first",b);n(a,a)};this._next=function(a){if(!a||!a.length)return d(".domain-section:first .kbs:first",b);var c=a.closest(".domain-section"),n=a.closest(".type-section"),m=a.closest(".property-section");if(a.closest(".data-section").length){a=a.next(".kbs");if(a.length)return a;a=m.next(".property-section").find(".kbs:first");if(a.length)return a;a=n.next(".type-section").find(".kbs:first")}else if(m.length){a=m.find(".data-section:first .kbs:first");if(a.length)return a;
a=m.next(".property-section").find(".kbs:first");if(a.length)return a;a=n.next(".type-section").find(".kbs:first")}else if(n.length){a=n.find(".property-section:first .kbs:first");if(a.length)return a;a=n.next(".type-section").find(".kbs:first")}else a=c.find(".type-section:first .kbs:first");return a.length?a:c.get(0)===k.get(0)?e.find(".kbs:first"):c.next(".domain-section").find(".kbs:first")};this.prev=function(){var a=c(),b=this._prev(a);b&&n(a,b)};this._prev=function(a){if(!a||!a.length)return a=
d(".data-section:last .kbs:last",b),a.length||(a=d(".property-section:last .kbs:first",b)),a.length||(a=d(".type-section:last .kbs:first",b)),a.length||(a=d(".domain-section:last .kbs:first",b)),a;var c=a.closest(".domain-section"),n=a.closest(".type-section"),m=a.closest(".property-section");return a.closest(".data-section").length?(a=a.prev(".kbs"),a.length?a:m.find(".kbs:first")):m.length?(a=m.prev(".property-section").find(".kbs:last"),a.length?a:n.find(".kbs:first")):n.length?(a=n.prev(".type-section").find(".kbs:last"),
a.length?a:c.find(".kbs:first")):c.get(0)===e.get(0)?k.find(".kbs:last"):c.prev(".domain-section").find(".kbs:last")};this.edit=function(){this.get_current().trigger("edit")};var V=this;d(document).unbind(".kbs").bind("keydown.kbs",function(a){var b=a.target;if(b==document.body||b==document||b==window||b==d("html")[0])b=a.keyCode,68===b?a.shiftKey?A():q():84===b?a.shiftKey?I():C():80===b?a.shiftKey?W():ca():74===b?V.next():75===b?V.prev():69===b&&V.edit()})}})(jQuery);
(function(d,m){var b=window.propbox={init:function(e,k){k=d.extend({lang:"/lang/en"},k);if(!k.base_ajax_url)throw Error("base_ajax_url required in propbox options");if(!k.base_static_url)throw Error("base_static_url required in propbox options");if(!k.id)throw Error("topic id required in propbox options");if(!k.lang)throw Error("lang required in propbox options");b.options=k;b.kbs=new m(e);d(".kbs",e).live("click",function(){var a=b.kbs.get_current();b.kbs.set_next(a,d(this),!0)}).live("edit",function(){var a=
d(this).find(".headmenu:first").data("submenu");a&&d("li:first a:first",a).click()});b.init_menus(e);d.tablesorter&&d(".data-table").addClass("table-sortable").tablesorter()},init_menus:function(e,k){e=d(e||document);k&&d(".nicemenu",e).nicemenu();var a;a=e&&e.is(".hover-row")?e:d(".hover-row",e);a.hover(b.row_menu_hoverover,b.row_menu_hoverout);a.dblclick(function(){var a=d(".nicemenu .default-action",this);a.length||(a=d(".nicemenu:first .submenu:first a:first",this));var b=a.attr("href");b&&("#"==
b||0==b.indexOf("javascript:void(0)"))&&d(a).click()});d(".nicemenu .headmenu",e).add(d(".nicemenu .default-action",e)).click("click",function(){if(b.kbs){var a=b.kbs.get_current();a&&b.kbs.set_next(a,d(this).parents(".kbs:first"),!0)}return!1})},row_menu_hoverover:function(){d(this).addClass("row-hover")},row_menu_hoverout:function(){d(this).removeClass("row-hover")},get_script:function(e,k){var a=b.get_script.cache;a||(a=b.get_script.cache={});var c=a[e];c?1===c.state?c.callbacks.push(k):4===c.state&&
k():(c=a[e]={state:0,callbacks:[k]},d.ajax({url:b.options.base_static_url+e,dataType:"script",cache:!0,beforeSend:function(){c.state=1},success:function(){c.state=4;d.each(c.callbacks,function(a,b){b()})},error:function(){c.state=-1}}))},prop_edit:function(e,k){var a=d(e).parents(".property-section");a.length||(a=d(e).parents(".submenu").data("headmenu").parents(".property-section"));a=a.find(".data-section .data-row:first:visible .nicemenu:first .headmenu");a.length?a.data("submenu").find("a:first").click():
b.prop_add(e,k);return!1},prop_add:function(e,k){var a=d(e).parents(".property-section");a.length||(a=d(e).parents(".submenu").data("headmenu").parents(".property-section"));b.get_script("/propbox-edit.mf.js",function(){b.edit.prop_add_begin(a,k)});return!1},value_edit:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".data-row:first"),a=k.parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.value_edit_begin(a,k)});return!1},value_delete:function(e){var k=
d(e).parents(".submenu").data("headmenu").parents(".data-row:first"),a=k.parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.value_delete_begin(a,k)});return!1},remove_type:function(e){var e=d(e),k=e.parents(".type-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_type_begin(e,k)});return!1},add_type:function(e,k,a){var e=d(e),c=e.parents(".type-section"),n=b.options.incompatible_types;n?n.search(b.options.id,k,a,{compatible:function(){b.add_type_submit(e,
c)},incompatible:n.overlay_incompatible_callback({onConfirm:function(){b.add_type_submit(e,c)}})}):b.add_type_submit(e,c);return!1},add_type_submit:function(d,k){b.get_script("/propbox-edit.mf.js",function(){b.edit.add_type_submit(d,k)})},add_has_no_value:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.add_has_no_value(k)});return!1},add_has_value:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".property-section");
b.get_script("/propbox-edit.mf.js",function(){b.edit.add_has_value(k)});return!1},remove_has_no_value:function(e){var k=d(e).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_has_no_value(k)});return!1},remove_has_value:function(e){var k=d(e).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_has_value(k)});return!1},more:function(e,k,a){var c=d(e).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.more(c,
k,a,function(){d.tablesorter&&c.find("table").addClass("table-sortable").tablesorter()})})}}})(jQuery,window.kbs);
(function(d,m,b){m.infinitescroll=function(a,b,d){this.element=m(d);this._create(a,b)};m.infinitescroll.defaults={loading:{finished:b,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:b},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},callback:b,debug:!1,behavior:b,binder:m(d),nextSelector:"div.navigation a:first",
navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:b,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:b,path:b};m.infinitescroll.prototype={_binding:function(a){var c=this,d=c.options;if(d.behavior&&this["_binding_"+d.behavior]!==b)this["_binding_"+d.behavior].call(this);else{if("bind"!==a&&"unbind"!==a)return this._debug("Binding value  "+a+" not valid"),!1;if("unbind"==a)this.options.binder.unbind("smartscroll.infscr."+
c.options.infid);else this.options.binder[a]("smartscroll.infscr."+c.options.infid,function(){c.scroll()});this._debug("Binding",a)}},_create:function(a,c){if(!this._validate(a))return!1;var d=this.options=m.extend(!0,{},m.infinitescroll.defaults,a),e=m(d.nextSelector).attr("href");d.contentSelector=d.contentSelector||this.element;d.loading.selector=d.loading.selector||d.contentSelector;e?(d.path=this._determinepath(e),d.loading.msg=m('<div id="infscr-loading"><img alt="Loading..." src="'+d.loading.img+
'" /><div>'+d.loading.msgText+"</div></div>"),(new Image).src=d.loading.img,d.pixelsFromNavToBottom=m(document).height()-m(d.navSelector).offset().top,d.loading.start=d.loading.start||function(){m(d.navSelector).hide();d.loading.msg.appendTo(d.loading.selector).show(d.loading.speed,function(){beginAjax(d)})},d.loading.finished=d.loading.finished||function(){d.loading.msg.fadeOut("normal")},d.callback=function(a,e){d.behavior&&a["_callback_"+d.behavior]!==b&&a["_callback_"+d.behavior].call(m(d.contentSelector)[0],
e);c&&c.call(m(d.contentSelector)[0],e)},this._setup()):this._debug("Navigation selector not found")},_debug:function(){if(this.options.debug)return d.console&&console.log.call(console,arguments)},_determinepath:function(a){var c=this.options;if(c.behavior&&this["_determinepath_"+c.behavior]!==b)this["_determinepath_"+c.behavior].call(this,a);else{if(c.pathParse)return this._debug("pathParse manual"),"function"===typeof c.pathParse?c.pathParse():c.pathParse;if(a.match(/^(.*?)\b2\b(.*?$)/))a=a.match(/^(.*?)\b2\b(.*?$)/).slice(1);
else if(a.match(/^(.*?)2(.*?$)/)){if(a.match(/^(.*?page=)2(\/.*|$)/))return a=a.match(/^(.*?page=)2(\/.*|$)/).slice(1);a=a.match(/^(.*?)2(.*?$)/).slice(1)}else{if(a.match(/^(.*?page=)1(\/.*|$)/))return a=a.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");c.state.isInvalidPage=!0}this._debug("determinePath",
a);return a}},_error:function(a){var c=this.options;c.behavior&&this["_error_"+c.behavior]!==b?this["_error_"+c.behavior].call(this,a):("destroy"!==a&&"end"!==a&&(a="unknown"),this._debug("Error",a),"end"==a&&this._showdonemsg(),c.state.isDone=!0,c.state.currPage=1,c.state.isPaused=!1,this._binding("unbind"))},_loadcallback:function(a,c){var e=this.options,k=this.options.callback,r=e.state.isDone?"done":!e.appendCallback?"no-append":"append";if(e.behavior&&this["_loadcallback_"+e.behavior]!==b)this["_loadcallback_"+
e.behavior].call(this,a,c);else{switch(r){case "done":return this._showdonemsg(),!1;case "no-append":"html"==e.dataType&&(c=m("<div>"+c+"</div>").find(e.itemSelector));break;case "append":var A=a.children();if(0==A.length)return this._error("end");for(r=document.createDocumentFragment();a[0].firstChild;)r.appendChild(a[0].firstChild);this._debug("contentSelector",m(e.contentSelector)[0]);m(e.contentSelector)[0].appendChild(r);c=A.get()}e.loading.finished.call(m(e.contentSelector)[0],e);e.animate&&
(r=m(d).scrollTop()+m("#infscr-loading").height()+e.extraScrollPx+"px",m("html,body").animate({scrollTop:r},800,function(){e.state.isDuringAjax=!1}));e.animate||(e.state.isDuringAjax=!1);k(this,c)}},_nearbottom:function(){var a=this.options,c=0+m(document).height()-a.binder.scrollTop()-m(d).height();if(a.behavior&&this["_nearbottom_"+a.behavior]!==b)this["_nearbottom_"+a.behavior].call(this);else return this._debug("math:",c,a.pixelsFromNavToBottom),c-a.bufferPx<a.pixelsFromNavToBottom},_pausing:function(a){var c=
this.options;if(c.behavior&&this["_pausing_"+c.behavior]!==b)this["_pausing_"+c.behavior].call(this,a);else{"pause"!==a&&("resume"!==a&&null!==a)&&this._debug("Invalid argument. Toggling pause value instead");switch(a&&("pause"==a||"resume"==a)?a:"toggle"){case "pause":c.state.isPaused=!0;break;case "resume":c.state.isPaused=!1;break;case "toggle":c.state.isPaused=!c.state.isPaused}this._debug("Paused",c.state.isPaused);return!1}},_setup:function(){var a=this.options;if(a.behavior&&this["_setup_"+
a.behavior]!==b)this["_setup_"+a.behavior].call(this);else return this._binding("bind"),!1},_showdonemsg:function(){var a=this.options;a.behavior&&this["_showdonemsg_"+a.behavior]!==b?this["_showdonemsg_"+a.behavior].call(this):(a.loading.msg.find("img").hide().parent().find("div").html(a.loading.finishedMsg).animate({opacity:1},2E3,function(){m(this).parent().fadeOut("normal")}),a.errorCallback.call(m(a.contentSelector)[0],"done"))},_validate:function(a){for(var b in a)return b.indexOf&&-1<b.indexOf("Selector")&&
0===m(a[b]).length?(this._debug("Your "+b+" found no elements."),!1):!0},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=!0;return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},retrieve:function(a){var c=this,d=c.options,e=this._determinepath(e),k,A,B,C,a=a||null;beginAjax=function(a){a.state.currPage++;c._debug("heading into ajax",e);k=m(a.contentSelector).is("table")?m("<tbody/>"):m("<div/>");
A=e.join(a.state.currPage);B="html"==a.dataType||"json"==a.dataType?a.dataType:"html+callback";a.appendCallback&&"html"==a.dataType&&(B+="+callback");switch(B){case "html+callback":c._debug("Using HTML via .load() method");k.load(A+" "+a.itemSelector,null,function(a){c._loadcallback(k,a)});break;case "html":case "json":c._debug("Using "+B.toUpperCase()+" via $.ajax() method"),m.ajax({url:A,dataType:a.dataType,complete:function(a,b){(C="undefined"!==typeof a.isResolved?a.isResolved():"success"===b||
"notmodified"===b)?c._loadcallback(k,a.responseText):c._error("end")}})}};if(d.behavior&&this["retrieve_"+d.behavior]!==b)this["retrieve_"+d.behavior].call(this,a);else{if(d.state.isDestroyed)return this._debug("Instance is destroyed"),!1;d.state.isDuringAjax=!0;d.loading.start.call(m(d.contentSelector)[0],d)}},scroll:function(){var a=this.options,c=a.state;a.behavior&&this["scroll_"+a.behavior]!==b?this["scroll_"+a.behavior].call(this):!c.isDuringAjax&&!c.isInvalidPage&&!c.isDone&&!c.isDestroyed&&
!c.isPaused&&this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(a){m.isPlainObject(a)&&(this.options=m.extend(!0,this.options,a))}};m.fn.infinitescroll=function(a,b){switch(typeof a){case "string":var d=Array.prototype.slice.call(arguments,1);this.each(function(){var b=m.data(this,"infinitescroll");if(!b||!m.isFunction(b[a])||"_"===a.charAt(0))return!1;b[a].apply(b,d)});break;case "object":this.each(function(){var d=m.data(this,
"infinitescroll");d?d.update(a):m.data(this,"infinitescroll",new m.infinitescroll(a,b,this))})}return this};var e=m.event,k;e.special.smartscroll={setup:function(){m(this).bind("scroll",e.special.smartscroll.handler)},teardown:function(){m(this).unbind("scroll",e.special.smartscroll.handler)},handler:function(a,b){var d=this,e=arguments;a.type="smartscroll";k&&clearTimeout(k);k=setTimeout(function(){m.event.handle.apply(d,e)},"execAsap"===b?0:100)}};m.fn.smartscroll=function(a){return a?this.bind("smartscroll",
a):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);
(function(d,m){var b=m.collection={init_infinitescroll:function(){var e=d("#infinitescroll"),k=e.attr("data-next");if(k&&"false"!==k){var a=d("#infinitescroll-next");e.infinitescroll({loading:{msgText:"Fetching more topics",img:m.h.static_url("lib/template/img/horizontal-loader.gif")},nextSelector:"#infinitescroll-next",navSelector:"#infinitescroll-next",dataType:"json",pathParse:function(){return[a[0].href+"&"+d.param({cursor:e.attr("data-next")})+"&page=",""]},appendCallback:!1},function(a){var a=
JSON.parse(a),k=a.result.cursor,a=d(a.result.html);b.init_menus(a);b.load_blurbs(a);e.append(a);k?e.attr("data-next",k):d(window).unbind(".infscr")});setTimeout(function(){d(window).trigger("scroll")})}},init_menus:function(e,k){e=d(e||document);k&&d(".nicemenu",e).nicemenu();(e&&e.is(".data-row")?e:d(".data-row",e)).hover(b.row_menu_hoverover,b.row_menu_hoverout);d(".nicemenu .headmenu",e).add(d(".nicemenu .default-action",e))},load_blurbs:function(b){d(".load-blurb",b).each(function(b,a){var c=
[m.acre.freebase.googleapis_url,"/text",d(a).attr("data-id"),"?key=",m.acre.freebase.api_key].join("");d.getJSON(c,function(b){b=b.result.split(/\s+/);d(a).text(b.slice(0,30).join(" "))})})},row_menu_hoverover:function(){var e=d(this);b.row_menu_hoverover.timeout=setTimeout(function(){e.addClass("row-hover")},300)},row_menu_hoverout:function(){clearTimeout(b.row_menu_hoverover.timeout);d(this).removeClass("row-hover")},row_edit:function(e){var k=d(e).parents(".submenu").data("headmenu").parents(".data-row:first");
m.get_script(m.h.ajax_url("lib/collection/collection-edit.mf.js"),function(){b.edit.row_edit_begin(k)});return!1},init:function(){b.init_infinitescroll();b.init_menus();b.load_blurbs();return b}};b.init()})(jQuery,window.freebase);
(function(d,m){var b=m.data={init_data_tabs:function(){var b=d("ul.tabs"),k=0;d("a",b).each(function(a){d(this).hasClass("current")&&(k=a)});b.tabs("div.panes > .pane",{effect:"fade",initialIndex:k})},init_activity_chart:function(b){d(".activity-summary",b).each(function(){for(var b=d(this),a=JSON.parse(b.attr("data-activity")),c=[],e=1;e<a.length;e++){var m=parseInt(a[e].v,10);c.push([e,m])}d.plot(b,[{data:c,lines:{show:!0},points:{show:!0,radius:2,fill:!0,fillColor:"#f71"},shadowSize:0,color:"#f71"}],
{grid:{show:!0,color:"#fff",borderWidth:0,hoverable:!0,autoHighlight:!0,mouseActiveRadius:3},legend:{show:!1},xaxis:{tickFormatter:function(){return""},ticks:[]},yaxis:{tickFormatter:function(){return""},ticks:[]}})})}};d(function(){b.init_data_tabs();b.init_activity_chart()})})(jQuery,window.freebase);
