
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
*/
document.createElement("canvas").getContext||function(){function f(){return this.context_||(this.context_=new H(this))}function k(g,a,b){var c=ja.call(arguments,2);return function(){return g.apply(a,c.concat(ja.call(arguments)))}}function b(g){return String(g).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function d(g){g.namespaces.g_vml_||g.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");g.namespaces.g_o_||g.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");
g.styleSheets.ex_canvas_||(g=g.createStyleSheet(),g.owningElement.id="ex_canvas_",g.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function j(g){var a=g.srcElement;switch(g.propertyName){case "width":a.getContext().clearRect();a.style.width=a.attributes.width.nodeValue+"px";a.firstChild.style.width=a.clientWidth+"px";break;case "height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+
"px"}}function a(g){g=g.srcElement;g.firstChild&&(g.firstChild.style.width=g.clientWidth+"px",g.firstChild.style.height=g.clientHeight+"px")}function c(){return[[1,0,0],[0,1,0],[0,0,1]]}function e(g,a){for(var b=c(),f=0;3>f;f++)for(var d=0;3>d;d++){for(var m=0,e=0;3>e;e++)m+=g[f][e]*a[e][d];b[f][d]=m}return b}function v(g,a){a.fillStyle=g.fillStyle;a.lineCap=g.lineCap;a.lineJoin=g.lineJoin;a.lineWidth=g.lineWidth;a.miterLimit=g.miterLimit;a.shadowBlur=g.shadowBlur;a.shadowColor=g.shadowColor;a.shadowOffsetX=
g.shadowOffsetX;a.shadowOffsetY=g.shadowOffsetY;a.strokeStyle=g.strokeStyle;a.globalAlpha=g.globalAlpha;a.font=g.font;a.textAlign=g.textAlign;a.textBaseline=g.textBaseline;a.arcScaleX_=g.arcScaleX_;a.arcScaleY_=g.arcScaleY_;a.lineScale_=g.lineScale_}function q(g){var a=g.indexOf("(",3),b=g.indexOf(")",a+1),a=g.substring(a+1,b).split(",");4==a.length&&"a"==g.substr(3,1)?alpha=Number(a[3]):a[3]=1;return a}function w(g,a,b){return Math.min(b,Math.max(a,g))}function B(g,a,b){0>b&&b++;1<b&&b--;return 1>
6*b?g+6*(a-g)*b:1>2*b?a:2>3*b?g+6*(a-g)*(2/3-b):g}function E(g){var a=1,g=String(g);if("#"!=g.charAt(0))if(/^rgb/.test(g)){for(var a=q(g),g="#",b,c=0;3>c;c++)b=-1!=a[c].indexOf("%")?Math.floor(255*(parseFloat(a[c])/100)):Number(a[c]),g+=Z[w(b,0,255)];a=a[3]}else if(/^hsl/.test(g)){g=a=q(g);h=parseFloat(g[0])/360%360;0>h&&h++;s=w(parseFloat(g[1])/100,0,1);l=w(parseFloat(g[2])/100,0,1);if(0==s)g=b=c=l;else{var c=0.5>l?l*(1+s):l+s-l*s,f=2*l-c,g=B(f,c,h+1/3);b=B(f,c,h);c=B(f,c,h-1/3)}g="#"+Z[Math.floor(255*
g)]+Z[Math.floor(255*b)]+Z[Math.floor(255*c)];a=a[3]}else g=ka[g]||g;return{color:g,alpha:a}}function r(g){switch(g){case "butt":return"flat";case "round":return"round";default:return"square"}}function H(g){this.m_=c();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*C;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=
g;var a=g.ownerDocument.createElement("div");a.style.width=g.clientWidth+"px";a.style.height=g.clientHeight+"px";a.style.overflow="hidden";a.style.position="absolute";g.appendChild(a);this.element_=a;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function T(g,a,b,c){g.currentPath_.push({type:"bezierCurveTo",cp1x:a.x,cp1y:a.y,cp2x:b.x,cp2y:b.y,x:c.x,y:c.y});g.currentX_=c.x;g.currentY_=c.y}function ca(g,a){var b=E(g.strokeStyle),c=b.color,b=b.alpha*g.globalAlpha,f=g.lineScale_*g.lineWidth;1>f&&(b*=
f);a.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',g.lineJoin,'"',' miterlimit="',g.miterLimit,'"',' endcap="',r(g.lineCap),'"',' weight="',f,'px"',' color="',c,'" />')}function fa(g,a,b,c){var f=g.fillStyle,d=g.arcScaleX_,m=g.arcScaleY_,e=c.x-b.x,j=c.y-b.y;if(f instanceof U){var k=0,t=c=0,v=0,p=1;if("gradient"==f.type_){var k=f.x1_/d,b=f.y1_/m,r=g.getCoords_(f.x0_/d,f.y0_/m),k=g.getCoords_(k,b),k=180*Math.atan2(k.x-r.x,k.y-r.y)/Math.PI;0>k&&(k+=360);1E-6>k&&(k=0)}else r=g.getCoords_(f.x0_,
f.y0_),c=(r.x-b.x)/e,t=(r.y-b.y)/j,e/=d*C,j/=m*C,p=n.max(e,j),v=2*f.r0_/p,p=2*f.r1_/p-v;d=f.colors_;d.sort(function(g,a){return g.offset-a.offset});for(var m=d.length,r=d[0].color,b=d[m-1].color,e=d[0].alpha*g.globalAlpha,g=d[m-1].alpha*g.globalAlpha,j=[],q=0;q<m;q++){var w=d[q];j.push(w.offset*p+v+" "+w.color)}a.push('<g_vml_:fill type="',f.type_,'"',' method="none" focus="100%"',' color="',r,'"',' color2="',b,'"',' colors="',j.join(","),'"',' opacity="',g,'"',' g_o_:opacity2="',e,'"',' angle="',
k,'"',' focusposition="',c,",",t,'" />')}else f instanceof W?e&&j&&a.push("<g_vml_:fill",' position="',-b.x/e*d*d,",",-b.y/j*m*m,'"',' type="tile"',' src="',f.src_,'" />'):(f=E(g.fillStyle),a.push('<g_vml_:fill color="',f.color,'" opacity="',f.alpha*g.globalAlpha,'" />'))}function X(g,a,b){isFinite(a[0][0])&&(isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1]))&&(g.m_=a,b&&(g.lineScale_=ma(na(a[0][0]*a[1][1]-a[0][1]*a[1][0]))))}function U(a){this.type_=a;
this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function W(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new m("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new m("INVALID_STATE_ERR");switch(b){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=b;break;default:throw new m("SYNTAX_ERR");}this.src_=a.src;this.width_=a.width;this.height_=a.height}function m(a){this.code=this[a];this.message=
a+": DOM Exception "+this.code}var n=Math,t=n.round,aa=n.sin,da=n.cos,na=n.abs,ma=n.sqrt,C=10,S=C/2,ja=Array.prototype.slice;d(document);var ha={init:function(a){/MSIE/.test(navigator.userAgent)&&!window.opera&&(a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",k(this.init_,this,a)))},init_:function(a){for(var a=a.getElementsByTagName("canvas"),b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(g){if(!g.getContext){g.getContext=f;d(g.ownerDocument);g.innerHTML=
"";g.attachEvent("onpropertychange",j);g.attachEvent("onresize",a);var b=g.attributes;b.width&&b.width.specified?g.style.width=b.width.nodeValue+"px":g.width=g.clientWidth;b.height&&b.height.specified?g.style.height=b.height.nodeValue+"px":g.height=g.clientHeight}return g}};ha.init();for(var Z=[],p=0;16>p;p++)for(var ga=0;16>ga;ga++)Z[16*p+ga]=p.toString(16)+ga.toString(16);var ka={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",
blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",
darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",
khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",
mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",
peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},
A={},p=H.prototype;p.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};p.beginPath=function(){this.currentPath_=[]};p.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};p.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};p.bezierCurveTo=function(a,
b,c,f,d,m){d=this.getCoords_(d,m);a=this.getCoords_(a,b);c=this.getCoords_(c,f);T(this,a,c,d)};p.quadraticCurveTo=function(a,b,c,f){a=this.getCoords_(a,b);c=this.getCoords_(c,f);f={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};T(this,f,{x:f.x+(c.x-this.currentX_)/3,y:f.y+(c.y-this.currentY_)/3},c)};p.arc=function(a,b,c,f,d,m){var c=c*C,e=m?"at":"wa",j=a+da(f)*c-S,k=b+aa(f)*c-S,f=a+da(d)*c-S,d=b+aa(d)*c-S;j==f&&!m&&(j+=0.125);a=this.getCoords_(a,b);j=this.getCoords_(j,
k);f=this.getCoords_(f,d);this.currentPath_.push({type:e,x:a.x,y:a.y,radius:c,xStart:j.x,yStart:j.y,xEnd:f.x,yEnd:f.y})};p.rect=function(a,b,c,f){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+f);this.lineTo(a,b+f);this.closePath()};p.strokeRect=function(a,b,c,f){var d=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+f);this.lineTo(a,b+f);this.closePath();this.stroke();this.currentPath_=d};p.fillRect=function(a,b,c,f){var d=this.currentPath_;this.beginPath();
this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+f);this.lineTo(a,b+f);this.closePath();this.fill();this.currentPath_=d};p.createLinearGradient=function(a,b,c,f){var d=new U("gradient");d.x0_=a;d.y0_=b;d.x1_=c;d.y1_=f;return d};p.createRadialGradient=function(a,b,c,f,d,m){var e=new U("gradientradial");e.x0_=a;e.y0_=b;e.r0_=c;e.x1_=f;e.y1_=d;e.r1_=m;return e};p.drawImage=function(a,b){var c,f,d,m,e,j,k,v;d=a.runtimeStyle.width;m=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height=
"auto";var r=a.width,p=a.height;a.runtimeStyle.width=d;a.runtimeStyle.height=m;if(3==arguments.length)c=arguments[1],f=arguments[2],e=j=0,k=d=r,v=m=p;else if(5==arguments.length)c=arguments[1],f=arguments[2],d=arguments[3],m=arguments[4],e=j=0,k=r,v=p;else if(9==arguments.length)e=arguments[1],j=arguments[2],k=arguments[3],v=arguments[4],c=arguments[5],f=arguments[6],d=arguments[7],m=arguments[8];else throw Error("Invalid number of arguments");var q=this.getCoords_(c,f),w=[];w.push(" <g_vml_:group",
' coordsize="',10*C,",",10*C,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var E=[];E.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",t(q.x/C),",","Dy=",t(q.y/C),"");var A=this.getCoords_(c+d,f),H=this.getCoords_(c,f+m);c=this.getCoords_(c+d,f+m);q.x=n.max(q.x,A.x,H.x,c.x);q.y=n.max(q.y,A.y,H.y,c.y);w.push("padding:0 ",t(q.x/C),
"px ",t(q.y/C),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",E.join(""),", sizingmethod='clip');")}else w.push("top:",t(q.y/C),"px;left:",t(q.x/C),"px;");w.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',C*d,"px;"," height:",C*m,'px"',' cropleft="',e/r,'"',' croptop="',j/p,'"',' cropright="',(r-e-k)/r,'"',' cropbottom="',(p-j-v)/p,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",w.join(""))};p.stroke=function(a){for(var b={x:null,y:null},c={x:null,y:null},
f=0;f<this.currentPath_.length;f+=5E3){var d=[];d.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*C,",",10*C,'"',' stroked="',!a,'"',' path="');for(var m=f;m<Math.min(f+5E3,this.currentPath_.length);m++){0==m%5E3&&0<m&&d.push(" m ",t(this.currentPath_[m-1].x),",",t(this.currentPath_[m-1].y));var e=this.currentPath_[m];switch(e.type){case "moveTo":d.push(" m ",t(e.x),",",t(e.y));break;case "lineTo":d.push(" l ",
t(e.x),",",t(e.y));break;case "close":d.push(" x ");e=null;break;case "bezierCurveTo":d.push(" c ",t(e.cp1x),",",t(e.cp1y),",",t(e.cp2x),",",t(e.cp2y),",",t(e.x),",",t(e.y));break;case "at":case "wa":d.push(" ",e.type," ",t(e.x-this.arcScaleX_*e.radius),",",t(e.y-this.arcScaleY_*e.radius)," ",t(e.x+this.arcScaleX_*e.radius),",",t(e.y+this.arcScaleY_*e.radius)," ",t(e.xStart),",",t(e.yStart)," ",t(e.xEnd),",",t(e.yEnd))}if(e){if(null==b.x||e.x<b.x)b.x=e.x;if(null==c.x||e.x>c.x)c.x=e.x;if(null==b.y||
e.y<b.y)b.y=e.y;if(null==c.y||e.y>c.y)c.y=e.y}}d.push(' ">');a?fa(this,d,b,c):ca(this,d);d.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",d.join(""))}};p.fill=function(){this.stroke(!0)};p.closePath=function(){this.currentPath_.push({type:"close"})};p.getCoords_=function(a,b){var c=this.m_;return{x:C*(a*c[0][0]+b*c[1][0]+c[2][0])-S,y:C*(a*c[0][1]+b*c[1][1]+c[2][1])-S}};p.save=function(){var a={};v(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=e(c(),this.m_)};
p.restore=function(){this.aStack_.length&&(v(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};p.translate=function(a,b){X(this,e([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)};p.rotate=function(a){var b=da(a),a=aa(a);X(this,e([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};p.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;X(this,e([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};p.transform=function(a,b,c,f,d,m){X(this,e([[a,b,0],[c,f,0],[d,m,1]],this.m_),!0)};p.setTransform=function(a,b,c,f,d,e){X(this,
[[a,b,0],[c,f,0],[d,e,1]],!0)};p.drawText_=function(a,c,f,d,e){var m=this.m_,d=0,j=1E3,k=0,n=[],v;v=this.font;if(A[v])v=A[v];else{var r=document.createElement("div").style;try{r.font=v}catch(p){}v=A[v]={style:r.fontStyle||"normal",variant:r.fontVariant||"normal",weight:r.fontWeight||"normal",size:r.fontSize||10,family:r.fontFamily||"sans-serif"}}var r=v,q=this.element_;v={};for(var w in r)v[w]=r[w];w=parseFloat(q.currentStyle.fontSize);q=parseFloat(r.size);v.size="number"==typeof r.size?r.size:-1!=
r.size.indexOf("px")?q:-1!=r.size.indexOf("em")?w*q:-1!=r.size.indexOf("%")?w/100*q:-1!=r.size.indexOf("pt")?q/0.75:w;v.size*=0.981;w=v.style+" "+v.variant+" "+v.weight+" "+v.size+"px "+v.family;q=this.element_.currentStyle;r=this.textAlign.toLowerCase();switch(r){case "left":case "center":case "right":break;case "end":r="ltr"==q.direction?"right":"left";break;case "start":r="rtl"==q.direction?"right":"left";break;default:r="left"}switch(this.textBaseline){case "hanging":case "top":k=v.size/1.75;
break;case "middle":break;default:case null:case "alphabetic":case "ideographic":case "bottom":k=-v.size/2.25}switch(r){case "right":d=1E3;j=0.05;break;case "center":d=j=500}c=this.getCoords_(c+0,f+k);n.push('<g_vml_:line from="',-d,' 0" to="',j,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!e,'" stroked="',!!e,'" style="position:absolute;width:1px;height:1px;">');e?ca(this,n):fa(this,n,{x:-d,y:0},{x:j,y:v.size});e=m[0][0].toFixed(3)+","+m[1][0].toFixed(3)+","+m[0][1].toFixed(3)+
","+m[1][1].toFixed(3)+",0,0";c=t(c.x/C)+","+t(c.y/C);n.push('<g_vml_:skew on="t" matrix="',e,'" ',' offset="',c,'" origin="',d,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',b(a),'" style="v-text-align:',r,";font:",b(w),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",n.join(""))};p.fillText=function(a,b,c,f){this.drawText_(a,b,c,f,!1)};p.strokeText=function(a,b,c,f){this.drawText_(a,b,c,f,!0)};p.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",
'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};p.clip=function(){};p.arcTo=function(){};p.createPattern=function(a,b){return new W(a,b)};U.prototype.addColorStop=function(a,b){b=E(b);this.colors_.push({offset:a,
color:b.color,alpha:b.alpha})};p=m.prototype=Error();p.INDEX_SIZE_ERR=1;p.DOMSTRING_SIZE_ERR=2;p.HIERARCHY_REQUEST_ERR=3;p.WRONG_DOCUMENT_ERR=4;p.INVALID_CHARACTER_ERR=5;p.NO_DATA_ALLOWED_ERR=6;p.NO_MODIFICATION_ALLOWED_ERR=7;p.NOT_FOUND_ERR=8;p.NOT_SUPPORTED_ERR=9;p.INUSE_ATTRIBUTE_ERR=10;p.INVALID_STATE_ERR=11;p.SYNTAX_ERR=12;p.INVALID_MODIFICATION_ERR=13;p.NAMESPACE_ERR=14;p.INVALID_ACCESS_ERR=15;p.VALIDATION_ERR=16;p.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=ha;CanvasRenderingContext2D=H;CanvasGradient=
U;CanvasPattern=W;DOMException=m}();
(function(){jQuery.color={};jQuery.color.make=function(f,b,d,j){var a={};a.r=f||0;a.g=b||0;a.b=d||0;a.a=null!=j?j:1;a.add=function(b,f){for(var d=0;d<b.length;++d)a[b.charAt(d)]+=f;return a.normalize()};a.scale=function(b,f){for(var d=0;d<b.length;++d)a[b.charAt(d)]*=f;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,c,f){return c<a?a:c>f?f:c}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),
255);a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(f,b){var d;do{d=f.css(b).toLowerCase();if(""!=d&&"transparent"!=d)break;f=f.parent()}while(!jQuery.nodeName(f.get(0),"body"));"rgba(0, 0, 0, 0)"==d&&(d="transparent");return jQuery.color.parse(d)};jQuery.color.parse=function(k){var b,d=jQuery.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(k))return d(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(k))return d(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(k))return d(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(k))return d(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(k))return d(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(k))return d(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));k=jQuery.trim(k).toLowerCase();if("transparent"==k)return d(255,255,255,0);b=f[k];return d(b[0],b[1],b[2])};var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(f){function k(d,j,a,c){function e(a,b){for(var b=[F].concat(b),y=0;y<a.length;++y)a[y].apply(this,b)}function k(a){for(var b=[],y=0;y<a.length;++y){var c=f.extend(!0,{},g.series);a[y].data?(c.data=a[y].data,delete a[y].data,f.extend(!0,c,a[y]),a[y].data=c.data):c.data=a[y];b.push(c)}A=b;b=A.length;y=[];c=[];for(a=0;a<A.length;++a){var o=A[a].color;null!=o&&(--b,"number"==typeof o?c.push(o):y.push(f.color.parse(A[a].color)))}for(a=0;a<c.length;++a)b=Math.max(b,c[a]+1);y=[];for(a=c=0;y.length<
b;)o=g.colors.length==a?f.color.make(100,100,100):f.color.parse(g.colors[a]),o.scale("rgb",1+0.2*(1==c%2?-1:1)*Math.ceil(c/2)),y.push(o),++a,a>=g.colors.length&&(a=0,++c);for(a=b=0;a<A.length;++a){c=A[a];null==c.color?(c.color=y[b].toString(),++b):"number"==typeof c.color&&(c.color=y[c.color].toString());if(null==c.lines.show){var d,o=!0;for(d in c)if(c[d]&&c[d].show){o=!1;break}o&&(c.lines.show=!0)}c.xaxis=E(D,q(c,"x"));c.yaxis=E(K,q(c,"y"))}b=function(a){a&&(a.datamin=m,a.datamax=j,a.used=!1)};
d=function(a,b,c){b<a.datamin&&(a.datamin=b);c>a.datamax&&(a.datamax=c)};for(var m=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY,I,M,J,n,r,a=0;a<D.length;++a)b(D[a]);for(a=0;a<K.length;++a)b(K[a]);for(a=0;a<A.length;++a)b=A[a],b.datapoints={points:[]},e(R.processRawData,[b,b.data,b.datapoints]);for(a=0;a<A.length;++a){var b=A[a],v=b.data,N=b.datapoints.format;if(!N){N=[];N.push({x:!0,number:!0,required:!0});N.push({y:!0,number:!0,required:!0});if(b.bars.show||b.lines.show&&b.lines.fill)N.push({y:!0,
number:!0,required:!1,defaultValue:0}),b.bars.horizontal&&(delete N[N.length-1].y,N[N.length-1].x=!0);b.datapoints.format=N}if(null==b.datapoints.pointsize){null==b.datapoints.pointsize&&(b.datapoints.pointsize=N.length);M=b.datapoints.pointsize;o=b.datapoints.points;insertSteps=b.lines.show&&b.lines.steps;b.xaxis.used=b.yaxis.used=!0;for(y=I=0;y<v.length;++y,I+=M){r=v[y];var u=null==r;if(!u)for(c=0;c<M;++c){J=r[c];if(n=N[c])if(n.number&&null!=J&&(J=+J,isNaN(J)&&(J=null)),null==J)n.required&&(u=!0),
null!=n.defaultValue&&(J=n.defaultValue);o[I+c]=J}if(u)for(c=0;c<M;++c)J=o[I+c],null!=J&&(n=N[c],n.x&&d(b.xaxis,J,J),n.y&&d(b.yaxis,J,J)),o[I+c]=null;else if(insertSteps&&0<I&&null!=o[I-M]&&o[I-M]!=o[I]&&o[I-M+1]!=o[I+1]){for(c=0;c<M;++c)o[I+M+c]=o[I+c];o[I+1]=o[I-M+1];I+=M}}}}for(a=0;a<A.length;++a)b=A[a],e(R.processDatapoints,[b,b.datapoints]);for(a=0;a<A.length;++a){b=A[a];o=b.datapoints.points;M=b.datapoints.pointsize;r=I=m;u=v=j;for(y=0;y<o.length;y+=M)if(null!=o[y])for(c=0;c<M;++c)if(J=o[y+
c],n=N[c])if(n.x&&(J<I&&(I=J),J>v&&(v=J)),n.y)J<r&&(r=J),J>u&&(u=J);b.bars.show&&(y="left"==b.bars.align?0:-b.bars.barWidth/2,b.bars.horizontal?(r+=y,u+=y+b.bars.barWidth):(I+=y,v+=y+b.bars.barWidth));d(b.xaxis,I,v);d(b.yaxis,r,u)}f.each(B(),function(a,b){b.datamin==m&&(b.datamin=null);b.datamax==j&&(b.datamax=null)})}function q(a,b){var c=a[b+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function w(a){var b={},c,f;for(c=0;c<D.length;++c)(f=D[c])&&f.used&&(b["x"+f.n]=f.c2p(a.left));
for(c=0;c<K.length;++c)(f=K[c])&&f.used&&(b["y"+f.n]=f.c2p(a.top));void 0!==b.x1&&(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function B(){var a=[],b,c;for(b=0;b<D.length;++b)(c=D[b])&&c.used&&a.push(c);for(b=0;b<K.length;++b)(c=K[b])&&c.used&&a.push(c);return a}function E(a,b){a[b-1]||(a[b-1]={n:b,direction:a==D?"x":"y",options:f.extend(!0,{},a==D?g.xaxis:g.yaxis)});return a[b-1]}function r(a){function b(a){return a}var c,f,o=a.options.transform||b,d=a.options.inverseTransform;"x"==a.direction?
(c=a.scale=Y/(o(a.max)-o(a.min)),f=o(a.min),a.p2c=o==b?function(a){return(a-f)*c}:function(a){return(o(a)-f)*c},a.c2p=d?function(a){return d(f+a/c)}:function(a){return f+a/c}):(c=a.scale=Q/(o(a.max)-o(a.min)),f=o(a.max),a.p2c=o==b?function(a){return(f-a)*c}:function(a){return(f-o(a))*c},a.c2p=d?function(a){return d(f-a/c)}:function(a){return f-a/c})}function H(a){function b(c,o){return f('<div style="position:absolute;top:-10000px;'+o+'font-size:smaller"><div class="'+a.direction+"Axis "+a.direction+
a.n+'Axis">'+c.join("")+"</div></div>").appendTo(d)}if(a){var c=a.options,g,o=a.ticks||[],e=[],m,j=c.labelWidth,c=c.labelHeight;if("x"==a.direction){if(null==j&&(j=Math.floor(O/(0<o.length?o.length:1))),null==c){e=[];for(g=0;g<o.length;++g)(m=o[g].label)&&e.push('<div class="tickLabel" style="float:left;width:'+j+'px">'+m+"</div>");0<e.length&&(e.push('<div style="clear:left"></div>'),o=b(e,"width:10000px;"),c=o.height(),o.remove())}}else if(null==j||null==c){for(g=0;g<o.length;++g)(m=o[g].label)&&
e.push('<div class="tickLabel">'+m+"</div>");0<e.length&&(o=b(e,""),null==j&&(j=o.children().width()),null==c&&(c=o.find("div.tickLabel").height()),o.remove())}null==j&&(j=0);null==c&&(c=0);a.labelWidth=j;a.labelHeight=c}}function T(a){if(a&&(a.used||a.labelWidth||a.labelHeight)){var b=a.labelWidth,c=a.labelHeight,d=a.options.position,o=a.options.tickLength,e=g.grid.axisMargin,m=g.grid.labelMargin,j="x"==a.direction?D:K,k=f.grep(j,function(a){return a&&a.options.position==d&&(a.labelHeight||a.labelWidth)});
f.inArray(a,k)==k.length-1&&(e=0);null==o&&(o="full");j=f.grep(j,function(a){return a&&(a.labelHeight||a.labelWidth)});j=0==f.inArray(a,j);!j&&"full"==o&&(o=5);isNaN(+o)||(m+=+o);"x"==a.direction?(c+=m,"bottom"==d?(z.bottom+=c+e,a.box={top:P-z.bottom,height:c}):(a.box={top:z.top+e,height:c},z.top+=c+e)):(b+=m,"left"==d?(a.box={left:z.left+e,width:b},z.left+=b+e):(z.right+=b+e,a.box={left:O-z.right,width:b}));a.position=d;a.tickLength=o;a.box.padding=m;a.innermost=j}}function ca(){var a=B(),b;for(b=
0;b<a.length;++b){var c=a[b],e=c.options,o=+(null!=e.min?e.min:c.datamin),m=+(null!=e.max?e.max:c.datamax),j=m-o;if(0==j){if(j=0==m?1:0.01,null==e.min&&(o-=j),null==e.max||null!=e.min)m+=j}else{var k=e.autoscaleMargin;if(null!=k&&(null==e.min&&(o-=j*k,0>o&&(null!=c.datamin&&0<=c.datamin)&&(o=0)),null==e.max))m+=j*k,0<m&&(null!=c.datamax&&0>=c.datamax)&&(m=0)}c.min=o;c.max=m}z.left=z.right=z.top=z.bottom=0;if(g.grid.show){for(b=0;b<a.length;++b){fa(a[b]);c=a[b];c.ticks=[];o=c.options.ticks;e=null;
null==o||"number"==typeof o&&0<o?e=c.tickGenerator(c):o&&(e=f.isFunction(o)?o({min:c.min,max:c.max}):o);m=o=void 0;for(o=0;o<e.length;++o)j=null,k=e[o],"object"==typeof k?(m=k[0],1<k.length&&(j=k[1])):m=k,null==j&&(j=c.tickFormatter(m,c)),c.ticks[o]={v:m,label:j};c=a[b];e=a[b].ticks;if(null!=c.options.autoscaleMargin&&0<e.length&&(null==c.options.min&&(c.min=Math.min(c.min,e[0].v)),null==c.options.max&&1<e.length))c.max=Math.max(c.max,e[e.length-1].v)}for(b=0;b<D.length;++b)H(D[b]);for(b=0;b<K.length;++b)H(K[b]);
for(b=D.length-1;0<=b;--b)T(D[b]);for(b=K.length-1;0<=b;--b)T(K[b]);for(c=b=0;c<A.length;++c)b=Math.max(b,2*(A[c].points.radius+A[c].points.lineWidth/2));for(var n in z)z[n]+=g.grid.borderWidth,z[n]=Math.max(b,z[n])}Y=O-z.left-z.right;Q=P-z.bottom-z.top;for(b=0;b<a.length;++b)r(a[b]);if(g.grid.show){for(b=0;b<a.length;++b)n=a[b],"x"==n.direction?(n.box.left=z.left,n.box.width=Y):(n.box.top=z.top,n.box.height=Q);d.find(".tickLabels").remove();a=['<div class="tickLabels" style="font-size:smaller">'];
n=B();for(b=0;b<n.length;++b){c=n[b];e=c.box;a.push('<div class="'+c.direction+"Axis "+c.direction+c.n+'Axis" style="color:'+c.options.color+'">');for(o=0;o<c.ticks.length;++o)if(m=c.ticks[o],m.label&&!(m.v<c.min||m.v>c.max)){j={};"x"==c.direction?(k="center",j.left=Math.round(z.left+c.p2c(m.v)-c.labelWidth/2),"bottom"==c.position?j.top=e.top+e.padding:j.bottom=P-(e.top+e.height-e.padding)):(j.top=Math.round(z.top+c.p2c(m.v)-c.labelHeight/2),"left"==c.position?(j.right=O-(e.left+e.width-e.padding),
k="right"):(j.left=e.left+e.padding,k="left"));j.width=c.labelWidth;var k=["position:absolute","text-align:"+k],v;for(v in j)k.push(v+":"+j[v]+"px");a.push('<div class="tickLabel" style="'+k.join(";")+'">'+m.label+"</div>")}a.push("</div>")}a.push("</div>");d.append(a.join(""))}d.find(".legend").remove();if(g.legend.show){v=[];a=!1;n=g.legend.labelFormatter;for(e=0;e<A.length;++e)if(b=A[e],c=b.label)0==e%g.legend.noColumns&&(a&&v.push("</tr>"),v.push("<tr>"),a=!0),n&&(c=n(c,b)),v.push('<td class="legendColorBox"><div style="border:1px solid '+
g.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+b.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+c+"</td>");a&&v.push("</tr>");0!=v.length&&(a='<table style="font-size:smaller;color:'+g.grid.color+'">'+v.join("")+"</table>",null!=g.legend.container?f(g.legend.container).html(a):(v="",n=g.legend.position,b=g.legend.margin,null==b[0]&&(b=[b,b]),"n"==n.charAt(0)?v+="top:"+(b[1]+z.top)+"px;":"s"==n.charAt(0)&&(v+="bottom:"+(b[1]+z.bottom)+
"px;"),"e"==n.charAt(1)?v+="right:"+(b[0]+z.right)+"px;":"w"==n.charAt(1)&&(v+="left:"+(b[0]+z.left)+"px;"),a=f('<div class="legend">'+a.replace('style="','style="position:absolute;'+v+";")+"</div>").appendTo(d),0!=g.legend.backgroundOpacity&&(n=g.legend.backgroundColor,null==n&&(n=(n=g.grid.backgroundColor)&&"string"==typeof n?f.color.parse(n):f.color.extract(a,"background-color"),n.a=1,n=n.toString()),b=a.children(),f('<div style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+
v+"background-color:"+n+';"> </div>').prependTo(a).css("opacity",g.legend.backgroundOpacity))))}}function fa(a){var c=a.options,e;e="number"==typeof c.ticks&&0<c.ticks?c.ticks:"x"==a.direction?0.3*Math.sqrt(O):0.3*Math.sqrt(P);e=(a.max-a.min)/e;var d,o,g,m;if("time"==c.mode){var j={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};m=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],
[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];d=0;null!=c.minTickSize&&(d="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*j[c.minTickSize[1]]);for(o=0;o<m.length-1&&!(e<(m[o][0]*j[m[o][1]]+m[o+1][0]*j[m[o+1][1]])/2&&m[o][0]*j[m[o][1]]>=d);++o);d=m[o][0];g=m[o][1];"year"==g&&(o=Math.pow(10,Math.floor(Math.log(e/j.year)/Math.LN10)),m=e/j.year/o,d=(1.5>m?1:3>m?2:7.5>m?5:10)*o);
a.tickSize=c.tickSize||[d,g];o=function(a){var c=[],e=a.tickSize[0],f=a.tickSize[1],d=new Date(a.min),o=e*j[f];f=="second"&&d.setUTCSeconds(b(d.getUTCSeconds(),e));f=="minute"&&d.setUTCMinutes(b(d.getUTCMinutes(),e));f=="hour"&&d.setUTCHours(b(d.getUTCHours(),e));f=="month"&&d.setUTCMonth(b(d.getUTCMonth(),e));f=="year"&&d.setUTCFullYear(b(d.getUTCFullYear(),e));d.setUTCMilliseconds(0);o>=j.minute&&d.setUTCSeconds(0);o>=j.hour&&d.setUTCMinutes(0);o>=j.day&&d.setUTCHours(0);o>=j.day*4&&d.setUTCDate(1);
o>=j.year&&d.setUTCMonth(0);var m=0,g=Number.NaN,G;do{G=g;g=d.getTime();c.push(g);if(f=="month")if(e<1){d.setUTCDate(1);var y=d.getTime();d.setUTCMonth(d.getUTCMonth()+1);var n=d.getTime();d.setTime(g+m*j.hour+(n-y)*e);m=d.getUTCHours();d.setUTCHours(0)}else d.setUTCMonth(d.getUTCMonth()+e);else f=="year"?d.setUTCFullYear(d.getUTCFullYear()+e):d.setTime(g+o)}while(g<a.max&&g!=G);return c};d=function(a,b){var d=new Date(a);if(c.timeformat!=null)return f.plot.formatDate(d,c.timeformat,c.monthNames);
var e=b.tickSize[0]*j[b.tickSize[1]],o=b.max-b.min,g=c.twelveHourClock?" %p":"";fmt=e<j.minute?"%h:%M:%S"+g:e<j.day?o<2*j.day?"%h:%M"+g:"%b %d %h:%M"+g:e<j.month?"%b %d":e<j.year?o<j.year?"%b":"%b %y":"%y";return f.plot.formatDate(d,fmt,c.monthNames)}}else{g=c.tickDecimals;var n=-Math.floor(Math.log(e)/Math.LN10);null!=g&&n>g&&(n=g);o=Math.pow(10,-n);m=e/o;if(1.5>m)d=1;else if(3>m){if(d=2,2.25<m&&(null==g||n+1<=g))d=2.5,++n}else d=7.5>m?5:10;d*=o;null!=c.minTickSize&&d<c.minTickSize&&(d=c.minTickSize);
a.tickDecimals=Math.max(0,null!=g?g:n);a.tickSize=c.tickSize||d;o=function(a){var c=[],d=b(a.min,a.tickSize),e=0,f=Number.NaN,o;do{o=f;f=d+e*a.tickSize;c.push(f);++e}while(f<a.max&&f!=o);return c};d=function(a,b){return a.toFixed(b.tickDecimals)}}if(null!=c.alignTicksWithAxis){var k=("x"==a.direction?D:K)[c.alignTicksWithAxis-1];if(k&&k.used&&k!=a){o=o(a);if(0<o.length&&(null==c.min&&(a.min=Math.min(a.min,o[0])),null==c.max&&1<o.length))a.max=Math.max(a.max,o[o.length-1]);o=function(a){var b=[],c,
d;for(d=0;d<k.ticks.length;++d)c=(k.ticks[d].v-k.min)/(k.max-k.min),c=a.min+c*(a.max-a.min),b.push(c);return b};"time"!=a.mode&&null==c.tickDecimals&&(e=Math.max(0,-Math.floor(Math.log(e)/Math.LN10)+1),m=o(a),1<m.length&&/\..*0$/.test((m[1]-m[0]).toFixed(e))||(a.tickDecimals=e))}}a.tickGenerator=o;a.tickFormatter=f.isFunction(c.tickFormatter)?function(a,b){return""+c.tickFormatter(a,b)}:d}function X(){u.clearRect(0,0,O,P);var a=g.grid;a.show&&!a.aboveData&&W();for(var b=0;b<A.length;++b){e(R.drawSeries,
[u,A[b]]);var c=A[b];c.lines.show&&m(c);c.bars.show&&aa(c);c.points.show&&n(c)}e(R.draw,[u]);a.show&&a.aboveData&&W()}function U(a,b){var c,d,e,f,g;f=B();for(i=0;i<f.length;++i)if(c=f[i],c.direction==b&&(g=b+c.n+"axis",!a[g]&&1==c.n&&(g=b+"axis"),a[g])){d=a[g].from;e=a[g].to;break}a[g]||(c="x"==b?D[0]:K[0],d=a[b+"1"],e=a[b+"2"]);null!=d&&(null!=e&&d>e)&&(f=d,d=e,e=f);return{from:d,to:e,axis:c}}function W(){var a;u.save();u.translate(z.left,z.top);g.grid.backgroundColor&&(u.fillStyle=ka(g.grid.backgroundColor,
Q,0,"rgba(255, 255, 255, 0)"),u.fillRect(0,0,Y,Q));var b=g.grid.markings;if(b){if(f.isFunction(b)){var c=F.getAxes();c.xmin=c.xaxis.min;c.xmax=c.xaxis.max;c.ymin=c.yaxis.min;c.ymax=c.yaxis.max;b=b(c)}for(a=0;a<b.length;++a){var c=b[a],d=U(c,"x"),e=U(c,"y");null==d.from&&(d.from=d.axis.min);null==d.to&&(d.to=d.axis.max);null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);d.to<d.axis.min||(d.from>d.axis.max||e.to<e.axis.min||e.from>e.axis.max)||(d.from=Math.max(d.from,d.axis.min),d.to=Math.min(d.to,
d.axis.max),e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),d.from==d.to&&e.from==e.to||(d.from=d.axis.p2c(d.from),d.to=d.axis.p2c(d.to),e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),d.from==d.to||e.from==e.to?(u.beginPath(),u.strokeStyle=c.color||g.grid.markingsColor,u.lineWidth=c.lineWidth||g.grid.markingsLineWidth,u.moveTo(d.from,e.from),u.lineTo(d.to,e.to),u.stroke()):(u.fillStyle=c.color||g.grid.markingsColor,u.fillRect(d.from,e.to,d.to-d.from,e.from-e.to))))}}c=B();b=g.grid.borderWidth;
for(d=0;d<c.length;++d){e=c[d];a=e.box;var m=e.tickLength,j,n,k,v;u.strokeStyle=e.options.tickColor||f.color.parse(e.options.color).scale("a",0.22).toString();u.lineWidth=1;"x"==e.direction?(j=0,n="full"==m?"top"==e.position?0:Q:a.top-z.top+("top"==e.position?a.height:0)):(n=0,j="full"==m?"left"==e.position?0:Y:a.left-z.left+("left"==e.position?a.width:0));e.innermost||(u.beginPath(),k=v=0,"x"==e.direction?k=Y:v=Q,1==u.lineWidth&&(j=Math.floor(j)+0.5,n=Math.floor(n)+0.5),u.moveTo(j,n),u.lineTo(j+
k,n+v),u.stroke());u.beginPath();for(a=0;a<e.ticks.length;++a){var r=e.ticks[a].v;k=v=0;r<e.min||(r>e.max||"full"==m&&0<b&&(r==e.min||r==e.max))||("x"==e.direction?(j=e.p2c(r),v="full"==m?-Q:m,"top"==e.position&&(v=-v)):(n=e.p2c(r),k="full"==m?-Y:m,"left"==e.position&&(k=-k)),1==u.lineWidth&&("x"==e.direction?j=Math.floor(j)+0.5:n=Math.floor(n)+0.5),u.moveTo(j,n),u.lineTo(j+k,n+v))}u.stroke()}b&&(u.lineWidth=b,u.strokeStyle=g.grid.borderColor,u.strokeRect(-b/2,-b/2,Y+b,Q+b));u.restore()}function m(a){function b(a,
c,e,d,f){var g=a.points,a=a.pointsize,m=null,j=null;u.beginPath();for(var o=a;o<g.length;o+=a){var n=g[o-a],k=g[o-a+1],G=g[o],y=g[o+1];if(!(null==n||null==G)){if(k<=y&&k<f.min){if(y<f.min)continue;n=(f.min-k)/(y-k)*(G-n)+n;k=f.min}else if(y<=k&&y<f.min){if(k<f.min)continue;G=(f.min-k)/(y-k)*(G-n)+n;y=f.min}if(k>=y&&k>f.max){if(y>f.max)continue;n=(f.max-k)/(y-k)*(G-n)+n;k=f.max}else if(y>=k&&y>f.max){if(k>f.max)continue;G=(f.max-k)/(y-k)*(G-n)+n;y=f.max}if(n<=G&&n<d.min){if(G<d.min)continue;k=(d.min-
n)/(G-n)*(y-k)+k;n=d.min}else if(G<=n&&G<d.min){if(n<d.min)continue;y=(d.min-n)/(G-n)*(y-k)+k;G=d.min}if(n>=G&&n>d.max){if(G>d.max)continue;k=(d.max-n)/(G-n)*(y-k)+k;n=d.max}else if(G>=n&&G>d.max){if(n>d.max)continue;y=(d.max-n)/(G-n)*(y-k)+k;G=d.max}(n!=m||k!=j)&&u.moveTo(d.p2c(n)+c,f.p2c(k)+e);m=G;j=y;u.lineTo(d.p2c(G)+c,f.p2c(y)+e)}}u.stroke()}u.save();u.translate(z.left,z.top);u.lineJoin="round";var c=a.lines.lineWidth,d=a.shadowSize;if(0<c&&0<d){u.lineWidth=d;u.strokeStyle="rgba(0,0,0,0.1)";
var e=Math.PI/18;b(a.datapoints,Math.sin(e)*(c/2+d/2),Math.cos(e)*(c/2+d/2),a.xaxis,a.yaxis);u.lineWidth=d/2;b(a.datapoints,Math.sin(e)*(c/2+d/4),Math.cos(e)*(c/2+d/4),a.xaxis,a.yaxis)}u.lineWidth=c;u.strokeStyle=a.color;if(d=da(a.lines,a.color,0,Q)){u.fillStyle=d;for(var f=a.datapoints,d=a.xaxis,e=a.yaxis,g=f.points,f=f.pointsize,m=Math.min(Math.max(0,e.min),e.max),j=0,n=!1,k=1,v=0,r=0;!(0<f&&j>g.length+f);){var j=j+f,t=g[j-f],q=g[j-f+k],p=g[j],w=g[j+k];if(n){if(0<f&&null!=t&&null==p){r=j;f=-f;k=
2;continue}if(0>f&&j==v+f){u.fill();n=!1;f=-f;k=1;j=v=r+f;continue}}if(!(null==t||null==p)){if(t<=p&&t<d.min){if(p<d.min)continue;q=(d.min-t)/(p-t)*(w-q)+q;t=d.min}else if(p<=t&&p<d.min){if(t<d.min)continue;w=(d.min-t)/(p-t)*(w-q)+q;p=d.min}if(t>=p&&t>d.max){if(p>d.max)continue;q=(d.max-t)/(p-t)*(w-q)+q;t=d.max}else if(p>=t&&p>d.max){if(t>d.max)continue;w=(d.max-t)/(p-t)*(w-q)+q;p=d.max}n||(u.beginPath(),u.moveTo(d.p2c(t),e.p2c(m)),n=!0);if(q>=e.max&&w>=e.max)u.lineTo(d.p2c(t),e.p2c(e.max)),u.lineTo(d.p2c(p),
e.p2c(e.max));else if(q<=e.min&&w<=e.min)u.lineTo(d.p2c(t),e.p2c(e.min)),u.lineTo(d.p2c(p),e.p2c(e.min));else{var E=t,A=p;q<=w&&q<e.min&&w>=e.min?(t=(e.min-q)/(w-q)*(p-t)+t,q=e.min):w<=q&&(w<e.min&&q>=e.min)&&(p=(e.min-q)/(w-q)*(p-t)+t,w=e.min);q>=w&&q>e.max&&w<=e.max?(t=(e.max-q)/(w-q)*(p-t)+t,q=e.max):w>=q&&(w>e.max&&q<=e.max)&&(p=(e.max-q)/(w-q)*(p-t)+t,w=e.max);t!=E&&u.lineTo(d.p2c(E),e.p2c(q));u.lineTo(d.p2c(t),e.p2c(q));u.lineTo(d.p2c(p),e.p2c(w));p!=A&&(u.lineTo(d.p2c(p),e.p2c(w)),u.lineTo(d.p2c(A),
e.p2c(w)))}}}}0<c&&b(a.datapoints,0,0,a.xaxis,a.yaxis);u.restore()}function n(a){function c(a,b,d,e,f,g,m){for(var j=a.points,a=a.pointsize,n=0;n<j.length;n+=a){var o=j[n],k=j[n+1];null==o||(o<g.min||o>g.max||k<m.min||k>m.max)||(u.beginPath(),u.arc(g.p2c(o),m.p2c(k)+e,b,0,f,!1),d&&(u.fillStyle=d,u.fill()),u.stroke())}}u.save();u.translate(z.left,z.top);var b=a.lines.lineWidth,d=a.shadowSize,e=a.points.radius;0<b&&0<d&&(d/=2,u.lineWidth=d,u.strokeStyle="rgba(0,0,0,0.1)",c(a.datapoints,e,null,d+d/2,
Math.PI,a.xaxis,a.yaxis),u.strokeStyle="rgba(0,0,0,0.2)",c(a.datapoints,e,null,d/2,Math.PI,a.xaxis,a.yaxis));u.lineWidth=b;u.strokeStyle=a.color;c(a.datapoints,e,da(a.points,a.color),0,2*Math.PI,a.xaxis,a.yaxis);u.restore()}function t(a,b,c,d,e,f,g,m,j,n,k,v){var t,r,q,p;k?(p=r=q=!0,t=!1,k=c,c=b+d,e=b+e,a<k&&(b=a,a=k,k=b,t=!0,r=!1)):(t=r=q=!0,p=!1,k=a+d,a+=e,e=c,c=b,c<e&&(b=c,c=e,e=b,p=!0,q=!1));if(!(a<m.min||k>m.max||c<j.min||e>j.max))if(k<m.min&&(k=m.min,t=!1),a>m.max&&(a=m.max,r=!1),e<j.min&&(e=
j.min,p=!1),c>j.max&&(c=j.max,q=!1),k=m.p2c(k),e=j.p2c(e),a=m.p2c(a),c=j.p2c(c),g&&(n.beginPath(),n.moveTo(k,e),n.lineTo(k,c),n.lineTo(a,c),n.lineTo(a,e),n.fillStyle=g(e,c),n.fill()),0<v&&(t||r||q||p))n.beginPath(),n.moveTo(k,e+f),t?n.lineTo(k,c+f):n.moveTo(k,c+f),q?n.lineTo(a,c+f):n.moveTo(a,c+f),r?n.lineTo(a,e+f):n.moveTo(a,e+f),p?n.lineTo(k,e+f):n.moveTo(k,e+f),n.stroke()}function aa(a){u.save();u.translate(z.left,z.top);u.lineWidth=a.bars.lineWidth;u.strokeStyle=a.color;for(var c="left"==a.bars.align?
0:-a.bars.barWidth/2,b=a.datapoints,e=c+a.bars.barWidth,d=a.bars.fill?function(c,b){return da(a.bars,a.color,c,b)}:null,f=a.xaxis,g=a.yaxis,m=b.points,b=b.pointsize,j=0;j<m.length;j+=b)null!=m[j]&&t(m[j],m[j+1],m[j+2],c,e,0,d,f,g,u,a.bars.horizontal,a.bars.lineWidth);u.restore()}function da(a,c,b,e){var d=a.fill;if(!d)return null;if(a.fillColor)return ka(a.fillColor,b,e,c);a=f.color.parse(c);a.a="number"==typeof d?d:0.4;a.normalize();return a.toString()}function na(a){g.grid.hoverable&&C("plothover",
a,function(a){return!1!=a.hoverable})}function ma(a){C("plotclick",a,function(a){return!1!=a.clickable})}function C(a,c,b){var e=ea.offset(),f=c.pageX-e.left-z.left,m=c.pageY-e.top-z.top,j=w({left:f,top:m});j.pageX=c.pageX;j.pageY=c.pageY;var c=g.grid.mouseActiveRadius,n=c*c+1,k=null,v,t;for(v=A.length-1;0<=v;--v)if(b(A[v])){var r=A[v],q=r.xaxis,p=r.yaxis,u=r.datapoints.points,E=r.datapoints.pointsize,H=q.c2p(f),B=p.c2p(m),aa=c/q.scale,F=c/p.scale;if(r.lines.show||r.points.show)for(t=0;t<u.length;t+=
E){var D=u[t],C=u[t+1];if(null!=D&&!(D-H>aa||D-H<-aa||C-B>F||C-B<-F))D=Math.abs(q.p2c(D)-f),C=Math.abs(p.p2c(C)-m),C=D*D+C*C,C<n&&(n=C,k=[v,t/E])}if(r.bars.show&&!k){q="left"==r.bars.align?0:-r.bars.barWidth/2;r=q+r.bars.barWidth;for(t=0;t<u.length;t+=E)if(D=u[t],C=u[t+1],p=u[t+2],null!=D&&(A[v].bars.horizontal?H<=Math.max(p,D)&&H>=Math.min(p,D)&&B>=C+q&&B<=C+r:H>=D+q&&H<=D+r&&B>=Math.min(p,C)&&B<=Math.max(p,C)))k=[v,t/E]}}k?(v=k[0],t=k[1],E=A[v].datapoints.pointsize,b={datapoint:A[v].datapoints.points.slice(t*
E,(t+1)*E),dataIndex:t,series:A[v],seriesIndex:v}):b=null;b&&(b.pageX=parseInt(b.series.xaxis.p2c(b.datapoint[0])+e.left+z.left),b.pageY=parseInt(b.series.yaxis.p2c(b.datapoint[1])+e.top+z.top));if(g.grid.autoHighlight){for(e=0;e<V.length;++e)f=V[e],f.auto==a&&(!b||!(f.series==b.series&&f.point==b.datapoint))&&Z(f.series,f.point);b&&ha(b.series,b.datapoint,a)}d.trigger(a,[j,b])}function S(){oa||(oa=setTimeout(ja,30))}function ja(){oa=null;L.save();L.clearRect(0,0,O,P);L.translate(z.left,z.top);var a,
c;for(a=0;a<V.length;++a)if(c=V[a],c.series.bars.show)ga(c.series,c.point);else{var b=c.series,d=c.point;c=d[0];var d=d[1],m=b.xaxis,g=b.yaxis;if(!(c<m.min||c>m.max||d<g.min||d>g.max)){var j=b.points.radius+b.points.lineWidth/2;L.lineWidth=j;L.strokeStyle=f.color.parse(b.color).scale("a",0.5).toString();b=1.5*j;L.beginPath();L.arc(m.p2c(c),g.p2c(d),b,0,2*Math.PI,!1);L.stroke()}}L.restore();e(R.drawOverlay,[L])}function ha(a,c,b){"number"==typeof a&&(a=A[a]);if("number"==typeof c)var e=a.datapoints.pointsize,
c=a.datapoints.points.slice(e*c,e*(c+1));e=p(a,c);-1==e?(V.push({series:a,point:c,auto:b}),S()):b||(V[e].auto=!1)}function Z(a,c){null==a&&null==c&&(V=[],S());"number"==typeof a&&(a=A[a]);"number"==typeof c&&(c=a.data[c]);var b=p(a,c);-1!=b&&(V.splice(b,1),S())}function p(a,c){for(var b=0;b<V.length;++b){var e=V[b];if(e.series==a&&e.point[0]==c[0]&&e.point[1]==c[1])return b}return-1}function ga(a,c){L.lineWidth=a.bars.lineWidth;L.strokeStyle=f.color.parse(a.color).scale("a",0.5).toString();var b=
f.color.parse(a.color).scale("a",0.5).toString(),e="left"==a.bars.align?0:-a.bars.barWidth/2;t(c[0],c[1],c[2]||0,e,e+a.bars.barWidth,0,function(){return b},a.xaxis,a.yaxis,L,a.bars.horizontal,a.bars.lineWidth)}function ka(a,c,b,e){if("string"==typeof a)return a;for(var c=u.createLinearGradient(0,b,0,c),b=0,d=a.colors.length;b<d;++b){var m=a.colors[b];if("string"!=typeof m){var g=f.color.parse(e);null!=m.brightness&&(g=g.scale("rgb",m.brightness));null!=m.opacity&&(g.a*=m.opacity);m=g.toString()}c.addColorStop(b/
(d-1),m)}return c}var A=[],g={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,
tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,
markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},ia=null,ba=null,ea=null,u=null,L=null,D=[],K=[],z={left:0,right:0,top:0,bottom:0},O=0,P=0,Y=0,Q=0,R={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[]},F=this;F.setData=k;F.setupGrid=ca;F.draw=X;F.getPlaceholder=function(){return d};F.getCanvas=function(){return ia};F.getPlotOffset=function(){return z};F.width=
function(){return Y};F.height=function(){return Q};F.offset=function(){var a=ea.offset();a.left+=z.left;a.top+=z.top;return a};F.getData=function(){return A};F.getAxis=function(a,c){var b=(a==x?D:K)[c-1];b&&!b.used&&(b=null);return b};F.getAxes=function(){var a={},c;for(c=0;c<D.length;++c)a["x"+(c?c+1:"")+"axis"]=D[c]||{};for(c=0;c<K.length;++c)a["y"+(c?c+1:"")+"axis"]=K[c]||{};a.x2axis||(a.x2axis={n:2});a.y2axis||(a.y2axis={n:2});return a};F.getXAxes=function(){return D};F.getYAxes=function(){return K};
F.getUsedAxes=B;F.c2p=w;F.p2c=function(a){var c={},b,e,d;for(b=0;b<D.length;++b)if((e=D[b])&&e.used)if(d="x"+e.n,null==a[d]&&1==e.n&&(d="x"),a[d]){c.left=e.p2c(a[d]);break}for(b=0;b<K.length;++b)if((e=K[b])&&e.used)if(d="y"+e.n,null==a[d]&&1==e.n&&(d="y"),a[d]){c.top=e.p2c(a[d]);break}return c};F.getOptions=function(){return g};F.highlight=ha;F.unhighlight=Z;F.triggerRedrawOverlay=S;F.pointOffset=function(a){return{left:parseInt(D[q(a,"x")-1].p2c(+a.x)+z.left),top:parseInt(K[q(a,"y")-1].p2c(+a.y)+
z.top)}};F.hooks=R;for(ba=0;ba<c.length;++ba){var la=c[ba];la.init(F);la.options&&f.extend(!0,g,la.options)}f.extend(!0,g,a);null==g.xaxis.color&&(g.xaxis.color=g.grid.color);null==g.yaxis.color&&(g.yaxis.color=g.grid.color);null==g.xaxis.tickColor&&(g.xaxis.tickColor=g.grid.tickColor);null==g.yaxis.tickColor&&(g.yaxis.tickColor=g.grid.tickColor);null==g.grid.borderColor&&(g.grid.borderColor=g.grid.color);null==g.grid.tickColor&&(g.grid.tickColor=f.color.parse(g.grid.color).scale("a",0.22).toString());
for(a=0;a<Math.max(1,g.xaxes.length);++a)g.xaxes[a]=f.extend(!0,{},g.xaxis,g.xaxes[a]);for(a=0;a<Math.max(1,g.yaxes.length);++a)g.yaxes[a]=f.extend(!0,{},g.yaxis,g.yaxes[a]);g.xaxis.noTicks&&null==g.xaxis.ticks&&(g.xaxis.ticks=g.xaxis.noTicks);g.yaxis.noTicks&&null==g.yaxis.ticks&&(g.yaxis.ticks=g.yaxis.noTicks);g.x2axis&&(g.y2axis.position="top",g.xaxes[1]=g.x2axis);g.y2axis&&(void 0===g.y2axis.autoscaleMargin&&(g.y2axis.autoscaleMargin=0.02),g.y2axis.position="right",g.yaxes[1]=g.y2axis);g.grid.coloredAreas&&
(g.grid.markings=g.grid.coloredAreas);g.grid.coloredAreasColor&&(g.grid.markingsColor=g.grid.coloredAreasColor);g.lines&&f.extend(!0,g.series.lines,g.lines);g.points&&f.extend(!0,g.series.points,g.points);g.bars&&f.extend(!0,g.series.bars,g.bars);g.shadowSize&&(g.series.shadowSize=g.shadowSize);for(a=0;a<g.xaxes.length;++a)E(D,a+1).options=g.xaxes[a];for(a=0;a<g.yaxes.length;++a)E(K,a+1).options=g.yaxes[a];for(var $ in R)g.hooks[$]&&g.hooks[$].length&&(R[$]=R[$].concat(g.hooks[$]));e(R.processOptions,
[g]);$=function(a,c){var b=document.createElement("canvas");b.width=a;b.height=c;b.getContext||(b=window.G_vmlCanvasManager.initElement(b));return b};O=d.width();P=d.height();d.html("");"static"==d.css("position")&&d.css("position","relative");if(0>=O||0>=P)throw"Invalid dimensions for plot, width = "+O+", height = "+P;window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);ia=f($(O,P)).appendTo(d).get(0);u=ia.getContext("2d");ba=f($(O,P)).css({position:"absolute",left:0,top:0}).appendTo(d).get(0);
L=ba.getContext("2d");L.stroke();k(j);ca();X();ea=f([ba,ia]);g.grid.hoverable&&ea.mousemove(na);g.grid.clickable&&ea.click(ma);e(R.bindEvents,[ea]);var V=[],oa=null}function b(b,f){return f*Math.floor(b/f)}f.plot=function(b,j,a){return new k(f(b),j,a,f.plot.plugins)};f.plot.plugins=[];f.plot.formatDate=function(b,f,a){var c=function(a){a=""+a;return 1==a.length?"0"+a:a},e=[],k=!1,q=!1,w=b.getUTCHours(),B=12>w;null==a&&(a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=f.search(/%p|%P/)&&
(12<w?w-=12:0==w&&(w=12));for(var E=0;E<f.length;++E){var r=f.charAt(E);if(k){switch(r){case "h":r=""+w;break;case "H":r=c(w);break;case "M":r=c(b.getUTCMinutes());break;case "S":r=c(b.getUTCSeconds());break;case "d":r=""+b.getUTCDate();break;case "m":r=""+(b.getUTCMonth()+1);break;case "y":r=""+b.getUTCFullYear();break;case "b":r=""+a[b.getUTCMonth()];break;case "p":r=B?"am":"pm";break;case "P":r=B?"AM":"PM";break;case "0":r="",q=!0}r&&q&&(r=c(r),q=!1);e.push(r);q||(k=!1)}else"%"==r?k=!0:e.push(r)}return e.join("")}})(jQuery);
(function(){jQuery.color={};jQuery.color.make=function(f,b,d,j){var a={};a.r=f||0;a.g=b||0;a.b=d||0;a.a=null!=j?j:1;a.add=function(b,e){for(var d=0;d<b.length;++d)a[b.charAt(d)]+=e;return a.normalize()};a.scale=function(b,e){for(var d=0;d<b.length;++d)a[b.charAt(d)]*=e;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,c,d){return c<a?a:c>d?d:c}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),
255);a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(f,b){var d;do{d=f.css(b).toLowerCase();if(""!=d&&"transparent"!=d)break;f=f.parent()}while(!jQuery.nodeName(f.get(0),"body"));"rgba(0, 0, 0, 0)"==d&&(d="transparent");return jQuery.color.parse(d)};jQuery.color.parse=function(k){var b,d=jQuery.color.make;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(k))return d(parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(k))return d(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(k))return d(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(k))return d(2.55*
parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(k))return d(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(k))return d(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));k=jQuery.trim(k).toLowerCase();if("transparent"==k)return d(255,255,255,0);b=f[k];return d(b[0],b[1],b[2])};var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(f){function k(d,a,c){var e=this,k=d.add(this),q=d.find(c.tabs),w=a.jquery?a:d.children(a),B;q.length||(q=d.children());w.length||(w=d.parent().find(a));w.length||(w=f(a));f.extend(this,{click:function(a,d){var j=q.eq(a);"string"==typeof a&&a.replace("#","")&&(a=a.replace(/([\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1"),j=q.filter("[href*="+a.replace("#","")+"]"),a=Math.max(q.index(j),0));if(c.rotate){var w=q.length-1;if(0>a)return e.click(w,d);if(a>w)return e.click(0,
d)}if(!j.length){if(0<=B)return e;a=c.initialIndex;j=q.eq(a)}if(a===B)return e;d=d||f.Event();d.type="onBeforeClick";k.trigger(d,[a]);if(!d.isDefaultPrevented())return b[c.effect].call(e,a,function(){d.type="onClick";k.trigger(d,[a])}),B=a,q.removeClass(c.current),j.addClass(c.current),e},getConf:function(){return c},getTabs:function(){return q},getPanes:function(){return w},getCurrentPane:function(){return w.eq(B)},getCurrentTab:function(){return q.eq(B)},getIndex:function(){return B},next:function(){return e.click(B+
1)},prev:function(){return e.click(B-1)},destroy:function(){q.unbind(c.event).removeClass(c.current);w.find("a[href^=#]").unbind("click.T");return e}});f.each(["onBeforeClick","onClick"],function(a,b){f.isFunction(c[b])&&f(e).bind(b,c[b]);e[b]=function(a){f(e).bind(b,a);return e}});c.history&&f.fn.history&&(f.tools.history.init(q),c.event="history");q.each(function(a){f(this).bind(c.event,function(b){e.click(a,b);return b.preventDefault()})});w.find("a[href^=#]").bind("click.T",function(a){e.click(f(this).attr("href"),
a)});location.hash?e.click(location.hash):(0===c.initialIndex||0<c.initialIndex)&&e.click(c.initialIndex)}f.tools=f.tools||{version:"@VERSION"};f.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,history:!1},addEffect:function(d,a){b[d]=a}};var b={"default":function(b,a){this.getPanes().hide().eq(b).show();a.call()},fade:function(b,a){var c=this.getConf(),d=c.fadeOutSpeed,f=this.getPanes();d?f.fadeOut(d):f.hide();f.eq(b).fadeIn(c.fadeInSpeed,
a)},slide:function(b,a){this.getPanes().slideUp(200);this.getPanes().eq(b).slideDown(400,a)},ajax:function(b,a){this.getPanes().eq(0).load(this.getTabs().eq(b).attr("href"),a)}},d;f.tools.tabs.addEffect("horizontal",function(b,a){d||(d=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){f(this).hide()});this.getPanes().eq(b).animate({width:d},function(){f(this).show();a.call()})});f.fn.tabs=function(b,a){var c=this.data("tabs");c&&(c.destroy(),this.removeData("tabs"));
f.isFunction(a)&&(a={onBeforeClick:a});a=f.extend({},f.tools.tabs.conf,a);this.each(function(){c=new k(f(this),b,a);f(this).data("tabs",c)});return a.api?c:this}})(jQuery);
(function(f){var k="undefined"!=typeof window.innerWidth?function(){return{w:window.innerWidth,h:window.innerHeight}}:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?function(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}:function(){return{w:document.getElementsByTagName("body")[0].clientWidth,h:document.getElementsByTagName("body")[0].clientHeight}};window.kbs=
function(b){f(".kbs.current",b).removeClass("current");var d=f(".domain-section:first",b),j=f(".domain-section:last",b),a=this.scroll_to=function(a){var b=f(document).scrollTop();f(document).height();var c=k().h,c=b+c,d=a.offset().top,a=d+a.height();d<b?f(document).scrollTop(d):a>c&&f(document).scrollTop(b+(a-c))},c=this.get_current=function(){return f(".kbs.current:first",b)},e=this.set_next=function(b,d,e){b=b||c();d.length&&(b.removeClass("current"),d.addClass("current"),e||a(d))},v=this.next_domain=
function(a){var b=c(),d=q(b);d&&(d=d.find(".kbs:first"),e(b,d,a))},q=this._next_domain=function(a){if(!a||!a.length)return f(".domain-section:first",b);a=a.closest(".domain-section");return!a.length||a[0]===j[0]?d:a.next(".domain-section")},w=this.prev_domain=function(){var a=c(),b=B(a);b&&(b=b.find(".kbs:first"),e(a,b))},B=this._prev_domain=function(a){if(!a||!a.length)return f(".domain-section:last",b);var c=a.closest(".domain-section");return a.closest(".property-section").length||a.closest(".type-section").length?
c:!c.length||c[0]===d[0]?j:c.prev(".domain-section")},E=this.next_type=function(){var a=c(),b=r(a);b&&(b=b.find(".kbs:first"),e(a,b))},r=this._next_type=function(a){if(!a||!a.length)return f(".type-section:first",b);var c=a.closest(".domain-section"),a=a.closest(".type-section"),a=a.length?a.next(".type-section"):c.find(".type-section:first");if(!a||!a.length){var d=q(c);if(d)for(;d.get(0)!==c.get(0);){a=d.find(".type-section:first");if(a.length)break;d=q(d)}}return a},H=this.prev_type=function(){var a=
c(),b=T(a);b&&(b=b.find(".kbs:first"),e(a,b))},T=this._prev_type=function(a){if(!a||!a.length)return f(".type-section:last",b);var c=a.closest(".domain-section"),d=a.closest(".type-section");if(a.closest(".property-section").length)return d;var e;d.length&&(e=d.prev(".type-section"));if(!e||!e.length)if(a=B(c))for(;a.get(0)!==c.get(0);){e=a.find(".type-section:last");if(e.length)break;a=B(a)}return e},ca=this.next_prop=function(){var a=c(),b=fa(a);b&&(b=b.find(".kbs:first"),e(a,b))},fa=this._next_prop=
function(a){if(!a||!a.length)return f(".property-section:first",b);var c=a.closest(".domain-section"),d=a.closest(".type-section"),e=a.closest(".property-section"),c=e.length?e.next(".property-section"):d.length?d.find(".property-section:first"):c.find(".property-section:first");if(!c||!c.length)if(a=r(a))for(;a.get(0)!==d.get(0);){c=a.find(".property-section:first");if(c.length)break;null==d.get(0)&&(d=a);a=r(a)}return c},X=this.prev_prop=function(){var a=c(),b=U(a);b&&(b=b.find(".kbs:first"),e(a,
b))},U=this._prev_prop=function(a){if(!a||!a.length)return f(".property-section:last",b);var c=a.closest(".domain-section"),d=a.closest(".type-section"),e=a.closest(".property-section");if(a.closest(".data-section").length)return e;var j;e.length&&(j=e.prev(".property-section"));if(!j||!j.length)if(H=d.length?T(d):T(c))for(;H.get(0)!==d.get(0);){j=H.find(".property-section:last");if(j.length)break;null==d.get(0)&&(d=H);H=T(H)}return j};this.next=function(){var a=c();if(a&&a.length){var d=this._next(a);
if(d){e(a,d);return}}a=f(".kbs:visible:first",b);e(a,a)};this._next=function(a){if(!a||!a.length)return f(".domain-section:first .kbs:first",b);var c=a.closest(".domain-section"),e=a.closest(".type-section"),k=a.closest(".property-section");if(a.closest(".data-section").length){a=a.next(".kbs");if(a.length)return a;a=k.next(".property-section").find(".kbs:first");if(a.length)return a;a=e.next(".type-section").find(".kbs:first")}else if(k.length){a=k.find(".data-section:first .kbs:first");if(a.length)return a;
a=k.next(".property-section").find(".kbs:first");if(a.length)return a;a=e.next(".type-section").find(".kbs:first")}else if(e.length){a=e.find(".property-section:first .kbs:first");if(a.length)return a;a=e.next(".type-section").find(".kbs:first")}else a=c.find(".type-section:first .kbs:first");return a.length?a:c.get(0)===j.get(0)?d.find(".kbs:first"):c.next(".domain-section").find(".kbs:first")};this.prev=function(){var a=c(),b=this._prev(a);b&&e(a,b)};this._prev=function(a){if(!a||!a.length)return a=
f(".data-section:last .kbs:last",b),a.length||(a=f(".property-section:last .kbs:first",b)),a.length||(a=f(".type-section:last .kbs:first",b)),a.length||(a=f(".domain-section:last .kbs:first",b)),a;var c=a.closest(".domain-section"),e=a.closest(".type-section"),k=a.closest(".property-section");return a.closest(".data-section").length?(a=a.prev(".kbs"),a.length?a:k.find(".kbs:first")):k.length?(a=k.prev(".property-section").find(".kbs:last"),a.length?a:e.find(".kbs:first")):e.length?(a=e.prev(".type-section").find(".kbs:last"),
a.length?a:c.find(".kbs:first")):c.get(0)===d.get(0)?j.find(".kbs:last"):c.prev(".domain-section").find(".kbs:last")};this.edit=function(){this.get_current().trigger("edit")};var W=this;f(document).unbind(".kbs").bind("keydown.kbs",function(a){var b=a.target;if(b==document.body||b==document||b==window||b==f("html")[0])b=a.keyCode,68===b?a.shiftKey?w():v():84===b?a.shiftKey?H():E():80===b?a.shiftKey?X():ca():74===b?W.next():75===b?W.prev():69===b&&W.edit()})}})(jQuery);
(function(f,k){var b=window.propbox={init:function(d,j){j=f.extend({lang:"/lang/en"},j);if(!j.base_ajax_url)throw Error("base_ajax_url required in propbox options");if(!j.base_static_url)throw Error("base_static_url required in propbox options");if(!j.id)throw Error("topic id required in propbox options");if(!j.lang)throw Error("lang required in propbox options");b.options=j;b.kbs=new k(d);f(".kbs",d).live("click",function(){var a=b.kbs.get_current();b.kbs.set_next(a,f(this),!0)}).live("edit",function(){var a=
f(this).find(".headmenu:first").data("submenu");a&&f("li:first a:first",a).click()});b.init_menus(d);f.tablesorter&&f(".data-table").addClass("table-sortable").tablesorter()},init_menus:function(d,j){d=f(d||document);j&&f(".nicemenu",d).nicemenu();var a;a=d&&d.is(".hover-row")?d:f(".hover-row",d);a.hover(b.row_menu_hoverover,b.row_menu_hoverout);a.dblclick(function(){var a=f(".nicemenu .default-action",this);a.length||(a=f(".nicemenu:first .submenu:first a:first",this));var b=a.attr("href");b&&("#"==
b||0==b.indexOf("javascript:void(0)"))&&f(a).click()});f(".nicemenu .headmenu",d).add(f(".nicemenu .default-action",d)).click("click",function(){if(b.kbs){var a=b.kbs.get_current();a&&b.kbs.set_next(a,f(this).parents(".kbs:first"),!0)}return!1})},row_menu_hoverover:function(){f(this).addClass("row-hover")},row_menu_hoverout:function(){f(this).removeClass("row-hover")},get_script:function(d,j){var a=b.get_script.cache;a||(a=b.get_script.cache={});var c=a[d];c?1===c.state?c.callbacks.push(j):4===c.state&&
j():(c=a[d]={state:0,callbacks:[j]},f.ajax({url:b.options.base_static_url+d,dataType:"script",cache:!0,beforeSend:function(){c.state=1},success:function(){c.state=4;f.each(c.callbacks,function(a,b){b()})},error:function(){c.state=-1}}))},prop_edit:function(d,j){var a=f(d).parents(".property-section");a.length||(a=f(d).parents(".submenu").data("headmenu").parents(".property-section"));a=a.find(".data-section .data-row:first:visible .nicemenu:first .headmenu");a.length?a.data("submenu").find("a:first").click():
b.prop_add(d,j);return!1},prop_add:function(d,j){var a=f(d).parents(".property-section");a.length||(a=f(d).parents(".submenu").data("headmenu").parents(".property-section"));b.get_script("/propbox-edit.mf.js",function(){b.edit.prop_add_begin(a,j)});return!1},value_edit:function(d){var j=f(d).parents(".submenu").data("headmenu").parents(".data-row:first"),a=j.parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.value_edit_begin(a,j)});return!1},value_delete:function(d){var j=
f(d).parents(".submenu").data("headmenu").parents(".data-row:first"),a=j.parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.value_delete_begin(a,j)});return!1},remove_type:function(d){var d=f(d),j=d.parents(".type-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_type_begin(d,j)});return!1},add_type:function(d,j,a){var d=f(d),c=d.parents(".type-section"),e=b.options.incompatible_types;e?e.search(b.options.id,j,a,{compatible:function(){b.add_type_submit(d,
c)},incompatible:e.overlay_incompatible_callback({onConfirm:function(){b.add_type_submit(d,c)}})}):b.add_type_submit(d,c);return!1},add_type_submit:function(d,f){b.get_script("/propbox-edit.mf.js",function(){b.edit.add_type_submit(d,f)})},add_has_no_value:function(d){var j=f(d).parents(".submenu").data("headmenu").parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.add_has_no_value(j)});return!1},add_has_value:function(d){var j=f(d).parents(".submenu").data("headmenu").parents(".property-section");
b.get_script("/propbox-edit.mf.js",function(){b.edit.add_has_value(j)});return!1},add_is_reviewed:function(d){var j=f(d).parents(".submenu").data("headmenu").parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.add_is_reviewed(j)});return!1},remove_has_no_value:function(d){var j=f(d).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.remove_has_no_value(j)});return!1},remove_has_value:function(d){var j=f(d).parents(".property-section");b.get_script("/propbox-edit.mf.js",
function(){b.edit.remove_has_value(j)});return!1},more:function(d,j,a,c){var e=f(d).parents(".property-section");b.get_script("/propbox-edit.mf.js",function(){b.edit.more(e,j,a,function(a){f.tablesorter&&a.find(".data-table").toggleClass("table-sortable",!0).tablesorter();c&&c(a)})})},more_and_sort:function(d,j,a,c){f(d).parents(".property-section");b.more(d,a,c,function(d){var k=d.find(".data-table");k.length?k.trigger("sorton",[[[j,0]]]):b.sort_values(f(":first-child",d),j,a,c)})},sort_values:function(d){var d=
f(d).parents(".property-section"),j=d.hasClass("column-header-desc"),a=d.find(".data-list"),c=a.find("li.data-row");c.sort(function(a,b){var c=f(a).find(".property-value").text(),d=f(b).find(".property-value").text();return c.toLowerCase()<d.toLowerCase()?j?1:-1:j?-1:1});a.empty().html(c);d.toggleClass("column-header-desc",!j).toggleClass("column-header-asc",j);b.init_menus(d,!0)}}})(jQuery,window.kbs);
(function(f,k,b){k.infinitescroll=function(a,b,d){this.element=k(d);this._create(a,b)};k.infinitescroll.defaults={loading:{finished:b,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:b},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},callback:b,debug:!1,behavior:b,binder:k(f),nextSelector:"div.navigation a:first",
navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:b,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:b,path:b};k.infinitescroll.prototype={_binding:function(a){var c=this,d=c.options;if(d.behavior&&this["_binding_"+d.behavior]!==b)this["_binding_"+d.behavior].call(this);else{if("bind"!==a&&"unbind"!==a)return this._debug("Binding value  "+a+" not valid"),!1;if("unbind"==a)this.options.binder.unbind("smartscroll.infscr."+
c.options.infid);else this.options.binder[a]("smartscroll.infscr."+c.options.infid,function(){c.scroll()});this._debug("Binding",a)}},_create:function(a,c){if(!this._validate(a))return!1;var d=this.options=k.extend(!0,{},k.infinitescroll.defaults,a),f=k(d.nextSelector).attr("href");d.contentSelector=d.contentSelector||this.element;d.loading.selector=d.loading.selector||d.contentSelector;f?(d.path=this._determinepath(f),d.loading.msg=k('<div id="infscr-loading"><img alt="Loading..." src="'+d.loading.img+
'" /><div>'+d.loading.msgText+"</div></div>"),(new Image).src=d.loading.img,d.pixelsFromNavToBottom=k(document).height()-k(d.navSelector).offset().top,d.loading.start=d.loading.start||function(){k(d.navSelector).hide();d.loading.msg.appendTo(d.loading.selector).show(d.loading.speed,function(){beginAjax(d)})},d.loading.finished=d.loading.finished||function(){d.loading.msg.fadeOut("normal")},d.callback=function(a,f){d.behavior&&a["_callback_"+d.behavior]!==b&&a["_callback_"+d.behavior].call(k(d.contentSelector)[0],
f);c&&c.call(k(d.contentSelector)[0],f)},this._setup()):this._debug("Navigation selector not found")},_debug:function(){if(this.options.debug)return f.console&&console.log.call(console,arguments)},_determinepath:function(a){var c=this.options;if(c.behavior&&this["_determinepath_"+c.behavior]!==b)this["_determinepath_"+c.behavior].call(this,a);else{if(c.pathParse)return this._debug("pathParse manual"),"function"===typeof c.pathParse?c.pathParse():c.pathParse;if(a.match(/^(.*?)\b2\b(.*?$)/))a=a.match(/^(.*?)\b2\b(.*?$)/).slice(1);
else if(a.match(/^(.*?)2(.*?$)/)){if(a.match(/^(.*?page=)2(\/.*|$)/))return a=a.match(/^(.*?page=)2(\/.*|$)/).slice(1);a=a.match(/^(.*?)2(.*?$)/).slice(1)}else{if(a.match(/^(.*?page=)1(\/.*|$)/))return a=a.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");c.state.isInvalidPage=!0}this._debug("determinePath",
a);return a}},_error:function(a){var c=this.options;c.behavior&&this["_error_"+c.behavior]!==b?this["_error_"+c.behavior].call(this,a):("destroy"!==a&&"end"!==a&&(a="unknown"),this._debug("Error",a),"end"==a&&this._showdonemsg(),c.state.isDone=!0,c.state.currPage=1,c.state.isPaused=!1,this._binding("unbind"))},_loadcallback:function(a,c){var d=this.options,j=this.options.callback,q=d.state.isDone?"done":!d.appendCallback?"no-append":"append";if(d.behavior&&this["_loadcallback_"+d.behavior]!==b)this["_loadcallback_"+
d.behavior].call(this,a,c);else{switch(q){case "done":return this._showdonemsg(),!1;case "no-append":"html"==d.dataType&&(c=k("<div>"+c+"</div>").find(d.itemSelector));break;case "append":var w=a.children();if(0==w.length)return this._error("end");for(q=document.createDocumentFragment();a[0].firstChild;)q.appendChild(a[0].firstChild);this._debug("contentSelector",k(d.contentSelector)[0]);k(d.contentSelector)[0].appendChild(q);c=w.get()}d.loading.finished.call(k(d.contentSelector)[0],d);d.animate&&
(q=k(f).scrollTop()+k("#infscr-loading").height()+d.extraScrollPx+"px",k("html,body").animate({scrollTop:q},800,function(){d.state.isDuringAjax=!1}));d.animate||(d.state.isDuringAjax=!1);j(this,c)}},_nearbottom:function(){var a=this.options,c=0+k(document).height()-a.binder.scrollTop()-k(f).height();if(a.behavior&&this["_nearbottom_"+a.behavior]!==b)this["_nearbottom_"+a.behavior].call(this);else return this._debug("math:",c,a.pixelsFromNavToBottom),c-a.bufferPx<a.pixelsFromNavToBottom},_pausing:function(a){var c=
this.options;if(c.behavior&&this["_pausing_"+c.behavior]!==b)this["_pausing_"+c.behavior].call(this,a);else{"pause"!==a&&("resume"!==a&&null!==a)&&this._debug("Invalid argument. Toggling pause value instead");switch(a&&("pause"==a||"resume"==a)?a:"toggle"){case "pause":c.state.isPaused=!0;break;case "resume":c.state.isPaused=!1;break;case "toggle":c.state.isPaused=!c.state.isPaused}this._debug("Paused",c.state.isPaused);return!1}},_setup:function(){var a=this.options;if(a.behavior&&this["_setup_"+
a.behavior]!==b)this["_setup_"+a.behavior].call(this);else return this._binding("bind"),!1},_showdonemsg:function(){var a=this.options;a.behavior&&this["_showdonemsg_"+a.behavior]!==b?this["_showdonemsg_"+a.behavior].call(this):(a.loading.msg.find("img").hide().parent().find("div").html(a.loading.finishedMsg).animate({opacity:1},2E3,function(){k(this).parent().fadeOut("normal")}),a.errorCallback.call(k(a.contentSelector)[0],"done"))},_validate:function(a){for(var b in a)return b.indexOf&&-1<b.indexOf("Selector")&&
0===k(a[b]).length?(this._debug("Your "+b+" found no elements."),!1):!0},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=!0;return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},retrieve:function(a){var c=this,d=c.options,f=this._determinepath(f),j,w,B,E,a=a||null;beginAjax=function(a){a.state.currPage++;c._debug("heading into ajax",f);j=k(a.contentSelector).is("table")?k("<tbody/>"):k("<div/>");
w=f.join(a.state.currPage);B="html"==a.dataType||"json"==a.dataType?a.dataType:"html+callback";a.appendCallback&&"html"==a.dataType&&(B+="+callback");switch(B){case "html+callback":c._debug("Using HTML via .load() method");j.load(w+" "+a.itemSelector,null,function(a){c._loadcallback(j,a)});break;case "html":case "json":c._debug("Using "+B.toUpperCase()+" via $.ajax() method"),k.ajax({url:w,dataType:a.dataType,complete:function(a,b){(E="undefined"!==typeof a.isResolved?a.isResolved():"success"===b||
"notmodified"===b)?c._loadcallback(j,a.responseText):c._error("end")}})}};if(d.behavior&&this["retrieve_"+d.behavior]!==b)this["retrieve_"+d.behavior].call(this,a);else{if(d.state.isDestroyed)return this._debug("Instance is destroyed"),!1;d.state.isDuringAjax=!0;d.loading.start.call(k(d.contentSelector)[0],d)}},scroll:function(){var a=this.options,c=a.state;a.behavior&&this["scroll_"+a.behavior]!==b?this["scroll_"+a.behavior].call(this):!c.isDuringAjax&&!c.isInvalidPage&&!c.isDone&&!c.isDestroyed&&
!c.isPaused&&this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(a){k.isPlainObject(a)&&(this.options=k.extend(!0,this.options,a))}};k.fn.infinitescroll=function(a,b){switch(typeof a){case "string":var d=Array.prototype.slice.call(arguments,1);this.each(function(){var b=k.data(this,"infinitescroll");if(!b||!k.isFunction(b[a])||"_"===a.charAt(0))return!1;b[a].apply(b,d)});break;case "object":this.each(function(){var d=k.data(this,
"infinitescroll");d?d.update(a):k.data(this,"infinitescroll",new k.infinitescroll(a,b,this))})}return this};var d=k.event,j;d.special.smartscroll={setup:function(){k(this).bind("scroll",d.special.smartscroll.handler)},teardown:function(){k(this).unbind("scroll",d.special.smartscroll.handler)},handler:function(a,b){var d=this,f=arguments;a.type="smartscroll";j&&clearTimeout(j);j=setTimeout(function(){k.event.handle.apply(d,f)},"execAsap"===b?0:100)}};k.fn.smartscroll=function(a){return a?this.bind("smartscroll",
a):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);
(function(f,k){var b=k.collection={init_infinitescroll:function(){var d=f("#infinitescroll"),j=d.attr("data-next");if(j&&"false"!==j){var a=f("#infinitescroll-next");d.infinitescroll({loading:{msgText:"Fetching more topics",img:k.h.static_url("lib/template/img/horizontal-loader.gif")},nextSelector:"#infinitescroll-next",navSelector:"#infinitescroll-next",dataType:"json",pathParse:function(){return[a[0].href+"&"+f.param({cursor:d.attr("data-next")})+"&page=",""]},appendCallback:!1},function(a){var a=
JSON.parse(a),e=a.result.cursor,a=f(a.result.html);b.init_menus(a);b.load_blurbs(a);d.append(a);e?d.attr("data-next",e):f(window).unbind(".infscr")});setTimeout(function(){f(window).trigger("scroll")})}},init_menus:function(d,j){d=f(d||document);j&&f(".nicemenu",d).nicemenu();(d&&d.is(".data-row")?d:f(".data-row",d)).hover(b.row_menu_hoverover,b.row_menu_hoverout);f(".nicemenu .headmenu",d).add(f(".nicemenu .default-action",d))},load_blurbs:function(b){f(".load-blurb",b).each(function(b,a){var c=
[k.acre.freebase.googleapis_url,"/text",f(a).attr("data-id"),"?key=",k.acre.freebase.api_key].join("");f.getJSON(c,function(b){b=b.result.split(/\s+/);f(a).text(b.slice(0,30).join(" "))})})},row_menu_hoverover:function(){var d=f(this);b.row_menu_hoverover.timeout=setTimeout(function(){d.addClass("row-hover")},300)},row_menu_hoverout:function(){clearTimeout(b.row_menu_hoverover.timeout);f(this).removeClass("row-hover")},row_edit:function(d){var j=f(d).parents(".submenu").data("headmenu").parents(".data-row:first");
k.get_script(k.h.ajax_url("lib/collection/collection-edit.mf.js"),function(){b.edit.row_edit_begin(j)});return!1},init:function(){b.init_infinitescroll();b.init_menus();b.load_blurbs();return b}};b.init()})(jQuery,window.freebase);
(function(f,k){var b=k.data={init_data_tabs:function(){var b=f("ul.tabs"),j=0;f("a",b).each(function(a){f(this).hasClass("current")&&(j=a)});b.tabs("div.panes > .pane",{effect:"fade",initialIndex:j})},init_activity_chart:function(b){f(".activity-summary",b).each(function(){for(var b=f(this),a=JSON.parse(b.attr("data-activity")),c=[],d=1;d<a.length;d++){var k=parseInt(a[d].v,10);c.push([d,k])}f.plot(b,[{data:c,lines:{show:!0},points:{show:!0,radius:2,fill:!0,fillColor:"#f71"},shadowSize:0,color:"#f71"}],
{grid:{show:!0,color:"#fff",borderWidth:0,hoverable:!0,autoHighlight:!0,mouseActiveRadius:3},legend:{show:!1},xaxis:{tickFormatter:function(){return""},ticks:[]},yaxis:{tickFormatter:function(){return""},ticks:[]}})})}};f(function(){b.init_data_tabs();b.init_activity_chart()})})(jQuery,window.freebase);
