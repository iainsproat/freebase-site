
/*
 * Copyright 2010, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
/*
 
 jQuery Tools @VERSION Tabs- The basics of UI design.

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tabs/

 Since: November 2008
 Date: @DATE 
*/
document.createElement("canvas").getContext||function(){function m(){return this.context_||(this.context_=new ba(this))}function B(a,j){var z=ua.call(arguments,2);return function(){return a.apply(j,z.concat(ua.call(arguments)))}}function k(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function u(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");
if(!a.styleSheets.ex_canvas_){a=a.createStyleSheet();a.owningElement.id="ex_canvas_";a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function F(a){var j=a.srcElement;switch(a.propertyName){case "width":j.getContext().clearRect();j.style.width=j.attributes.width.nodeValue+"px";j.firstChild.style.width=j.clientWidth+"px";break;case "height":j.getContext().clearRect();j.style.height=j.attributes.height.nodeValue+"px";j.firstChild.style.height=j.clientHeight+
"px";break}}function f(a){a=a.srcElement;if(a.firstChild){a.firstChild.style.width=a.clientWidth+"px";a.firstChild.style.height=a.clientHeight+"px"}}function n(){return[[1,0,0],[0,1,0],[0,0,1]]}function t(a,j){for(var z=n(),C=0;C<3;C++)for(var o=0;o<3;o++){for(var P=0,D=0;D<3;D++)P+=a[C][D]*j[D][o];z[C][o]=P}return z}function N(a,j){j.fillStyle=a.fillStyle;j.lineCap=a.lineCap;j.lineJoin=a.lineJoin;j.lineWidth=a.lineWidth;j.miterLimit=a.miterLimit;j.shadowBlur=a.shadowBlur;j.shadowColor=a.shadowColor;
j.shadowOffsetX=a.shadowOffsetX;j.shadowOffsetY=a.shadowOffsetY;j.strokeStyle=a.strokeStyle;j.globalAlpha=a.globalAlpha;j.font=a.font;j.textAlign=a.textAlign;j.textBaseline=a.textBaseline;j.arcScaleX_=a.arcScaleX_;j.arcScaleY_=a.arcScaleY_;j.lineScale_=a.lineScale_}function U(a){var j=a.indexOf("(",3),z=a.indexOf(")",j+1);j=a.substring(j+1,z).split(",");if(j.length==4&&a.substr(3,1)=="a")alpha=Number(j[3]);else j[3]=1;return j}function $(a,j,z){return Math.min(z,Math.max(j,a))}function fa(a,j,z){z<
0&&z++;z>1&&z--;return 6*z<1?a+(j-a)*6*z:2*z<1?j:3*z<2?a+(j-a)*(2/3-z)*6:a}function Y(a){var j=1;a=String(a);if(a.charAt(0)=="#")a=a;else if(/^rgb/.test(a)){j=U(a);a="#";for(var z,C=0;C<3;C++){z=j[C].indexOf("%")!=-1?Math.floor(parseFloat(j[C])/100*255):Number(j[C]);a+=sa[$(z,0,255)]}j=j[3]}else if(/^hsl/.test(a)){a=j=U(a);h=parseFloat(a[0])/360%360;h<0&&h++;s=$(parseFloat(a[1])/100,0,1);l=$(parseFloat(a[2])/100,0,1);if(s==0)a=z=C=l;else{C=l<0.5?l*(1+s):l+s-l*s;var o=2*l-C;a=fa(o,C,h+1/3);z=fa(o,
C,h);C=fa(o,C,h-1/3)}a="#"+sa[Math.floor(a*255)]+sa[Math.floor(z*255)]+sa[Math.floor(C*255)];j=j[3]}else a=Ba[a]||a;return{color:a,alpha:j}}function T(a){switch(a){case "butt":return"flat";case "round":return"round";case "square":default:return"square"}}function ba(a){this.m_=n();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=ia*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign=
"left";this.textBaseline="alphabetic";this.canvas=a;var j=a.ownerDocument.createElement("div");j.style.width=a.clientWidth+"px";j.style.height=a.clientHeight+"px";j.style.overflow="hidden";j.style.position="absolute";a.appendChild(j);this.element_=j;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function la(a,j,z,C){a.currentPath_.push({type:"bezierCurveTo",cp1x:j.x,cp1y:j.y,cp2x:z.x,cp2y:z.y,x:C.x,y:C.y});a.currentX_=C.x;a.currentY_=C.y}function va(a,j){var z=Y(a.strokeStyle),C=z.color;z=z.alpha*
a.globalAlpha;var o=a.lineScale_*a.lineWidth;if(o<1)z*=o;j.push("<g_vml_:stroke",' opacity="',z,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',T(a.lineCap),'"',' weight="',o,'px"',' color="',C,'" />')}function wa(a,j,z,C){var o=a.fillStyle,P=a.arcScaleX_,D=a.arcScaleY_,W=C.x-z.x,M=C.y-z.y;if(o instanceof oa){var V=0;C={x:0,y:0};var X=0,ga=1;if(o.type_=="gradient"){V=o.x1_/P;z=o.y1_/D;var aa=a.getCoords_(o.x0_/P,o.y0_/D);V=a.getCoords_(V,z);V=Math.atan2(V.x-aa.x,V.y-
aa.y)*180/Math.PI;if(V<0)V+=360;if(V<1.0E-6)V=0}else{aa=a.getCoords_(o.x0_,o.y0_);C={x:(aa.x-z.x)/W,y:(aa.y-z.y)/M};W/=P*ia;M/=D*ia;ga=E.max(W,M);X=2*o.r0_/ga;ga=2*o.r1_/ga-X}P=o.colors_;P.sort(function(ma,ya){return ma.offset-ya.offset});D=P.length;aa=P[0].color;z=P[D-1].color;W=P[0].alpha*a.globalAlpha;a=P[D-1].alpha*a.globalAlpha;M=[];for(var ha=0;ha<D;ha++){var ca=P[ha];M.push(ca.offset*ga+X+" "+ca.color)}j.push('<g_vml_:fill type="',o.type_,'"',' method="none" focus="100%"',' color="',aa,'"',
' color2="',z,'"',' colors="',M.join(","),'"',' opacity="',a,'"',' g_o_:opacity2="',W,'"',' angle="',V,'"',' focusposition="',C.x,",",C.y,'" />')}else if(o instanceof pa)W&&M&&j.push("<g_vml_:fill",' position="',-z.x/W*P*P,",",-z.y/M*D*D,'"',' type="tile"',' src="',o.src_,'" />');else{o=Y(a.fillStyle);j.push('<g_vml_:fill color="',o.color,'" opacity="',o.alpha*a.globalAlpha,'" />')}}function qa(a,j,z){if(isFinite(j[0][0])&&isFinite(j[0][1])&&isFinite(j[1][0])&&isFinite(j[1][1])&&isFinite(j[2][0])&&
isFinite(j[2][1])){a.m_=j;if(z)a.lineScale_=Ca(za(j[0][0]*j[1][1]-j[0][1]*j[1][0]))}}function oa(a){this.type_=a;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function pa(a,j){if(!a||a.nodeType!=1||a.tagName!="IMG")throw new p("TYPE_MISMATCH_ERR");if(a.readyState!="complete")throw new p("INVALID_STATE_ERR");switch(j){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=j;break;default:throw new p("SYNTAX_ERR");
}this.src_=a.src;this.width_=a.width;this.height_=a.height}function p(a){this.code=this[a];this.message=a+": DOM Exception "+this.code}var E=Math,L=E.round,da=E.sin,na=E.cos,za=E.abs,Ca=E.sqrt,ia=10,ra=ia/2,ua=Array.prototype.slice;u(document);var Aa={init:function(a){if(/MSIE/.test(navigator.userAgent)&&!window.opera){a=a||document;a.createElement("canvas");a.attachEvent("onreadystatechange",B(this.init_,this,a))}},init_:function(a){a=a.getElementsByTagName("canvas");for(var j=0;j<a.length;j++)this.initElement(a[j])},
initElement:function(a){if(!a.getContext){a.getContext=m;u(a.ownerDocument);a.innerHTML="";a.attachEvent("onpropertychange",F);a.attachEvent("onresize",f);var j=a.attributes;if(j.width&&j.width.specified)a.style.width=j.width.nodeValue+"px";else a.width=a.clientWidth;if(j.height&&j.height.specified)a.style.height=j.height.nodeValue+"px";else a.height=a.clientHeight}return a}};Aa.init();for(var sa=[],S=0;S<16;S++)for(var xa=0;xa<16;xa++)sa[S*16+xa]=S.toString(16)+xa.toString(16);var Ba={aliceblue:"#F0F8FF",
antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",
darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",
honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",
limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",
paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",
violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ta={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},Z={};S=ba.prototype;S.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};S.beginPath=function(){this.currentPath_=[]};S.moveTo=function(a,j){var z=this.getCoords_(a,j);this.currentPath_.push({type:"moveTo",x:z.x,y:z.y});this.currentX_=z.x;this.currentY_=z.y};
S.lineTo=function(a,j){var z=this.getCoords_(a,j);this.currentPath_.push({type:"lineTo",x:z.x,y:z.y});this.currentX_=z.x;this.currentY_=z.y};S.bezierCurveTo=function(a,j,z,C,o,P){o=this.getCoords_(o,P);a=this.getCoords_(a,j);z=this.getCoords_(z,C);la(this,a,z,o)};S.quadraticCurveTo=function(a,j,z,C){a=this.getCoords_(a,j);z=this.getCoords_(z,C);C={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};la(this,C,{x:C.x+(z.x-this.currentX_)/3,y:C.y+(z.y-this.currentY_)/
3},z)};S.arc=function(a,j,z,C,o,P){z*=ia;var D=P?"at":"wa",W=a+na(C)*z-ra,M=j+da(C)*z-ra;C=a+na(o)*z-ra;o=j+da(o)*z-ra;if(W==C&&!P)W+=0.125;a=this.getCoords_(a,j);W=this.getCoords_(W,M);C=this.getCoords_(C,o);this.currentPath_.push({type:D,x:a.x,y:a.y,radius:z,xStart:W.x,yStart:W.y,xEnd:C.x,yEnd:C.y})};S.rect=function(a,j,z,C){this.moveTo(a,j);this.lineTo(a+z,j);this.lineTo(a+z,j+C);this.lineTo(a,j+C);this.closePath()};S.strokeRect=function(a,j,z,C){var o=this.currentPath_;this.beginPath();this.moveTo(a,
j);this.lineTo(a+z,j);this.lineTo(a+z,j+C);this.lineTo(a,j+C);this.closePath();this.stroke();this.currentPath_=o};S.fillRect=function(a,j,z,C){var o=this.currentPath_;this.beginPath();this.moveTo(a,j);this.lineTo(a+z,j);this.lineTo(a+z,j+C);this.lineTo(a,j+C);this.closePath();this.fill();this.currentPath_=o};S.createLinearGradient=function(a,j,z,C){var o=new oa("gradient");o.x0_=a;o.y0_=j;o.x1_=z;o.y1_=C;return o};S.createRadialGradient=function(a,j,z,C,o,P){var D=new oa("gradientradial");D.x0_=a;
D.y0_=j;D.r0_=z;D.x1_=C;D.y1_=o;D.r1_=P;return D};S.drawImage=function(a){var j,z,C,o,P,D,W,M;C=a.runtimeStyle.width;o=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height="auto";var V=a.width,X=a.height;a.runtimeStyle.width=C;a.runtimeStyle.height=o;if(arguments.length==3){j=arguments[1];z=arguments[2];P=D=0;W=C=V;M=o=X}else if(arguments.length==5){j=arguments[1];z=arguments[2];C=arguments[3];o=arguments[4];P=D=0;W=V;M=X}else if(arguments.length==9){P=arguments[1];D=arguments[2];
W=arguments[3];M=arguments[4];j=arguments[5];z=arguments[6];C=arguments[7];o=arguments[8]}else throw Error("Invalid number of arguments");var ga=this.getCoords_(j,z),aa=[];aa.push(" <g_vml_:group",' coordsize="',ia*10,",",ia*10,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var ha=[];ha.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",",
"Dx=",L(ga.x/ia),",","Dy=",L(ga.y/ia),"");var ca=this.getCoords_(j+C,z),ma=this.getCoords_(j,z+o);j=this.getCoords_(j+C,z+o);ga.x=E.max(ga.x,ca.x,ma.x,j.x);ga.y=E.max(ga.y,ca.y,ma.y,j.y);aa.push("padding:0 ",L(ga.x/ia),"px ",L(ga.y/ia),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",ha.join(""),", sizingmethod='clip');")}else aa.push("top:",L(ga.y/ia),"px;left:",L(ga.x/ia),"px;");aa.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',ia*C,"px;"," height:",ia*o,'px"',' cropleft="',
P/V,'"',' croptop="',D/X,'"',' cropright="',(V-P-W)/V,'"',' cropbottom="',(X-D-M)/X,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",aa.join(""))};S.stroke=function(a){for(var j={x:null,y:null},z={x:null,y:null},C=0;C<this.currentPath_.length;C+=5E3){var o=[];o.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',ia*10,",",ia*10,'"',' stroked="',!a,'"',' path="');for(var P=C;P<Math.min(C+
5E3,this.currentPath_.length);P++){P%5E3==0&&P>0&&o.push(" m ",L(this.currentPath_[P-1].x),",",L(this.currentPath_[P-1].y));var D=this.currentPath_[P];switch(D.type){case "moveTo":o.push(" m ",L(D.x),",",L(D.y));break;case "lineTo":o.push(" l ",L(D.x),",",L(D.y));break;case "close":o.push(" x ");D=null;break;case "bezierCurveTo":o.push(" c ",L(D.cp1x),",",L(D.cp1y),",",L(D.cp2x),",",L(D.cp2y),",",L(D.x),",",L(D.y));break;case "at":case "wa":o.push(" ",D.type," ",L(D.x-this.arcScaleX_*D.radius),",",
L(D.y-this.arcScaleY_*D.radius)," ",L(D.x+this.arcScaleX_*D.radius),",",L(D.y+this.arcScaleY_*D.radius)," ",L(D.xStart),",",L(D.yStart)," ",L(D.xEnd),",",L(D.yEnd));break}if(D){if(j.x==null||D.x<j.x)j.x=D.x;if(z.x==null||D.x>z.x)z.x=D.x;if(j.y==null||D.y<j.y)j.y=D.y;if(z.y==null||D.y>z.y)z.y=D.y}}o.push(' ">');a?wa(this,o,j,z):va(this,o);o.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",o.join(""))}};S.fill=function(){this.stroke(true)};S.closePath=function(){this.currentPath_.push({type:"close"})};
S.getCoords_=function(a,j){var z=this.m_;return{x:ia*(a*z[0][0]+j*z[1][0]+z[2][0])-ra,y:ia*(a*z[0][1]+j*z[1][1]+z[2][1])-ra}};S.save=function(){var a={};N(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=t(n(),this.m_)};S.restore=function(){if(this.aStack_.length){N(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};S.translate=function(a,j){qa(this,t([[1,0,0],[0,1,0],[a,j,1]],this.m_),false)};S.rotate=function(a){var j=na(a);a=da(a);qa(this,t([[j,a,0],[-a,j,0],[0,0,1]],this.m_),
false)};S.scale=function(a,j){this.arcScaleX_*=a;this.arcScaleY_*=j;qa(this,t([[a,0,0],[0,j,0],[0,0,1]],this.m_),true)};S.transform=function(a,j,z,C,o,P){qa(this,t([[a,j,0],[z,C,0],[o,P,1]],this.m_),true)};S.setTransform=function(a,j,z,C,o,P){qa(this,[[a,j,0],[z,C,0],[o,P,1]],true)};S.drawText_=function(a,j,z,C,o){var P=this.m_;C=0;var D=1E3,W={x:0,y:0},M=[],V;V=this.font;if(Z[V])V=Z[V];else{var X=document.createElement("div").style;try{X.font=V}catch(ga){}V=Z[V]={style:X.fontStyle||ta.style,variant:X.fontVariant||
ta.variant,weight:X.fontWeight||ta.weight,size:X.fontSize||ta.size,family:X.fontFamily||ta.family}}X=V;var aa=this.element_;V={};for(var ha in X)V[ha]=X[ha];ha=parseFloat(aa.currentStyle.fontSize);aa=parseFloat(X.size);V.size=typeof X.size=="number"?X.size:X.size.indexOf("px")!=-1?aa:X.size.indexOf("em")!=-1?ha*aa:X.size.indexOf("%")!=-1?ha/100*aa:X.size.indexOf("pt")!=-1?aa/0.75:ha;V.size*=0.981;ha=V.style+" "+V.variant+" "+V.weight+" "+V.size+"px "+V.family;aa=this.element_.currentStyle;X=this.textAlign.toLowerCase();
switch(X){case "left":case "center":case "right":break;case "end":X=aa.direction=="ltr"?"right":"left";break;case "start":X=aa.direction=="rtl"?"right":"left";break;default:X="left"}switch(this.textBaseline){case "hanging":case "top":W.y=V.size/1.75;break;case "middle":break;default:case null:case "alphabetic":case "ideographic":case "bottom":W.y=-V.size/2.25;break}switch(X){case "right":C=1E3;D=0.05;break;case "center":C=D=500;break}j=this.getCoords_(j+W.x,z+W.y);M.push('<g_vml_:line from="',-C,
' 0" to="',D,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">');o?va(this,M):wa(this,M,{x:-C,y:0},{x:D,y:V.size});o=P[0][0].toFixed(3)+","+P[1][0].toFixed(3)+","+P[0][1].toFixed(3)+","+P[1][1].toFixed(3)+",0,0";j=L(j.x/ia)+","+L(j.y/ia);M.push('<g_vml_:skew on="t" matrix="',o,'" ',' offset="',j,'" origin="',C,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',k(a),'" style="v-text-align:',
X,";font:",k(ha),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",M.join(""))};S.fillText=function(a,j,z,C){this.drawText_(a,j,z,C,false)};S.strokeText=function(a,j,z,C){this.drawText_(a,j,z,C,true)};S.measureText=function(a){if(!this.textMeasureEl_){this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>');this.textMeasureEl_=this.element_.lastChild}var j=this.element_.ownerDocument;
this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(j.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};S.clip=function(){};S.arcTo=function(){};S.createPattern=function(a,j){return new pa(a,j)};oa.prototype.addColorStop=function(a,j){j=Y(j);this.colors_.push({offset:a,color:j.color,alpha:j.alpha})};S=p.prototype=new Error;S.INDEX_SIZE_ERR=1;S.DOMSTRING_SIZE_ERR=2;S.HIERARCHY_REQUEST_ERR=3;S.WRONG_DOCUMENT_ERR=4;S.INVALID_CHARACTER_ERR=
5;S.NO_DATA_ALLOWED_ERR=6;S.NO_MODIFICATION_ALLOWED_ERR=7;S.NOT_FOUND_ERR=8;S.NOT_SUPPORTED_ERR=9;S.INUSE_ATTRIBUTE_ERR=10;S.INVALID_STATE_ERR=11;S.SYNTAX_ERR=12;S.INVALID_MODIFICATION_ERR=13;S.NAMESPACE_ERR=14;S.INVALID_ACCESS_ERR=15;S.VALIDATION_ERR=16;S.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=Aa;CanvasRenderingContext2D=ba;CanvasGradient=oa;CanvasPattern=pa;DOMException=p}();
(function(){jQuery.color={};jQuery.color.make=function(B,k,u,F){var f={};f.r=B||0;f.g=k||0;f.b=u||0;f.a=F!=null?F:1;f.add=function(n,t){for(var N=0;N<n.length;++N)f[n.charAt(N)]+=t;return f.normalize()};f.scale=function(n,t){for(var N=0;N<n.length;++N)f[n.charAt(N)]*=t;return f.normalize()};f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"};f.normalize=function(){function n(t,N,U){return N<t?t:N>U?U:N}f.r=n(0,parseInt(f.r),255);f.g=n(0,
parseInt(f.g),255);f.b=n(0,parseInt(f.b),255);f.a=n(0,f.a,1);return f};f.clone=function(){return jQuery.color.make(f.r,f.b,f.g,f.a)};return f.normalize()};jQuery.color.extract=function(B,k){var u;do{u=B.css(k).toLowerCase();if(u!=""&&u!="transparent")break;B=B.parent()}while(!jQuery.nodeName(B.get(0),"body"));if(u=="rgba(0, 0, 0, 0)")u="transparent";return jQuery.color.parse(u)};jQuery.color.parse=function(B){var k,u=jQuery.color.make;if(k=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(B))return u(parseInt(k[1],
10),parseInt(k[2],10),parseInt(k[3],10));if(k=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(B))return u(parseInt(k[1],10),parseInt(k[2],10),parseInt(k[3],10),parseFloat(k[4]));if(k=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(B))return u(parseFloat(k[1])*2.55,parseFloat(k[2])*2.55,parseFloat(k[3])*2.55);if(k=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(B))return u(parseFloat(k[1])*
2.55,parseFloat(k[2])*2.55,parseFloat(k[3])*2.55,parseFloat(k[4]));if(k=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(B))return u(parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16));if(k=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(B))return u(parseInt(k[1]+k[1],16),parseInt(k[2]+k[2],16),parseInt(k[3]+k[3],16));B=jQuery.trim(B).toLowerCase();if(B=="transparent")return u(255,255,255,0);else{k=m[B];return u(k[0],k[1],k[2])}};var m={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,
220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(m){function B(u,F,f,n){function t(b,c){c=[ca].concat(c);for(var d=0;d<b.length;++d)b[d].apply(this,c)}function N(b){for(var c=[],d=0;d<b.length;++d){var g=m.extend(true,{},a.series);if(b[d].data){g.data=b[d].data;delete b[d].data;m.extend(true,g,b[d]);b[d].data=g.data}else g.data=b[d];c.push(g)}Z=c;c=Z.length;d=[];g=[];for(b=0;b<Z.length;++b){var e=Z[b].color;if(e!=null){--c;typeof e=="number"?g.push(e):d.push(m.color.parse(Z[b].color))}}for(b=0;b<g.length;++b)c=Math.max(c,g[b]+1);d=[];
for(b=g=0;d.length<c;){e=a.colors.length==b?m.color.make(100,100,100):m.color.parse(a.colors[b]);e.scale("rgb",1+(g%2==1?-1:1)*Math.ceil(g/2)*0.2);d.push(e);++b;if(b>=a.colors.length){b=0;++g}}for(b=c=0;b<Z.length;++b){g=Z[b];if(g.color==null){g.color=d[c].toString();++c}else if(typeof g.color=="number")g.color=d[g.color].toString();if(g.lines.show==null){var y;e=true;for(y in g)if(g[y]&&g[y].show){e=false;break}if(e)g.lines.show=true}g.xaxis=Y(D,U(g,"x"));g.yaxis=Y(W,U(g,"y"))}T()}function U(b,c){var d=
b[c+"axis"];if(typeof d=="object")d=d.n;if(typeof d!="number")d=1;return d}function $(b){var c={},d,g;for(d=0;d<D.length;++d)if((g=D[d])&&g.used)c["x"+g.n]=g.c2p(b.left);for(d=0;d<W.length;++d)if((g=W[d])&&g.used)c["y"+g.n]=g.c2p(b.top);if(c.x1!==undefined)c.x=c.x1;if(c.y1!==undefined)c.y=c.y1;return c}function fa(){var b=[],c,d;for(c=0;c<D.length;++c)(d=D[c])&&d.used&&b.push(d);for(c=0;c<W.length;++c)(d=W[c])&&d.used&&b.push(d);return b}function Y(b,c){b[c-1]||(b[c-1]={n:c,direction:b==D?"x":"y",
options:m.extend(true,{},b==D?a.xaxis:a.yaxis)});return b[c-1]}function T(){function b(H){if(H){H.datamin=d;H.datamax=g;H.used=false}}function c(H,O,ea){if(O<H.datamin)H.datamin=O;if(ea>H.datamax)H.datamax=ea}var d=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,e,y,q,v,r,w,A,J,Q,R;for(e=0;e<D.length;++e)b(D[e]);for(e=0;e<W.length;++e)b(W[e]);for(e=0;e<Z.length;++e){r=Z[e];r.datapoints={points:[]};t(ha.processRawData,[r,r.data,r.datapoints])}for(e=0;e<Z.length;++e){r=Z[e];var K=r.data,I=r.datapoints.format;
if(!I){I=[];I.push({x:true,number:true,required:true});I.push({y:true,number:true,required:true});if(r.bars.show||r.lines.show&&r.lines.fill){I.push({y:true,number:true,required:false,defaultValue:0});if(r.bars.horizontal){delete I[I.length-1].y;I[I.length-1].x=true}}r.datapoints.format=I}if(r.datapoints.pointsize==null){if(r.datapoints.pointsize==null)r.datapoints.pointsize=I.length;A=r.datapoints.pointsize;w=r.datapoints.points;insertSteps=r.lines.show&&r.lines.steps;r.xaxis.used=r.yaxis.used=true;
for(y=q=0;y<K.length;++y,q+=A){R=K[y];var G=R==null;if(!G)for(v=0;v<A;++v){J=R[v];if(Q=I[v]){if(Q.number&&J!=null){J=+J;if(isNaN(J))J=null}if(J==null){if(Q.required)G=true;if(Q.defaultValue!=null)J=Q.defaultValue}}w[q+v]=J}if(G)for(v=0;v<A;++v){J=w[q+v];if(J!=null){Q=I[v];Q.x&&c(r.xaxis,J,J);Q.y&&c(r.yaxis,J,J)}w[q+v]=null}else if(insertSteps&&q>0&&w[q-A]!=null&&w[q-A]!=w[q]&&w[q-A+1]!=w[q+1]){for(v=0;v<A;++v)w[q+A+v]=w[q+v];w[q+1]=w[q-A+1];q+=A}}}}for(e=0;e<Z.length;++e){r=Z[e];t(ha.processDatapoints,
[r,r.datapoints])}for(e=0;e<Z.length;++e){r=Z[e];w=r.datapoints.points;A=r.datapoints.pointsize;R=q=d;G=K=g;for(y=0;y<w.length;y+=A)if(w[y]!=null)for(v=0;v<A;++v){J=w[y+v];if(Q=I[v]){if(Q.x){if(J<q)q=J;if(J>K)K=J}if(Q.y){if(J<R)R=J;if(J>G)G=J}}}if(r.bars.show){y=r.bars.align=="left"?0:-r.bars.barWidth/2;if(r.bars.horizontal){R+=y;G+=y+r.bars.barWidth}else{q+=y;K+=y+r.bars.barWidth}}c(r.xaxis,q,K);c(r.yaxis,R,G)}m.each(fa(),function(H,O){if(O.datamin==d)O.datamin=null;if(O.datamax==g)O.datamax=null})}
function ba(b){function c(q){return q}var d,g,e=b.options.transform||c,y=b.options.inverseTransform;if(b.direction=="x"){d=b.scale=ga/(e(b.max)-e(b.min));g=e(b.min);b.p2c=e==c?function(q){return(q-g)*d}:function(q){return(e(q)-g)*d};b.c2p=y?function(q){return y(g+q/d)}:function(q){return g+q/d}}else{d=b.scale=aa/(e(b.max)-e(b.min));g=e(b.max);b.p2c=e==c?function(q){return(g-q)*d}:function(q){return(g-e(q))*d};b.c2p=y?function(q){return y(g-q/d)}:function(q){return g-q/d}}}function la(b){function c(r,
w){return m('<div style="position:absolute;top:-10000px;'+w+'font-size:smaller"><div class="'+b.direction+"Axis "+b.direction+b.n+'Axis">'+r.join("")+"</div></div>").appendTo(u)}if(b){var d=b.options,g,e=b.ticks||[],y=[],q,v=d.labelWidth;d=d.labelHeight;if(b.direction=="x"){if(v==null)v=Math.floor(V/(e.length>0?e.length:1));if(d==null){y=[];for(g=0;g<e.length;++g)(q=e[g].label)&&y.push('<div class="tickLabel" style="float:left;width:'+v+'px">'+q+"</div>");if(y.length>0){y.push('<div style="clear:left"></div>');
e=c(y,"width:10000px;");d=e.height();e.remove()}}}else if(v==null||d==null){for(g=0;g<e.length;++g)(q=e[g].label)&&y.push('<div class="tickLabel">'+q+"</div>");if(y.length>0){e=c(y,"");if(v==null)v=e.children().width();if(d==null)d=e.find("div.tickLabel").height();e.remove()}}if(v==null)v=0;if(d==null)d=0;b.labelWidth=v;b.labelHeight=d}}function va(b){if(!(!b||!b.used&&!(b.labelWidth||b.labelHeight))){var c=b.labelWidth,d=b.labelHeight,g=b.options.position,e=b.options.tickLength,y=a.grid.axisMargin,
q=a.grid.labelMargin,v=b.direction=="x"?D:W,r=m.grep(v,function(w){return w&&w.options.position==g&&(w.labelHeight||w.labelWidth)});if(m.inArray(b,r)==r.length-1)y=0;if(e==null)e="full";v=m.grep(v,function(w){return w&&(w.labelHeight||w.labelWidth)});v=m.inArray(b,v)==0;if(!v&&e=="full")e=5;isNaN(+e)||(q+=+e);if(b.direction=="x"){d+=q;if(g=="bottom"){M.bottom+=d+y;b.box={top:X-M.bottom,height:d}}else{b.box={top:M.top+y,height:d};M.top+=d+y}}else{c+=q;if(g=="left"){b.box={left:M.left+y,width:c};M.left+=
c+y}else{M.right+=c+y;b.box={left:V-M.right,width:c}}}b.position=g;b.tickLength=e;b.box.padding=q;b.innermost=v}}function wa(){var b=fa(),c;for(c=0;c<b.length;++c){var d=b[c],g=d.options,e=+(g.min!=null?g.min:d.datamin),y=+(g.max!=null?g.max:d.datamax),q=y-e;if(q==0){q=y==0?1:0.01;if(g.min==null)e-=q;if(g.max==null||g.min!=null)y+=q}else{var v=g.autoscaleMargin;if(v!=null){if(g.min==null){e-=q*v;if(e<0&&d.datamin!=null&&d.datamin>=0)e=0}if(g.max==null){y+=q*v;if(y>0&&d.datamax!=null&&d.datamax<=0)y=
0}}}d.min=e;d.max=y}M.left=M.right=M.top=M.bottom=0;if(a.grid.show){for(c=0;c<b.length;++c){qa(b[c]);d=b[c];d.ticks=[];e=d.options.ticks;g=null;if(e==null||typeof e=="number"&&e>0)g=d.tickGenerator(d);else if(e)g=m.isFunction(e)?e({min:d.min,max:d.max}):e;e=void 0;y=void 0;for(e=0;e<g.length;++e){q=null;v=g[e];if(typeof v=="object"){y=v[0];if(v.length>1)q=v[1]}else y=v;if(q==null)q=d.tickFormatter(y,d);d.ticks[e]={v:y,label:q}}d=b[c];g=b[c].ticks;if(d.options.autoscaleMargin!=null&&g.length>0){if(d.options.min==
null)d.min=Math.min(d.min,g[0].v);if(d.options.max==null&&g.length>1)d.max=Math.max(d.max,g[g.length-1].v)}}for(c=0;c<D.length;++c)la(D[c]);for(c=0;c<W.length;++c)la(W[c]);for(c=D.length-1;c>=0;--c)va(D[c]);for(c=W.length-1;c>=0;--c)va(W[c]);for(d=c=0;d<Z.length;++d)c=Math.max(c,2*(Z[d].points.radius+Z[d].points.lineWidth/2));for(var r in M){M[r]+=a.grid.borderWidth;M[r]=Math.max(c,M[r])}}ga=V-M.left-M.right;aa=X-M.bottom-M.top;for(c=0;c<b.length;++c)ba(b[c]);if(a.grid.show){for(c=0;c<b.length;++c){r=
b[c];if(r.direction=="x"){r.box.left=M.left;r.box.width=ga}else{r.box.top=M.top;r.box.height=aa}}u.find(".tickLabels").remove();b=['<div class="tickLabels" style="font-size:smaller">'];r=fa();for(c=0;c<r.length;++c){d=r[c];g=d.box;b.push('<div class="'+d.direction+"Axis "+d.direction+d.n+'Axis" style="color:'+d.options.color+'">');for(e=0;e<d.ticks.length;++e){y=d.ticks[e];if(!(!y.label||y.v<d.min||y.v>d.max)){q={};if(d.direction=="x"){v="center";q.left=Math.round(M.left+d.p2c(y.v)-d.labelWidth/2);
if(d.position=="bottom")q.top=g.top+g.padding;else q.bottom=X-(g.top+g.height-g.padding)}else{q.top=Math.round(M.top+d.p2c(y.v)-d.labelHeight/2);if(d.position=="left"){q.right=V-(g.left+g.width-g.padding);v="right"}else{q.left=g.left+g.padding;v="left"}}q.width=d.labelWidth;v=["position:absolute","text-align:"+v];for(var w in q)v.push(w+":"+q[w]+"px");b.push('<div class="tickLabel" style="'+v.join(";")+'">'+y.label+"</div>")}}b.push("</div>")}b.push("</div>");u.append(b.join(""))}u.find(".legend").remove();
if(a.legend.show){w=[];b=false;r=a.legend.labelFormatter;for(g=0;g<Z.length;++g){c=Z[g];if(d=c.label){if(g%a.legend.noColumns==0){b&&w.push("</tr>");w.push("<tr>");b=true}if(r)d=r(d,c);w.push('<td class="legendColorBox"><div style="border:1px solid '+a.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+d+"</td>")}}b&&w.push("</tr>");if(w.length!=0){b='<table style="font-size:smaller;color:'+
a.grid.color+'">'+w.join("")+"</table>";if(a.legend.container!=null)m(a.legend.container).html(b);else{w="";r=a.legend.position;c=a.legend.margin;if(c[0]==null)c=[c,c];if(r.charAt(0)=="n")w+="top:"+(c[1]+M.top)+"px;";else if(r.charAt(0)=="s")w+="bottom:"+(c[1]+M.bottom)+"px;";if(r.charAt(1)=="e")w+="right:"+(c[0]+M.right)+"px;";else if(r.charAt(1)=="w")w+="left:"+(c[0]+M.left)+"px;";b=m('<div class="legend">'+b.replace('style="','style="position:absolute;'+w+";")+"</div>").appendTo(u);if(a.legend.backgroundOpacity!=
0){r=a.legend.backgroundColor;if(r==null){r=(r=a.grid.backgroundColor)&&typeof r=="string"?m.color.parse(r):m.color.extract(b,"background-color");r.a=1;r=r.toString()}c=b.children();m('<div style="position:absolute;width:'+c.width()+"px;height:"+c.height()+"px;"+w+"background-color:"+r+';"> </div>').prependTo(b).css("opacity",a.legend.backgroundOpacity)}}}}}function qa(b){var c=b.options,d=(b.max-b.min)/(typeof c.ticks=="number"&&c.ticks>0?c.ticks:b.direction=="x"?0.3*Math.sqrt(V):0.3*Math.sqrt(X)),
g,e,y,q;if(c.mode=="time"){var v={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*60*1E3};q=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];g=0;if(c.minTickSize!=null)g=typeof c.tickSize=="number"?c.tickSize:c.minTickSize[0]*
v[c.minTickSize[1]];for(e=0;e<q.length-1;++e)if(d<(q[e][0]*v[q[e][1]]+q[e+1][0]*v[q[e+1][1]])/2&&q[e][0]*v[q[e][1]]>=g)break;g=q[e][0];y=q[e][1];if(y=="year"){e=Math.pow(10,Math.floor(Math.log(d/v.year)/Math.LN10));q=d/v.year/e;g=q<1.5?1:q<3?2:q<7.5?5:10;g*=e}b.tickSize=c.tickSize||[g,y];e=function(A){var J=[],Q=A.tickSize[0],R=A.tickSize[1],K=new Date(A.min),I=Q*v[R];R=="second"&&K.setUTCSeconds(k(K.getUTCSeconds(),Q));R=="minute"&&K.setUTCMinutes(k(K.getUTCMinutes(),Q));R=="hour"&&K.setUTCHours(k(K.getUTCHours(),
Q));R=="month"&&K.setUTCMonth(k(K.getUTCMonth(),Q));R=="year"&&K.setUTCFullYear(k(K.getUTCFullYear(),Q));K.setUTCMilliseconds(0);I>=v.minute&&K.setUTCSeconds(0);I>=v.hour&&K.setUTCMinutes(0);I>=v.day&&K.setUTCHours(0);I>=v.day*4&&K.setUTCDate(1);I>=v.year&&K.setUTCMonth(0);var G=0,H=Number.NaN,O;do{O=H;H=K.getTime();J.push(H);if(R=="month")if(Q<1){K.setUTCDate(1);var ea=K.getTime();K.setUTCMonth(K.getUTCMonth()+1);var ja=K.getTime();K.setTime(H+G*v.hour+(ja-ea)*Q);G=K.getUTCHours();K.setUTCHours(0)}else K.setUTCMonth(K.getUTCMonth()+
Q);else R=="year"?K.setUTCFullYear(K.getUTCFullYear()+Q):K.setTime(H+I)}while(H<A.max&&H!=O);return J};g=function(A,J){var Q=new Date(A);if(c.timeformat!=null)return m.plot.formatDate(Q,c.timeformat,c.monthNames);var R=J.tickSize[0]*v[J.tickSize[1]],K=J.max-J.min,I=c.twelveHourClock?" %p":"";fmt=R<v.minute?"%h:%M:%S"+I:R<v.day?K<2*v.day?"%h:%M"+I:"%b %d %h:%M"+I:R<v.month?"%b %d":R<v.year?K<v.year?"%b":"%b %y":"%y";return m.plot.formatDate(Q,fmt,c.monthNames)}}else{y=c.tickDecimals;var r=-Math.floor(Math.log(d)/
Math.LN10);if(y!=null&&r>y)r=y;e=Math.pow(10,-r);q=d/e;if(q<1.5)g=1;else if(q<3){g=2;if(q>2.25&&(y==null||r+1<=y)){g=2.5;++r}}else g=q<7.5?5:10;g*=e;if(c.minTickSize!=null&&g<c.minTickSize)g=c.minTickSize;b.tickDecimals=Math.max(0,y!=null?y:r);b.tickSize=c.tickSize||g;e=function(A){var J=[],Q=k(A.min,A.tickSize),R=0,K=Number.NaN,I;do{I=K;K=Q+R*A.tickSize;J.push(K);++R}while(K<A.max&&K!=I);return J};g=function(A,J){return A.toFixed(J.tickDecimals)}}if(c.alignTicksWithAxis!=null){var w=(b.direction==
"x"?D:W)[c.alignTicksWithAxis-1];if(w&&w.used&&w!=b){e=e(b);if(e.length>0){if(c.min==null)b.min=Math.min(b.min,e[0]);if(c.max==null&&e.length>1)b.max=Math.max(b.max,e[e.length-1])}e=function(A){var J=[],Q,R;for(R=0;R<w.ticks.length;++R){Q=(w.ticks[R].v-w.min)/(w.max-w.min);Q=A.min+Q*(A.max-A.min);J.push(Q)}return J};if(b.mode!="time"&&c.tickDecimals==null){d=Math.max(0,-Math.floor(Math.log(d)/Math.LN10)+1);q=e(b);if(!(q.length>1&&/\..*0$/.test((q[1]-q[0]).toFixed(d))))b.tickDecimals=d}}}b.tickGenerator=
e;b.tickFormatter=m.isFunction(c.tickFormatter)?function(A,J){return""+c.tickFormatter(A,J)}:g}function oa(){o.clearRect(0,0,V,X);var b=a.grid;b.show&&!b.aboveData&&p();for(var c=0;c<Z.length;++c){t(ha.drawSeries,[o,Z[c]]);var d=Z[c];d.lines.show&&E(d);d.bars.show&&na(d);d.points.show&&L(d)}t(ha.draw,[o]);b.show&&b.aboveData&&p()}function pa(b,c){var d,g,e,y,q;y=fa();for(i=0;i<y.length;++i){d=y[i];if(d.direction==c){q=c+d.n+"axis";if(!b[q]&&d.n==1)q=c+"axis";if(b[q]){g=b[q].from;e=b[q].to;break}}}if(!b[q]){d=
c=="x"?D[0]:W[0];g=b[c+"1"];e=b[c+"2"]}if(g!=null&&e!=null&&g>e){y=g;g=e;e=y}return{from:g,to:e,axis:d}}function p(){var b;o.save();o.translate(M.left,M.top);if(a.grid.backgroundColor){o.fillStyle=ta(a.grid.backgroundColor,aa,0,"rgba(255, 255, 255, 0)");o.fillRect(0,0,ga,aa)}var c=a.grid.markings;if(c){if(m.isFunction(c)){var d=ca.getAxes();d.xmin=d.xaxis.min;d.xmax=d.xaxis.max;d.ymin=d.yaxis.min;d.ymax=d.yaxis.max;c=c(d)}for(b=0;b<c.length;++b){d=c[b];var g=pa(d,"x"),e=pa(d,"y");if(g.from==null)g.from=
g.axis.min;if(g.to==null)g.to=g.axis.max;if(e.from==null)e.from=e.axis.min;if(e.to==null)e.to=e.axis.max;if(!(g.to<g.axis.min||g.from>g.axis.max||e.to<e.axis.min||e.from>e.axis.max)){g.from=Math.max(g.from,g.axis.min);g.to=Math.min(g.to,g.axis.max);e.from=Math.max(e.from,e.axis.min);e.to=Math.min(e.to,e.axis.max);if(!(g.from==g.to&&e.from==e.to)){g.from=g.axis.p2c(g.from);g.to=g.axis.p2c(g.to);e.from=e.axis.p2c(e.from);e.to=e.axis.p2c(e.to);if(g.from==g.to||e.from==e.to){o.beginPath();o.strokeStyle=
d.color||a.grid.markingsColor;o.lineWidth=d.lineWidth||a.grid.markingsLineWidth;o.moveTo(g.from,e.from);o.lineTo(g.to,e.to);o.stroke()}else{o.fillStyle=d.color||a.grid.markingsColor;o.fillRect(g.from,e.to,g.to-g.from,e.from-e.to)}}}}}d=fa();c=a.grid.borderWidth;for(g=0;g<d.length;++g){e=d[g];b=e.box;var y=e.tickLength,q,v,r,w;o.strokeStyle=e.options.tickColor||m.color.parse(e.options.color).scale("a",0.22).toString();o.lineWidth=1;if(e.direction=="x"){q=0;v=y=="full"?e.position=="top"?0:aa:b.top-
M.top+(e.position=="top"?b.height:0)}else{v=0;q=y=="full"?e.position=="left"?0:ga:b.left-M.left+(e.position=="left"?b.width:0)}if(!e.innermost){o.beginPath();r=w=0;if(e.direction=="x")r=ga;else w=aa;if(o.lineWidth==1){q=Math.floor(q)+0.5;v=Math.floor(v)+0.5}o.moveTo(q,v);o.lineTo(q+r,v+w);o.stroke()}o.beginPath();for(b=0;b<e.ticks.length;++b){var A=e.ticks[b].v;r=w=0;if(!(A<e.min||A>e.max||y=="full"&&c>0&&(A==e.min||A==e.max))){if(e.direction=="x"){q=e.p2c(A);w=y=="full"?-aa:y;if(e.position=="top")w=
-w}else{v=e.p2c(A);r=y=="full"?-ga:y;if(e.position=="left")r=-r}if(o.lineWidth==1)if(e.direction=="x")q=Math.floor(q)+0.5;else v=Math.floor(v)+0.5;o.moveTo(q,v);o.lineTo(q+r,v+w)}}o.stroke()}if(c){o.lineWidth=c;o.strokeStyle=a.grid.borderColor;o.strokeRect(-c/2,-c/2,ga+c,aa+c)}o.restore()}function E(b){function c(q,v,r,w,A){var J=q.points;q=q.pointsize;var Q=null,R=null;o.beginPath();for(var K=q;K<J.length;K+=q){var I=J[K-q],G=J[K-q+1],H=J[K],O=J[K+1];if(!(I==null||H==null)){if(G<=O&&G<A.min){if(O<
A.min)continue;I=(A.min-G)/(O-G)*(H-I)+I;G=A.min}else if(O<=G&&O<A.min){if(G<A.min)continue;H=(A.min-G)/(O-G)*(H-I)+I;O=A.min}if(G>=O&&G>A.max){if(O>A.max)continue;I=(A.max-G)/(O-G)*(H-I)+I;G=A.max}else if(O>=G&&O>A.max){if(G>A.max)continue;H=(A.max-G)/(O-G)*(H-I)+I;O=A.max}if(I<=H&&I<w.min){if(H<w.min)continue;G=(w.min-I)/(H-I)*(O-G)+G;I=w.min}else if(H<=I&&H<w.min){if(I<w.min)continue;O=(w.min-I)/(H-I)*(O-G)+G;H=w.min}if(I>=H&&I>w.max){if(H>w.max)continue;G=(w.max-I)/(H-I)*(O-G)+G;I=w.max}else if(H>=
I&&H>w.max){if(I>w.max)continue;O=(w.max-I)/(H-I)*(O-G)+G;H=w.max}if(I!=Q||G!=R)o.moveTo(w.p2c(I)+v,A.p2c(G)+r);Q=H;R=O;o.lineTo(w.p2c(H)+v,A.p2c(O)+r)}}o.stroke()}function d(q,v,r){var w=q.points;q=q.pointsize;for(var A=Math.min(Math.max(0,r.min),r.max),J=0,Q=false,R=1,K=0,I=0;;){if(q>0&&J>w.length+q)break;J+=q;var G=w[J-q],H=w[J-q+R],O=w[J],ea=w[J+R];if(Q){if(q>0&&G!=null&&O==null){I=J;q=-q;R=2;continue}if(q<0&&J==K+q){o.fill();Q=false;q=-q;R=1;J=K=I+q;continue}}if(!(G==null||O==null)){if(G<=O&&
G<v.min){if(O<v.min)continue;H=(v.min-G)/(O-G)*(ea-H)+H;G=v.min}else if(O<=G&&O<v.min){if(G<v.min)continue;ea=(v.min-G)/(O-G)*(ea-H)+H;O=v.min}if(G>=O&&G>v.max){if(O>v.max)continue;H=(v.max-G)/(O-G)*(ea-H)+H;G=v.max}else if(O>=G&&O>v.max){if(G>v.max)continue;ea=(v.max-G)/(O-G)*(ea-H)+H;O=v.max}if(!Q){o.beginPath();o.moveTo(v.p2c(G),r.p2c(A));Q=true}if(H>=r.max&&ea>=r.max){o.lineTo(v.p2c(G),r.p2c(r.max));o.lineTo(v.p2c(O),r.p2c(r.max))}else if(H<=r.min&&ea<=r.min){o.lineTo(v.p2c(G),r.p2c(r.min));o.lineTo(v.p2c(O),
r.p2c(r.min))}else{var ja=G,ka=O;if(H<=ea&&H<r.min&&ea>=r.min){G=(r.min-H)/(ea-H)*(O-G)+G;H=r.min}else if(ea<=H&&ea<r.min&&H>=r.min){O=(r.min-H)/(ea-H)*(O-G)+G;ea=r.min}if(H>=ea&&H>r.max&&ea<=r.max){G=(r.max-H)/(ea-H)*(O-G)+G;H=r.max}else if(ea>=H&&ea>r.max&&H<=r.max){O=(r.max-H)/(ea-H)*(O-G)+G;ea=r.max}G!=ja&&o.lineTo(v.p2c(ja),r.p2c(H));o.lineTo(v.p2c(G),r.p2c(H));o.lineTo(v.p2c(O),r.p2c(ea));if(O!=ka){o.lineTo(v.p2c(O),r.p2c(ea));o.lineTo(v.p2c(ka),r.p2c(ea))}}}}}o.save();o.translate(M.left,M.top);
o.lineJoin="round";var g=b.lines.lineWidth,e=b.shadowSize;if(g>0&&e>0){o.lineWidth=e;o.strokeStyle="rgba(0,0,0,0.1)";var y=Math.PI/18;c(b.datapoints,Math.sin(y)*(g/2+e/2),Math.cos(y)*(g/2+e/2),b.xaxis,b.yaxis);o.lineWidth=e/2;c(b.datapoints,Math.sin(y)*(g/2+e/4),Math.cos(y)*(g/2+e/4),b.xaxis,b.yaxis)}o.lineWidth=g;o.strokeStyle=b.color;if(e=za(b.lines,b.color,0,aa)){o.fillStyle=e;d(b.datapoints,b.xaxis,b.yaxis)}g>0&&c(b.datapoints,0,0,b.xaxis,b.yaxis);o.restore()}function L(b){function c(y,q,v,r,
w,A,J){var Q=y.points;y=y.pointsize;for(var R=0;R<Q.length;R+=y){var K=Q[R],I=Q[R+1];if(!(K==null||K<A.min||K>A.max||I<J.min||I>J.max)){o.beginPath();o.arc(A.p2c(K),J.p2c(I)+r,q,0,w,false);if(v){o.fillStyle=v;o.fill()}o.stroke()}}}o.save();o.translate(M.left,M.top);var d=b.lines.lineWidth,g=b.shadowSize,e=b.points.radius;if(d>0&&g>0){g=g/2;o.lineWidth=g;o.strokeStyle="rgba(0,0,0,0.1)";c(b.datapoints,e,null,g+g/2,Math.PI,b.xaxis,b.yaxis);o.strokeStyle="rgba(0,0,0,0.2)";c(b.datapoints,e,null,g/2,Math.PI,
b.xaxis,b.yaxis)}o.lineWidth=d;o.strokeStyle=b.color;c(b.datapoints,e,za(b.points,b.color),0,2*Math.PI,b.xaxis,b.yaxis);o.restore()}function da(b,c,d,g,e,y,q,v,r,w,A,J){var Q,R,K,I;if(A){I=R=K=true;Q=false;A=d;b=b;d=c+g;e=c+e;if(b<A){c=b;b=A;A=c;Q=true;R=false}}else{Q=R=K=true;I=false;A=b+g;b=b+e;e=d;d=c;if(d<e){c=d;d=e;e=c;I=true;K=false}}if(!(b<v.min||A>v.max||d<r.min||e>r.max)){if(A<v.min){A=v.min;Q=false}if(b>v.max){b=v.max;R=false}if(e<r.min){e=r.min;I=false}if(d>r.max){d=r.max;K=false}A=v.p2c(A);
e=r.p2c(e);b=v.p2c(b);d=r.p2c(d);if(q){w.beginPath();w.moveTo(A,e);w.lineTo(A,d);w.lineTo(b,d);w.lineTo(b,e);w.fillStyle=q(e,d);w.fill()}if(J>0&&(Q||R||K||I)){w.beginPath();w.moveTo(A,e+y);Q?w.lineTo(A,d+y):w.moveTo(A,d+y);K?w.lineTo(b,d+y):w.moveTo(b,d+y);R?w.lineTo(b,e+y):w.moveTo(b,e+y);I?w.lineTo(A,e+y):w.moveTo(A,e+y);w.stroke()}}}function na(b){o.save();o.translate(M.left,M.top);o.lineWidth=b.bars.lineWidth;o.strokeStyle=b.color;var c=b.bars.align=="left"?0:-b.bars.barWidth/2;(function(d,g,
e,y,q,v,r){var w=d.points;d=d.pointsize;for(var A=0;A<w.length;A+=d)w[A]!=null&&da(w[A],w[A+1],w[A+2],g,e,y,q,v,r,o,b.bars.horizontal,b.bars.lineWidth)})(b.datapoints,c,c+b.bars.barWidth,0,b.bars.fill?function(d,g){return za(b.bars,b.color,d,g)}:null,b.xaxis,b.yaxis);o.restore()}function za(b,c,d,g){var e=b.fill;if(!e)return null;if(b.fillColor)return ta(b.fillColor,d,g,c);b=m.color.parse(c);b.a=typeof e=="number"?e:0.4;b.normalize();return b.toString()}function Ca(b){a.grid.hoverable&&ra("plothover",
b,function(c){return c.hoverable!=false})}function ia(b){ra("plotclick",b,function(c){return c.clickable!=false})}function ra(b,c,d){var g=C.offset(),e=c.pageX-g.left-M.left,y=c.pageY-g.top-M.top,q=$({left:e,top:y});q.pageX=c.pageX;q.pageY=c.pageY;c=a.grid.mouseActiveRadius;var v=c*c+1,r=null,w,A;for(w=Z.length-1;w>=0;--w)if(d(Z[w])){var J=Z[w],Q=J.xaxis,R=J.yaxis,K=J.datapoints.points,I=J.datapoints.pointsize,G=Q.c2p(e),H=R.c2p(y),O=c/Q.scale,ea=c/R.scale;if(J.lines.show||J.points.show)for(A=0;A<
K.length;A+=I){var ja=K[A],ka=K[A+1];if(ja!=null)if(!(ja-G>O||ja-G<-O||ka-H>ea||ka-H<-ea)){ja=Math.abs(Q.p2c(ja)-e);ka=Math.abs(R.p2c(ka)-y);ka=ja*ja+ka*ka;if(ka<v){v=ka;r=[w,A/I]}}}if(J.bars.show&&!r){Q=J.bars.align=="left"?0:-J.bars.barWidth/2;J=Q+J.bars.barWidth;for(A=0;A<K.length;A+=I){ja=K[A];ka=K[A+1];R=K[A+2];if(ja!=null)if(Z[w].bars.horizontal?G<=Math.max(R,ja)&&G>=Math.min(R,ja)&&H>=ka+Q&&H<=ka+J:G>=ja+Q&&G<=ja+J&&H>=Math.min(R,ka)&&H<=Math.max(R,ka))r=[w,A/I]}}}if(r){w=r[0];A=r[1];I=Z[w].datapoints.pointsize;
d={datapoint:Z[w].datapoints.points.slice(A*I,(A+1)*I),dataIndex:A,series:Z[w],seriesIndex:w}}else d=null;if(d){d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+g.left+M.left);d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+g.top+M.top)}if(a.grid.autoHighlight){for(g=0;g<ma.length;++g){e=ma[g];e.auto==b&&!(d&&e.series==d.series&&e.point==d.datapoint)&&S(e.series,e.point)}d&&sa(d.series,d.datapoint,b)}u.trigger(b,[q,d])}function ua(){ya||(ya=setTimeout(Aa,30))}function Aa(){ya=null;P.save();
P.clearRect(0,0,V,X);P.translate(M.left,M.top);var b,c;for(b=0;b<ma.length;++b){c=ma[b];if(c.series.bars.show)Ba(c.series,c.point);else{var d=c.series,g=c.point;c=g[0];g=g[1];var e=d.xaxis,y=d.yaxis;if(!(c<e.min||c>e.max||g<y.min||g>y.max)){var q=d.points.radius+d.points.lineWidth/2;P.lineWidth=q;P.strokeStyle=m.color.parse(d.color).scale("a",0.5).toString();d=1.5*q;P.beginPath();P.arc(e.p2c(c),y.p2c(g),d,0,2*Math.PI,false);P.stroke()}}}P.restore();t(ha.drawOverlay,[P])}function sa(b,c,d){if(typeof b==
"number")b=Z[b];if(typeof c=="number"){var g=b.datapoints.pointsize;c=b.datapoints.points.slice(g*c,g*(c+1))}g=xa(b,c);if(g==-1){ma.push({series:b,point:c,auto:d});ua()}else if(!d)ma[g].auto=false}function S(b,c){if(b==null&&c==null){ma=[];ua()}if(typeof b=="number")b=Z[b];if(typeof c=="number")c=b.data[c];var d=xa(b,c);if(d!=-1){ma.splice(d,1);ua()}}function xa(b,c){for(var d=0;d<ma.length;++d){var g=ma[d];if(g.series==b&&g.point[0]==c[0]&&g.point[1]==c[1])return d}return-1}function Ba(b,c){P.lineWidth=
b.bars.lineWidth;P.strokeStyle=m.color.parse(b.color).scale("a",0.5).toString();var d=m.color.parse(b.color).scale("a",0.5).toString(),g=b.bars.align=="left"?0:-b.bars.barWidth/2;da(c[0],c[1],c[2]||0,g,g+b.bars.barWidth,0,function(){return d},b.xaxis,b.yaxis,P,b.bars.horizontal,b.bars.lineWidth)}function ta(b,c,d,g){if(typeof b=="string")return b;else{c=o.createLinearGradient(0,d,0,c);d=0;for(var e=b.colors.length;d<e;++d){var y=b.colors[d];if(typeof y!="string"){var q=m.color.parse(g);if(y.brightness!=
null)q=q.scale("rgb",y.brightness);if(y.opacity!=null)q.a*=y.opacity;y=q.toString()}c.addColorStop(d/(e-1),y)}return c}}var Z=[],a={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,
labelWidth:null,labelHeight:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,
aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},hooks:{}},j=null,z=null,C=null,o=null,P=null,D=[],W=[],M={left:0,right:0,top:0,bottom:0},V=0,X=0,ga=0,aa=0,ha={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[]},ca=this;ca.setData=N;ca.setupGrid=
wa;ca.draw=oa;ca.getPlaceholder=function(){return u};ca.getCanvas=function(){return j};ca.getPlotOffset=function(){return M};ca.width=function(){return ga};ca.height=function(){return aa};ca.offset=function(){var b=C.offset();b.left+=M.left;b.top+=M.top;return b};ca.getData=function(){return Z};ca.getAxis=function(b,c){var d=(b==x?D:W)[c-1];if(d&&!d.used)d=null;return d};ca.getAxes=function(){var b={},c;for(c=0;c<D.length;++c)b["x"+(c?c+1:"")+"axis"]=D[c]||{};for(c=0;c<W.length;++c)b["y"+(c?c+1:"")+
"axis"]=W[c]||{};if(!b.x2axis)b.x2axis={n:2};if(!b.y2axis)b.y2axis={n:2};return b};ca.getXAxes=function(){return D};ca.getYAxes=function(){return W};ca.getUsedAxes=fa;ca.c2p=$;ca.p2c=function(b){var c={},d,g,e;for(d=0;d<D.length;++d)if((g=D[d])&&g.used){e="x"+g.n;if(b[e]==null&&g.n==1)e="x";if(b[e]){c.left=g.p2c(b[e]);break}}for(d=0;d<W.length;++d)if((g=W[d])&&g.used){e="y"+g.n;if(b[e]==null&&g.n==1)e="y";if(b[e]){c.top=g.p2c(b[e]);break}}return c};ca.getOptions=function(){return a};ca.highlight=
sa;ca.unhighlight=S;ca.triggerRedrawOverlay=ua;ca.pointOffset=function(b){return{left:parseInt(D[U(b,"x")-1].p2c(+b.x)+M.left),top:parseInt(W[U(b,"y")-1].p2c(+b.y)+M.top)}};ca.hooks=ha;(function(){for(var b=0;b<n.length;++b){var c=n[b];c.init(ca);c.options&&m.extend(true,a,c.options)}})(ca);(function(b){m.extend(true,a,b);if(a.xaxis.color==null)a.xaxis.color=a.grid.color;if(a.yaxis.color==null)a.yaxis.color=a.grid.color;if(a.xaxis.tickColor==null)a.xaxis.tickColor=a.grid.tickColor;if(a.yaxis.tickColor==
null)a.yaxis.tickColor=a.grid.tickColor;if(a.grid.borderColor==null)a.grid.borderColor=a.grid.color;if(a.grid.tickColor==null)a.grid.tickColor=m.color.parse(a.grid.color).scale("a",0.22).toString();for(b=0;b<Math.max(1,a.xaxes.length);++b)a.xaxes[b]=m.extend(true,{},a.xaxis,a.xaxes[b]);for(b=0;b<Math.max(1,a.yaxes.length);++b)a.yaxes[b]=m.extend(true,{},a.yaxis,a.yaxes[b]);if(a.xaxis.noTicks&&a.xaxis.ticks==null)a.xaxis.ticks=a.xaxis.noTicks;if(a.yaxis.noTicks&&a.yaxis.ticks==null)a.yaxis.ticks=a.yaxis.noTicks;
if(a.x2axis){a.y2axis.position="top";a.xaxes[1]=a.x2axis}if(a.y2axis){if(a.y2axis.autoscaleMargin===undefined)a.y2axis.autoscaleMargin=0.02;a.y2axis.position="right";a.yaxes[1]=a.y2axis}if(a.grid.coloredAreas)a.grid.markings=a.grid.coloredAreas;if(a.grid.coloredAreasColor)a.grid.markingsColor=a.grid.coloredAreasColor;a.lines&&m.extend(true,a.series.lines,a.lines);a.points&&m.extend(true,a.series.points,a.points);a.bars&&m.extend(true,a.series.bars,a.bars);if(a.shadowSize)a.series.shadowSize=a.shadowSize;
for(b=0;b<a.xaxes.length;++b)Y(D,b+1).options=a.xaxes[b];for(b=0;b<a.yaxes.length;++b)Y(W,b+1).options=a.yaxes[b];for(var c in ha)if(a.hooks[c]&&a.hooks[c].length)ha[c]=ha[c].concat(a.hooks[c]);t(ha.processOptions,[a])})(f);(function(){function b(c,d){var g=document.createElement("canvas");g.width=c;g.height=d;g.getContext||(g=window.G_vmlCanvasManager.initElement(g));return g}V=u.width();X=u.height();u.html("");u.css("position")=="static"&&u.css("position","relative");if(V<=0||X<=0)throw"Invalid dimensions for plot, width = "+
V+", height = "+X;window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);j=m(b(V,X)).appendTo(u).get(0);o=j.getContext("2d");z=m(b(V,X)).css({position:"absolute",left:0,top:0}).appendTo(u).get(0);P=z.getContext("2d");P.stroke()})();N(F);wa();oa();C=m([z,j]);a.grid.hoverable&&C.mousemove(Ca);a.grid.clickable&&C.click(ia);t(ha.bindEvents,[C]);var ma=[],ya=null}function k(u,F){return F*Math.floor(u/F)}m.plot=function(u,F,f){return new B(m(u),F,f,m.plot.plugins)};m.plot.plugins=[];m.plot.formatDate=
function(u,F,f){var n=function(ba){ba=""+ba;return ba.length==1?"0"+ba:ba},t=[],N=false,U=false,$=u.getUTCHours(),fa=$<12;if(f==null)f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(F.search(/%p|%P/)!=-1)if($>12)$-=12;else if($==0)$=12;for(var Y=0;Y<F.length;++Y){var T=F.charAt(Y);if(N){switch(T){case "h":T=""+$;break;case "H":T=n($);break;case "M":T=n(u.getUTCMinutes());break;case "S":T=n(u.getUTCSeconds());break;case "d":T=""+u.getUTCDate();break;case "m":T=""+(u.getUTCMonth()+
1);break;case "y":T=""+u.getUTCFullYear();break;case "b":T=""+f[u.getUTCMonth()];break;case "p":T=fa?"am":"pm";break;case "P":T=fa?"AM":"PM";break;case "0":T="";U=true;break}if(T&&U){T=n(T);U=false}t.push(T);U||(N=false)}else if(T=="%")N=true;else t.push(T)}return t.join("")}})(jQuery);
(function(){jQuery.color={};jQuery.color.make=function(B,k,u,F){var f={};f.r=B||0;f.g=k||0;f.b=u||0;f.a=F!=null?F:1;f.add=function(n,t){for(var N=0;N<n.length;++N)f[n.charAt(N)]+=t;return f.normalize()};f.scale=function(n,t){for(var N=0;N<n.length;++N)f[n.charAt(N)]*=t;return f.normalize()};f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"};f.normalize=function(){function n(t,N,U){return N<t?t:N>U?U:N}f.r=n(0,parseInt(f.r),255);f.g=n(0,
parseInt(f.g),255);f.b=n(0,parseInt(f.b),255);f.a=n(0,f.a,1);return f};f.clone=function(){return jQuery.color.make(f.r,f.b,f.g,f.a)};return f.normalize()};jQuery.color.extract=function(B,k){var u;do{u=B.css(k).toLowerCase();if(u!=""&&u!="transparent")break;B=B.parent()}while(!jQuery.nodeName(B.get(0),"body"));if(u=="rgba(0, 0, 0, 0)")u="transparent";return jQuery.color.parse(u)};jQuery.color.parse=function(B){var k,u=jQuery.color.make;if(k=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(B))return u(parseInt(k[1],
10),parseInt(k[2],10),parseInt(k[3],10));if(k=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(B))return u(parseInt(k[1],10),parseInt(k[2],10),parseInt(k[3],10),parseFloat(k[4]));if(k=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(B))return u(parseFloat(k[1])*2.55,parseFloat(k[2])*2.55,parseFloat(k[3])*2.55);if(k=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(B))return u(parseFloat(k[1])*
2.55,parseFloat(k[2])*2.55,parseFloat(k[3])*2.55,parseFloat(k[4]));if(k=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(B))return u(parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16));if(k=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(B))return u(parseInt(k[1]+k[1],16),parseInt(k[2]+k[2],16),parseInt(k[3]+k[3],16));B=jQuery.trim(B).toLowerCase();if(B=="transparent")return u(255,255,255,0);else{k=m[B];return u(k[0],k[1],k[2])}};var m={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,
220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(m){function B(F,f,n){var t=this,N=F.add(this),U=F.find(n.tabs),$=f.jquery?f:F.children(f),fa;U.length||(U=F.children());$.length||($=F.parent().find(f));$.length||($=m(f));m.extend(this,{click:function(Y,T){var ba=U.eq(Y);if(typeof Y=="string"&&Y.replace("#","")){Y=Y.replace(/([\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\\\]\^\`\{\|\}\~])/g,"\\$1");ba=U.filter("[href*="+Y.replace("#","")+"]");Y=Math.max(U.index(ba),0)}if(n.rotate){var la=U.length-1;if(Y<0)return t.click(la,T);if(Y>la)return t.click(0,
T)}if(!ba.length){if(fa>=0)return t;Y=n.initialIndex;ba=U.eq(Y)}if(Y===fa)return t;T=T||m.Event();T.type="onBeforeClick";N.trigger(T,[Y]);if(!T.isDefaultPrevented()){k[n.effect].call(t,Y,function(){T.type="onClick";N.trigger(T,[Y])});fa=Y;U.removeClass(n.current);ba.addClass(n.current);return t}},getConf:function(){return n},getTabs:function(){return U},getPanes:function(){return $},getCurrentPane:function(){return $.eq(fa)},getCurrentTab:function(){return U.eq(fa)},getIndex:function(){return fa},
next:function(){return t.click(fa+1)},prev:function(){return t.click(fa-1)},destroy:function(){U.unbind(n.event).removeClass(n.current);$.find("a[href^=#]").unbind("click.T");return t}});m.each("onBeforeClick,onClick".split(","),function(Y,T){m.isFunction(n[T])&&m(t).bind(T,n[T]);t[T]=function(ba){m(t).bind(T,ba);return t}});if(n.history&&m.fn.history){m.tools.history.init(U);n.event="history"}U.each(function(Y){m(this).bind(n.event,function(T){t.click(Y,T);return T.preventDefault()})});$.find("a[href^=#]").bind("click.T",
function(Y){t.click(m(this).attr("href"),Y)});if(location.hash)t.click(location.hash);else if(n.initialIndex===0||n.initialIndex>0)t.click(n.initialIndex)}m.tools=m.tools||{version:"@VERSION"};m.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(F,f){k[F]=f}};var k={"default":function(F,f){this.getPanes().hide().eq(F).show();f.call()},fade:function(F,f){var n=this.getConf(),t=n.fadeOutSpeed,
N=this.getPanes();t?N.fadeOut(t):N.hide();N.eq(F).fadeIn(n.fadeInSpeed,f)},slide:function(F,f){this.getPanes().slideUp(200);this.getPanes().eq(F).slideDown(400,f)},ajax:function(F,f){this.getPanes().eq(0).load(this.getTabs().eq(F).attr("href"),f)}},u;m.tools.tabs.addEffect("horizontal",function(F,f){u||(u=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){m(this).hide()});this.getPanes().eq(F).animate({width:u},function(){m(this).show();f.call()})});m.fn.tabs=function(F,
f){var n=this.data("tabs");if(n){n.destroy();this.removeData("tabs")}if(m.isFunction(f))f={onBeforeClick:f};f=m.extend({},m.tools.tabs.conf,f);this.each(function(){n=new B(m(this),F,f);m(this).data("tabs",n)});return f.api?n:this}})(jQuery);
(function(m){m(function(){if(m.tablesorter){console.log("$.tablesorter");var B=m("<div>");m.tablesorter.defaults.cssAsc="column-header-asc";m.tablesorter.defaults.cssDesc="column-header-desc";m.tablesorter.defaults.cssHeader="column-header";m.tablesorter.addParser({id:"datetime",is:function(){return false},format:function(k){B.html(k);return B.find("time:first").attr("datetime")},type:"text"});m.tablesorter.addParser({id:"ignoreCase",is:function(){return false},format:function(k){B.html(k);return B.text().toLowerCase()},
type:"text"});m.tablesorter.addParser({id:"string",is:function(){return false},format:function(k){B.html(k);return B.text()},type:"text"});m.tablesorter.addParser({id:"number",is:function(){return false},format:function(k){B.html(k);k=B.find(".number:first").attr("data-value");if(k==null)return Number.MAX_VALUE;return k},type:"numeric"});m(".table-sortable").each(function(){m(this).tablesorter()})}})})(jQuery);
(function(m){var B=function(){return typeof window.innerWidth!="undefined"?function(){return{w:window.innerWidth,h:window.innerHeight}}:typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0?function(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}:function(){return{w:document.getElementsByTagName("body")[0].clientWidth,h:document.getElementsByTagName("body")[0].clientHeight}}}();
window.kbs=function(k){m(".kbs.current",k).removeClass("current");var u=m(".domain-section:first",k),F=m(".domain-section:last",k),f=this.scroll_to=function(p){var E=m(document).scrollTop();m(document).height();var L=B().h;L=E+L;var da=p.offset().top;p=da+p.height();if(da<E)m(document).scrollTop(da);else p>L&&m(document).scrollTop(E+(p-L))},n=this.get_current=function(){return m(".kbs.current:first",k)},t=this.set_next=function(p,E,L){p=p||n();if(E.length){p.removeClass("current");E.addClass("current");
L||f(E)}},N=this.next_domain=function(p){var E=n(),L=U(E);if(L){L=L.find(".kbs:first");t(E,L,p)}},U=this._next_domain=function(p){if(!(p&&p.length))return m(".domain-section:first",k);p=p.closest(".domain-section");return!p.length||p[0]===F[0]?u:p.next(".domain-section")},$=this.prev_domain=function(){var p=n(),E=fa(p);if(E){E=E.find(".kbs:first");t(p,E)}},fa=this._prev_domain=function(p){if(!(p&&p.length))return m(".domain-section:last",k);var E=p.closest(".domain-section");if(p.closest(".property-section").length||
p.closest(".type-section").length)return E;return!E.length||E[0]===u[0]?F:E.prev(".domain-section")},Y=this.next_type=function(){var p=n(),E=T(p);if(E){E=E.find(".kbs:first");t(p,E)}},T=this._next_type=function(p){if(!(p&&p.length))return m(".type-section:first",k);var E=p.closest(".domain-section");p=p.closest(".type-section");p=p.length?p.next(".type-section"):E.find(".type-section:first");if(!(p&&p.length)){var L=U(E);if(L)for(;L.get(0)!==E.get(0);){p=L.find(".type-section:first");if(p.length)break;
L=U(L)}}return p},ba=this.prev_type=function(){var p=n(),E=la(p);if(E){E=E.find(".kbs:first");t(p,E)}},la=this._prev_type=function(p){if(!(p&&p.length))return m(".type-section:last",k);var E=p.closest(".domain-section"),L=p.closest(".type-section");if(p.closest(".property-section").length)return L;var da;if(L.length)da=L.prev(".type-section");if(!(da&&da.length))if(p=fa(E))for(;p.get(0)!==E.get(0);){da=p.find(".type-section:last");if(da.length)break;p=fa(p)}return da},va=this.next_prop=function(){var p=
n(),E=wa(p);if(E){E=E.find(".kbs:first");t(p,E)}},wa=this._next_prop=function(p){if(!(p&&p.length))return m(".property-section:first",k);var E=p.closest(".domain-section"),L=p.closest(".type-section"),da=p.closest(".property-section");E=da.length?da.next(".property-section"):L.length?L.find(".property-section:first"):E.find(".property-section:first");if(!(E&&E.length))if(p=T(p))for(;p.get(0)!==L.get(0);){E=p.find(".property-section:first");if(E.length)break;if(L.get(0)==null)L=p;p=T(p)}return E},
qa=this.prev_prop=function(){var p=n(),E=oa(p);if(E){E=E.find(".kbs:first");t(p,E)}},oa=this._prev_prop=function(p){if(!(p&&p.length))return m(".property-section:last",k);var E=p.closest(".domain-section"),L=p.closest(".type-section"),da=p.closest(".property-section");if(p.closest(".data-section").length)return da;var na;if(da.length)na=da.prev(".property-section");if(!(na&&na.length))if(ba=L.length?la(L):la(E))for(;ba.get(0)!==L.get(0);){na=ba.find(".property-section:last");if(na.length)break;if(L.get(0)==
null)L=ba;ba=la(ba)}return na};this.next=function(){var p=n(),E=this._next(p);E&&t(p,E)};this._next=function(p){if(!(p&&p.length))return m(".domain-section:first .kbs:first",k);var E=p.closest(".domain-section"),L=p.closest(".type-section"),da=p.closest(".property-section");if(p.closest(".data-section").length){p=p.next(".kbs");if(p.length)return p;p=da.next(".property-section").find(".kbs:first");if(p.length)return p;p=L.next(".type-section").find(".kbs:first")}else if(da.length){p=da.find(".data-section:first .kbs:first");
if(p.length)return p;p=da.next(".property-section").find(".kbs:first");if(p.length)return p;p=L.next(".type-section").find(".kbs:first")}else if(L.length){p=L.find(".property-section:first .kbs:first");if(p.length)return p;p=L.next(".type-section").find(".kbs:first")}else p=E.find(".type-section:first .kbs:first");if(p.length)return p;return E.get(0)===F.get(0)?u.find(".kbs:first"):E.next(".domain-section").find(".kbs:first")};this.prev=function(){var p=n(),E=this._prev(p);E&&t(p,E)};this._prev=function(p){if(!(p&&
p.length)){p=m(".data-section:last .kbs:last",k);p.length||(p=m(".property-section:last .kbs:first",k));p.length||(p=m(".type-section:last .kbs:first",k));p.length||(p=m(".domain-section:last .kbs:first",k));return p}var E=p.closest(".domain-section"),L=p.closest(".type-section"),da=p.closest(".property-section");if(p.closest(".data-section").length){p=p.prev(".kbs");if(p.length)return p;return da.find(".kbs:first")}else if(da.length){p=da.prev(".property-section").find(".kbs:last");if(p.length)return p;
return L.find(".kbs:first")}else if(L.length){p=L.prev(".type-section").find(".kbs:last");if(p.length)return p;return E.find(".kbs:first")}else return E.get(0)===u.get(0)?F.find(".kbs:last"):E.prev(".domain-section").find(".kbs:last")};this.edit=function(){this.get_current().trigger("edit")};var pa=this;m(document).unbind(".kbs").bind("keydown.kbs",function(p){var E=p.target;if(E==document.body||E==document||E==window||E==m("html")[0]){E=p.keyCode;if(E===68)p.shiftKey?$():N();else if(E===84)p.shiftKey?
ba():Y();else if(E===80)p.shiftKey?qa():va();else if(E===74)pa.next();else if(E===75)pa.prev();else E===69&&pa.edit()}})}})(jQuery);
(function(m,B){var k=window.propbox={init:function(u,F){F=m.extend({lang:"/lang/en"},F);if(!F.base_ajax_url)throw new Error("base_ajax_url required in propbox options");if(!F.base_static_url)throw new Error("base_static_url required in propbox options");if(!F.id)throw new Error("topic id required in propbox options");if(!F.lang)throw new Error("lang required in propbox options");k.options=F;k.kbs=new B(u);k.kbs.set_next(k.kbs.get_current(),m(".kbs:visible:first",u,true));m(".kbs",u).live("click",
function(){var f=k.kbs.get_current();k.kbs.set_next(f,m(this),true)}).live("edit",function(){var f=m(this).find(".headmenu:first").data("submenu");f&&m("li:first a:first",f).click()});k.init_menus(u)},init_menus:function(u,F){u=m(u||document);F&&m(".nicemenu",u).nicemenu();(u&&u.is(".data-row")?u:m(".data-row",u)).hover(k.row_menu_hoverover,k.row_menu_hoverout);m(".nicemenu .headmenu",u).add(m(".nicemenu .default-action",u)).click("click",function(){if(k.kbs){var f=k.kbs.get_current();f&&k.kbs.set_next(f,
m(this).parents(".kbs:first"),true)}return false})},row_menu_hoverover:function(){var u=m(this);k.row_menu_hoverover.timeout=setTimeout(function(){u.addClass("row-hover")},300)},row_menu_hoverout:function(){clearTimeout(k.row_menu_hoverover.timeout);m(this).removeClass("row-hover")},get_script:function(u,F){var f=k.get_script.cache;if(!f)f=k.get_script.cache={};var n=f[u];if(n)if(n.state===1)n.callbacks.push(F);else n.state===4&&F();else{n=f[u]={state:0,callbacks:[F]};m.ajax({url:k.options.base_static_url+
u,dataType:"script",beforeSend:function(){n.state=1},success:function(){n.state=4;m.each(n.callbacks,function(t,N){N()})},error:function(){n.state=-1}})}},prop_edit:function(u,F){var f=m(u).parents(".submenu").data("headmenu").parents(".property-section").find(".data-section .data-row:first:visible .nicemenu:first .headmenu:first a");f.length?f.click():k.prop_add(u,F);return false},prop_add:function(u,F){var f=m(u).parents(".submenu").data("headmenu").parents(".property-section");if(f.is(".editing"))return false;
f.addClass("editing");k.get_script("/propbox-edit.mf.js",function(){k.edit.prop_add_begin(f,F)});return false},value_edit:function(u){var F=m(u).parents(".submenu").data("headmenu").parents(".data-row:first"),f=F.parents(".property-section");if(f.is(".editing"))return false;f.addClass("editing");k.get_script("/propbox-edit.mf.js",function(){k.edit.value_edit_begin(f,F)});return false},value_delete:function(u){var F=m(u).parents(".submenu").data("headmenu").parents(".data-row:first"),f=F.parents(".property-section");
if(f.is(".editing"))return false;f.addClass("editing");k.get_script("/propbox-edit.mf.js",function(){k.edit.value_delete_begin(f,F)});return false},close_message:function(u){m(u).parents(".row-msg:first").remove();return false}}})(jQuery,window.kbs);
(function(m,B,k){B.infinitescroll=function(f,n,t){this.element=B(t);this._create(f,n)};B.infinitescroll.defaults={loading:{finished:k,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:k},state:{isDuringAjax:false,isInvalidPage:false,isDestroyed:false,isDone:false,isPaused:false,currPage:1},callback:k,debug:false,behavior:k,binder:B(m),
nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:false,pathParse:k,dataType:"html",appendCallback:true,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:k,path:k};B.infinitescroll.prototype={_binding:function(f){var n=this,t=n.options;if(t.behavior&&this["_binding_"+t.behavior]!==k)this["_binding_"+t.behavior].call(this);else{if(f!=="bind"&&f!=="unbind"){this._debug("Binding value  "+f+" not valid");
return false}f=="unbind"?this.options.binder.unbind("smartscroll.infscr."+n.options.infid):this.options.binder[f]("smartscroll.infscr."+n.options.infid,function(){n.scroll()});this._debug("Binding",f)}},_create:function(f,n){if(!this._validate(f))return false;var t=this.options=B.extend(true,{},B.infinitescroll.defaults,f),N=B(t.nextSelector).attr("href");t.contentSelector=t.contentSelector||this.element;t.loading.selector=t.loading.selector||t.contentSelector;if(N){t.path=this._determinepath(N);
t.loading.msg=B('<div id="infscr-loading"><img alt="Loading..." src="'+t.loading.img+'" /><div>'+t.loading.msgText+"</div></div>");(new Image).src=t.loading.img;t.pixelsFromNavToBottom=B(document).height()-B(t.navSelector).offset().top;t.loading.start=t.loading.start||function(){B(t.navSelector).hide();t.loading.msg.appendTo(t.loading.selector).show(t.loading.speed,function(){beginAjax(t)})};t.loading.finished=t.loading.finished||function(){t.loading.msg.fadeOut("normal")};t.callback=function(U,$){t.behavior&&
U["_callback_"+t.behavior]!==k&&U["_callback_"+t.behavior].call(B(t.contentSelector)[0],$);n&&n.call(B(t.contentSelector)[0],$)};this._setup()}else this._debug("Navigation selector not found")},_debug:function(){if(this.options.debug)return m.console&&console.log.call(console,arguments)},_determinepath:function(f){var n=this.options;if(n.behavior&&this["_determinepath_"+n.behavior]!==k)this["_determinepath_"+n.behavior].call(this,f);else{if(n.pathParse){this._debug("pathParse manual");if(typeof n.pathParse===
"function")return n.pathParse();return n.pathParse}else if(f.match(/^(.*?)\b2\b(.*?$)/))f=f.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(f.match(/^(.*?)2(.*?$)/)){if(f.match(/^(.*?page=)2(\/.*|$)/))return f=f.match(/^(.*?page=)2(\/.*|$)/).slice(1);f=f.match(/^(.*?)2(.*?$)/).slice(1)}else if(f.match(/^(.*?page=)1(\/.*|$)/))return f=f.match(/^(.*?page=)1(\/.*|$)/).slice(1);else{this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");
n.state.isInvalidPage=true}this._debug("determinePath",f);return f}},_error:function(f){var n=this.options;if(n.behavior&&this["_error_"+n.behavior]!==k)this["_error_"+n.behavior].call(this,f);else{if(f!=="destroy"&&f!=="end")f="unknown";this._debug("Error",f);f=="end"&&this._showdonemsg();n.state.isDone=true;n.state.currPage=1;n.state.isPaused=false;this._binding("unbind")}},_loadcallback:function(f,n){var t=this.options,N=this.options.callback,U=t.state.isDone?"done":!t.appendCallback?"no-append":
"append";if(t.behavior&&this["_loadcallback_"+t.behavior]!==k)this["_loadcallback_"+t.behavior].call(this,f,n);else{switch(U){case "done":this._showdonemsg();return false;case "no-append":if(t.dataType=="html"){n="<div>"+n+"</div>";n=B(n).find(t.itemSelector)}break;case "append":var $=f.children();if($.length==0)return this._error("end");for(U=document.createDocumentFragment();f[0].firstChild;)U.appendChild(f[0].firstChild);this._debug("contentSelector",B(t.contentSelector)[0]);B(t.contentSelector)[0].appendChild(U);
n=$.get();break}t.loading.finished.call(B(t.contentSelector)[0],t);if(t.animate){U=B(m).scrollTop()+B("#infscr-loading").height()+t.extraScrollPx+"px";B("html,body").animate({scrollTop:U},800,function(){t.state.isDuringAjax=false})}if(!t.animate)t.state.isDuringAjax=false;N(this,n)}},_nearbottom:function(){var f=this.options,n=0+B(document).height()-f.binder.scrollTop()-B(m).height();if(f.behavior&&this["_nearbottom_"+f.behavior]!==k)this["_nearbottom_"+f.behavior].call(this);else{this._debug("math:",
n,f.pixelsFromNavToBottom);return n-f.bufferPx<f.pixelsFromNavToBottom}},_pausing:function(f){var n=this.options;if(n.behavior&&this["_pausing_"+n.behavior]!==k)this["_pausing_"+n.behavior].call(this,f);else{f!=="pause"&&f!=="resume"&&f!==null&&this._debug("Invalid argument. Toggling pause value instead");switch(f&&(f=="pause"||f=="resume")?f:"toggle"){case "pause":n.state.isPaused=true;break;case "resume":n.state.isPaused=false;break;case "toggle":n.state.isPaused=!n.state.isPaused;break}this._debug("Paused",
n.state.isPaused);return false}},_setup:function(){var f=this.options;if(f.behavior&&this["_setup_"+f.behavior]!==k)this["_setup_"+f.behavior].call(this);else{this._binding("bind");return false}},_showdonemsg:function(){var f=this.options;if(f.behavior&&this["_showdonemsg_"+f.behavior]!==k)this["_showdonemsg_"+f.behavior].call(this);else{f.loading.msg.find("img").hide().parent().find("div").html(f.loading.finishedMsg).animate({opacity:1},2E3,function(){B(this).parent().fadeOut("normal")});f.errorCallback.call(B(f.contentSelector)[0],
"done")}},_validate:function(f){for(var n in f){if(n.indexOf&&n.indexOf("Selector")>-1&&B(f[n]).length===0){this._debug("Your "+n+" found no elements.");return false}return true}},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=true;return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},retrieve:function(f){var n=this,t=n.options,N=this._determinepath(N),U,$,fa,Y;f=f||null;beginAjax=function(T){T.state.currPage++;
n._debug("heading into ajax",N);U=B(T.contentSelector).is("table")?B("<tbody/>"):B("<div/>");$=N.join(T.state.currPage);fa=T.dataType=="html"||T.dataType=="json"?T.dataType:"html+callback";if(T.appendCallback&&T.dataType=="html")fa+="+callback";switch(fa){case "html+callback":n._debug("Using HTML via .load() method");U.load($+" "+T.itemSelector,null,function(ba){n._loadcallback(U,ba)});break;case "html":case "json":n._debug("Using "+fa.toUpperCase()+" via $.ajax() method");B.ajax({url:$,dataType:T.dataType,
complete:function(ba,la){(Y=typeof ba.isResolved!=="undefined"?ba.isResolved():la==="success"||la==="notmodified")?n._loadcallback(U,ba.responseText):n._error("end")}});break}};if(t.behavior&&this["retrieve_"+t.behavior]!==k)this["retrieve_"+t.behavior].call(this,f);else{if(t.state.isDestroyed){this._debug("Instance is destroyed");return false}t.state.isDuringAjax=true;t.loading.start.call(B(t.contentSelector)[0],t)}},scroll:function(){var f=this.options,n=f.state;if(f.behavior&&this["scroll_"+f.behavior]!==
k)this["scroll_"+f.behavior].call(this);else n.isDuringAjax||n.isInvalidPage||n.isDone||n.isDestroyed||n.isPaused||this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(f){if(B.isPlainObject(f))this.options=B.extend(true,this.options,f)}};B.fn.infinitescroll=function(f,n){switch(typeof f){case "string":var t=Array.prototype.slice.call(arguments,1);this.each(function(){var N=B.data(this,"infinitescroll");if(!N)return false;
if(!B.isFunction(N[f])||f.charAt(0)==="_")return false;N[f].apply(N,t)});break;case "object":this.each(function(){var N=B.data(this,"infinitescroll");N?N.update(f):B.data(this,"infinitescroll",new B.infinitescroll(f,n,this))});break}return this};var u=B.event,F;u.special.smartscroll={setup:function(){B(this).bind("scroll",u.special.smartscroll.handler)},teardown:function(){B(this).unbind("scroll",u.special.smartscroll.handler)},handler:function(f,n){var t=this,N=arguments;f.type="smartscroll";F&&
clearTimeout(F);F=setTimeout(function(){B.event.handle.apply(t,N)},n==="execAsap"?0:100)}};B.fn.smartscroll=function(f){return f?this.bind("smartscroll",f):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);
(function(m,B){var k=B.collection={init_infinitescroll:function(){var u=m("#infinitescroll"),F=u.attr("data-next");if(!(!F||F==="false")){var f=m("#infinitescroll-next");u.infinitescroll({nextSelector:"#infinitescroll-next",navSelector:"#infinitescroll-next",dataType:"json",pathParse:function(){return[f[0].href+"&"+m.param({cursor:u.attr("data-next")})+"&page=",""]},appendCallback:false},function(n){n=JSON.parse(n);var t=n.result.cursor;n=m(n.result.html);i18n.ize(n);u.append(n);t?u.attr("data-next",
t):m(window).unbind(".infscr")});setTimeout(function(){m(window).trigger("scroll")})}},init_menus:function(u,F){u=m(u||document);F&&m(".nicemenu",u).nicemenu();(u&&u.is(".data-row")?u:m(".data-row",u)).hover(k.row_menu_hoverover,k.row_menu_hoverout);m(".nicemenu .headmenu",u).add(m(".nicemenu .default-action",u))},init_table_mouseover:function(){m(".data-table a").mouseover(function(){var u=m(this).attr("data-id");if(u){var F=m(this).offset(),f=m(this).position(),n=F.top+f.top+m(this).height()+10;
F=F.left+f.left;var t=m("<div id='data-table-popup'></div>").css({top:n,left:F}).appendTo("body");m.get(B.h.legacy_fb_url("/private/flyout"+u),function(N){t.html(N.html)},"jsonp")}}).mouseout(function(){m("#data-table-popup").remove()})},row_menu_hoverover:function(){var u=m(this);k.row_menu_hoverover.timeout=setTimeout(function(){u.addClass("row-hover")},300)},row_menu_hoverout:function(){clearTimeout(k.row_menu_hoverover.timeout);m(this).removeClass("row-hover")},row_edit:function(u){var F=m(u).parents(".submenu").data("headmenu").parents(".data-row:first");
if(F.is(".editing"))return false;F.addClass("editing");B.get_script(B.h.ajax_url("lib/collection/collection-edit.mf.js"),function(){k.edit.row_edit_begin(F)});return false},init:function(){k.init_infinitescroll();k.init_menus();k.init_table_mouseover();return k}};k.init()})(jQuery,window.freebase);
(function(m,B){var k=B.data={init_data_tabs:function(){var u=m("ul.tabs"),F=0;m("a",u).each(function(f){if(m(this).hasClass("current"))F=f});u.tabs("div.panes > .pane",{effect:"fade",initialIndex:F})},init_activity_chart:function(u){m(".activity-summary",u).each(function(){for(var F=m(this),f=JSON.parse(F.attr("data-activity")),n=[],t=1;t<f.length;t++){var N=parseInt(f[t].v,10);n.push([t,N])}m.plot(F,[{data:n,lines:{show:true},points:{show:true,radius:2,fill:true,fillColor:"#f71"},shadowSize:0,color:"#f71"}],
{grid:{show:true,color:"#fff",borderWidth:0,hoverable:true,autoHighlight:true,mouseActiveRadius:3},legend:{show:false},xaxis:{tickFormatter:function(){return""},ticks:[]},yaxis:{tickFormatter:function(){return""},ticks:[]}})})}};m(function(){k.init_data_tabs();k.init_activity_chart()})})(jQuery,window.freebase);
