
/*
 * Copyright 2012, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
document.createElement("canvas").getContext||function(){function r(){return this.context_||(this.context_=new t(this))}function e(f,a,d){var b=ia.call(arguments,2);return function(){return f.apply(a,b.concat(ia.call(arguments)))}}function d(f){return String(f).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function c(f){f.namespaces.g_vml_||f.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");f.namespaces.g_o_||f.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");
f.styleSheets.ex_canvas_||(f=f.createStyleSheet(),f.owningElement.id="ex_canvas_",f.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function O(f){var a=f.srcElement;switch(f.propertyName){case "width":a.getContext().clearRect();a.style.width=a.attributes.width.nodeValue+"px";a.firstChild.style.width=a.clientWidth+"px";break;case "height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+
"px"}}function a(f){f=f.srcElement;f.firstChild&&(f.firstChild.style.width=f.clientWidth+"px",f.firstChild.style.height=f.clientHeight+"px")}function j(){return[[1,0,0],[0,1,0],[0,0,1]]}function g(f,a){for(var d=j(),b=0;3>b;b++)for(var c=0;3>c;c++){for(var e=0,k=0;3>k;k++)e+=f[b][k]*a[k][c];d[b][c]=e}return d}function b(f,a){a.fillStyle=f.fillStyle;a.lineCap=f.lineCap;a.lineJoin=f.lineJoin;a.lineWidth=f.lineWidth;a.miterLimit=f.miterLimit;a.shadowBlur=f.shadowBlur;a.shadowColor=f.shadowColor;a.shadowOffsetX=
f.shadowOffsetX;a.shadowOffsetY=f.shadowOffsetY;a.strokeStyle=f.strokeStyle;a.globalAlpha=f.globalAlpha;a.font=f.font;a.textAlign=f.textAlign;a.textBaseline=f.textBaseline;a.arcScaleX_=f.arcScaleX_;a.arcScaleY_=f.arcScaleY_;a.lineScale_=f.lineScale_}function k(f){var a=f.indexOf("(",3),b=f.indexOf(")",a+1),a=f.substring(a+1,b).split(",");4==a.length&&"a"==f.substr(3,1)?alpha=Number(a[3]):a[3]=1;return a}function o(f,a,b){return Math.min(b,Math.max(a,f))}function p(f,a,b){0>b&&b++;1<b&&b--;return 1>
6*b?f+6*(a-f)*b:1>2*b?a:2>3*b?f+6*(a-f)*(2/3-b):f}function n(f){var a=1,f=String(f);if("#"!=f.charAt(0))if(/^rgb/.test(f)){for(var a=k(f),f="#",b,d=0;3>d;d++)b=-1!=a[d].indexOf("%")?Math.floor(255*(parseFloat(a[d])/100)):Number(a[d]),f+=aa[o(b,0,255)];a=a[3]}else if(/^hsl/.test(f)){f=a=k(f);h=parseFloat(f[0])/360%360;0>h&&h++;s=o(parseFloat(f[1])/100,0,1);l=o(parseFloat(f[2])/100,0,1);if(0==s)f=b=d=l;else{var d=0.5>l?l*(1+s):l+s-l*s,c=2*l-d,f=p(c,d,h+1/3);b=p(c,d,h);d=p(c,d,h-1/3)}f="#"+aa[Math.floor(255*
f)]+aa[Math.floor(255*b)]+aa[Math.floor(255*d)];a=a[3]}else f=ja[f]||f;return{color:f,alpha:a}}function q(f){switch(f){case "butt":return"flat";case "round":return"round";default:return"square"}}function t(f){this.m_=j();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*M;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=
f;var a=f.ownerDocument.createElement("div");a.style.width=f.clientWidth+"px";a.style.height=f.clientHeight+"px";a.style.overflow="hidden";a.style.position="absolute";f.appendChild(a);this.element_=a;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function H(f,a,b,d){f.currentPath_.push({type:"bezierCurveTo",cp1x:a.x,cp1y:a.y,cp2x:b.x,cp2y:b.y,x:d.x,y:d.y});f.currentX_=d.x;f.currentY_=d.y}function v(f,a){var b=n(f.strokeStyle),d=b.color,b=b.alpha*f.globalAlpha,c=f.lineScale_*f.lineWidth;1>c&&(b*=
c);a.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',f.lineJoin,'"',' miterlimit="',f.miterLimit,'"',' endcap="',q(f.lineCap),'"',' weight="',c,'px"',' color="',d,'" />')}function w(f,a,b,d){var c=f.fillStyle,e=f.arcScaleX_,j=f.arcScaleY_,k=d.x-b.x,g=d.y-b.y;if(c instanceof A){var r=0,t=d=0,o=0,p=1;if("gradient"==c.type_){var r=c.x1_/e,b=c.y1_/j,q=f.getCoords_(c.x0_/e,c.y0_/j),r=f.getCoords_(r,b),r=180*Math.atan2(r.x-q.x,r.y-q.y)/Math.PI;0>r&&(r+=360);1E-6>r&&(r=0)}else q=f.getCoords_(c.x0_,
c.y0_),d=(q.x-b.x)/k,t=(q.y-b.y)/g,k/=e*M,g/=j*M,p=S.max(k,g),o=2*c.r0_/p,p=2*c.r1_/p-o;e=c.colors_;e.sort(function(f,a){return f.offset-a.offset});for(var j=e.length,q=e[0].color,b=e[j-1].color,k=e[0].alpha*f.globalAlpha,f=e[j-1].alpha*f.globalAlpha,g=[],v=0;v<j;v++){var C=e[v];g.push(C.offset*p+o+" "+C.color)}a.push('<g_vml_:fill type="',c.type_,'"',' method="none" focus="100%"',' color="',q,'"',' color2="',b,'"',' colors="',g.join(","),'"',' opacity="',f,'"',' g_o_:opacity2="',k,'"',' angle="',
r,'"',' focusposition="',d,",",t,'" />')}else c instanceof J?k&&g&&a.push("<g_vml_:fill",' position="',-b.x/k*e*e,",",-b.y/g*j*j,'"',' type="tile"',' src="',c.src_,'" />'):(c=n(f.fillStyle),a.push('<g_vml_:fill color="',c.color,'" opacity="',c.alpha*f.globalAlpha,'" />'))}function D(f,a,b){isFinite(a[0][0])&&(isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1]))&&(f.m_=a,b&&(f.lineScale_=la(ma(a[0][0]*a[1][1]-a[0][1]*a[1][0]))))}function A(f){this.type_=f;
this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function J(f,a){if(!f||1!=f.nodeType||"IMG"!=f.tagName)throw new I("TYPE_MISMATCH_ERR");if("complete"!=f.readyState)throw new I("INVALID_STATE_ERR");switch(a){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=a;break;default:throw new I("SYNTAX_ERR");}this.src_=f.src;this.width_=f.width;this.height_=f.height}function I(f){this.code=this[f];this.message=
f+": DOM Exception "+this.code}var S=Math,F=S.round,C=S.sin,T=S.cos,ma=S.abs,la=S.sqrt,M=10,Y=M/2,ia=Array.prototype.slice;c(document);var ga={init:function(f){/MSIE/.test(navigator.userAgent)&&!window.opera&&(f=f||document,f.createElement("canvas"),f.attachEvent("onreadystatechange",e(this.init_,this,f)))},init_:function(f){for(var f=f.getElementsByTagName("canvas"),a=0;a<f.length;a++)this.initElement(f[a])},initElement:function(f){if(!f.getContext){f.getContext=r;c(f.ownerDocument);f.innerHTML=
"";f.attachEvent("onpropertychange",O);f.attachEvent("onresize",a);var b=f.attributes;b.width&&b.width.specified?f.style.width=b.width.nodeValue+"px":f.width=f.clientWidth;b.height&&b.height.specified?f.style.height=b.height.nodeValue+"px":f.height=f.clientHeight}return f}};ga.init();for(var aa=[],B=0;16>B;B++)for(var fa=0;16>fa;fa++)aa[16*B+fa]=B.toString(16)+fa.toString(16);var ja={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",
blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",
darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",
khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",
mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",
peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},
G={},B=t.prototype;B.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};B.beginPath=function(){this.currentPath_=[]};B.moveTo=function(f,a){var b=this.getCoords_(f,a);this.currentPath_.push({type:"moveTo",x:b.x,y:b.y});this.currentX_=b.x;this.currentY_=b.y};B.lineTo=function(f,a){var b=this.getCoords_(f,a);this.currentPath_.push({type:"lineTo",x:b.x,y:b.y});this.currentX_=b.x;this.currentY_=b.y};B.bezierCurveTo=function(f,
a,b,d,c,e){c=this.getCoords_(c,e);f=this.getCoords_(f,a);b=this.getCoords_(b,d);H(this,f,b,c)};B.quadraticCurveTo=function(f,a,b,d){f=this.getCoords_(f,a);b=this.getCoords_(b,d);d={x:this.currentX_+2/3*(f.x-this.currentX_),y:this.currentY_+2/3*(f.y-this.currentY_)};H(this,d,{x:d.x+(b.x-this.currentX_)/3,y:d.y+(b.y-this.currentY_)/3},b)};B.arc=function(f,a,b,d,c,e){var b=b*M,j=e?"at":"wa",k=f+T(d)*b-Y,g=a+C(d)*b-Y,d=f+T(c)*b-Y,c=a+C(c)*b-Y;k==d&&!e&&(k+=0.125);f=this.getCoords_(f,a);k=this.getCoords_(k,
g);d=this.getCoords_(d,c);this.currentPath_.push({type:j,x:f.x,y:f.y,radius:b,xStart:k.x,yStart:k.y,xEnd:d.x,yEnd:d.y})};B.rect=function(f,a,b,d){this.moveTo(f,a);this.lineTo(f+b,a);this.lineTo(f+b,a+d);this.lineTo(f,a+d);this.closePath()};B.strokeRect=function(f,a,b,d){var c=this.currentPath_;this.beginPath();this.moveTo(f,a);this.lineTo(f+b,a);this.lineTo(f+b,a+d);this.lineTo(f,a+d);this.closePath();this.stroke();this.currentPath_=c};B.fillRect=function(f,a,b,d){var c=this.currentPath_;this.beginPath();
this.moveTo(f,a);this.lineTo(f+b,a);this.lineTo(f+b,a+d);this.lineTo(f,a+d);this.closePath();this.fill();this.currentPath_=c};B.createLinearGradient=function(f,a,b,d){var c=new A("gradient");c.x0_=f;c.y0_=a;c.x1_=b;c.y1_=d;return c};B.createRadialGradient=function(f,a,b,d,c,e){var j=new A("gradientradial");j.x0_=f;j.y0_=a;j.r0_=b;j.x1_=d;j.y1_=c;j.r1_=e;return j};B.drawImage=function(f,a){var b,d,c,e,j,k,g,r;c=f.runtimeStyle.width;e=f.runtimeStyle.height;f.runtimeStyle.width="auto";f.runtimeStyle.height=
"auto";var n=f.width,t=f.height;f.runtimeStyle.width=c;f.runtimeStyle.height=e;if(3==arguments.length)b=arguments[1],d=arguments[2],j=k=0,g=c=n,r=e=t;else if(5==arguments.length)b=arguments[1],d=arguments[2],c=arguments[3],e=arguments[4],j=k=0,g=n,r=t;else if(9==arguments.length)j=arguments[1],k=arguments[2],g=arguments[3],r=arguments[4],b=arguments[5],d=arguments[6],c=arguments[7],e=arguments[8];else throw Error("Invalid number of arguments");var p=this.getCoords_(b,d),o=[];o.push(" <g_vml_:group",
' coordsize="',10*M,",",10*M,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var q=[];q.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",F(p.x/M),",","Dy=",F(p.y/M),"");var v=this.getCoords_(b+c,d),C=this.getCoords_(b,d+e);b=this.getCoords_(b+c,d+e);p.x=S.max(p.x,v.x,C.x,b.x);p.y=S.max(p.y,v.y,C.y,b.y);o.push("padding:0 ",F(p.x/M),
"px ",F(p.y/M),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",q.join(""),", sizingmethod='clip');")}else o.push("top:",F(p.y/M),"px;left:",F(p.x/M),"px;");o.push(' ">','<g_vml_:image src="',f.src,'"',' style="width:',M*c,"px;"," height:",M*e,'px"',' cropleft="',j/n,'"',' croptop="',k/t,'"',' cropright="',(n-j-g)/n,'"',' cropbottom="',(t-k-r)/t,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",o.join(""))};B.stroke=function(f){for(var a={x:null,y:null},b={x:null,y:null},
d=0;d<this.currentPath_.length;d+=5E3){var c=[];c.push("<g_vml_:shape",' filled="',!!f,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*M,",",10*M,'"',' stroked="',!f,'"',' path="');for(var e=d;e<Math.min(d+5E3,this.currentPath_.length);e++){0==e%5E3&&0<e&&c.push(" m ",F(this.currentPath_[e-1].x),",",F(this.currentPath_[e-1].y));var j=this.currentPath_[e];switch(j.type){case "moveTo":c.push(" m ",F(j.x),",",F(j.y));break;case "lineTo":c.push(" l ",
F(j.x),",",F(j.y));break;case "close":c.push(" x ");j=null;break;case "bezierCurveTo":c.push(" c ",F(j.cp1x),",",F(j.cp1y),",",F(j.cp2x),",",F(j.cp2y),",",F(j.x),",",F(j.y));break;case "at":case "wa":c.push(" ",j.type," ",F(j.x-this.arcScaleX_*j.radius),",",F(j.y-this.arcScaleY_*j.radius)," ",F(j.x+this.arcScaleX_*j.radius),",",F(j.y+this.arcScaleY_*j.radius)," ",F(j.xStart),",",F(j.yStart)," ",F(j.xEnd),",",F(j.yEnd))}if(j){if(null==a.x||j.x<a.x)a.x=j.x;if(null==b.x||j.x>b.x)b.x=j.x;if(null==a.y||
j.y<a.y)a.y=j.y;if(null==b.y||j.y>b.y)b.y=j.y}}c.push(' ">');f?w(this,c,a,b):v(this,c);c.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",c.join(""))}};B.fill=function(){this.stroke(!0)};B.closePath=function(){this.currentPath_.push({type:"close"})};B.getCoords_=function(f,a){var b=this.m_;return{x:M*(f*b[0][0]+a*b[1][0]+b[2][0])-Y,y:M*(f*b[0][1]+a*b[1][1]+b[2][1])-Y}};B.save=function(){var f={};b(this,f);this.aStack_.push(f);this.mStack_.push(this.m_);this.m_=g(j(),this.m_)};
B.restore=function(){this.aStack_.length&&(b(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};B.translate=function(f,a){D(this,g([[1,0,0],[0,1,0],[f,a,1]],this.m_),!1)};B.rotate=function(f){var a=T(f),f=C(f);D(this,g([[a,f,0],[-f,a,0],[0,0,1]],this.m_),!1)};B.scale=function(f,a){this.arcScaleX_*=f;this.arcScaleY_*=a;D(this,g([[f,0,0],[0,a,0],[0,0,1]],this.m_),!0)};B.transform=function(f,a,b,d,c,e){D(this,g([[f,a,0],[b,d,0],[c,e,1]],this.m_),!0)};B.setTransform=function(f,a,b,d,c,e){D(this,[[f,
a,0],[b,d,0],[c,e,1]],!0)};B.drawText_=function(f,a,b,c,e){var j=this.m_,c=0,k=1E3,g=0,r=[],n;n=this.font;if(G[n])n=G[n];else{var t=document.createElement("div").style;try{t.font=n}catch(p){}n=G[n]={style:t.fontStyle||"normal",variant:t.fontVariant||"normal",weight:t.fontWeight||"normal",size:t.fontSize||10,family:t.fontFamily||"sans-serif"}}var t=n,o=this.element_;n={};for(var q in t)n[q]=t[q];q=parseFloat(o.currentStyle.fontSize);o=parseFloat(t.size);n.size="number"==typeof t.size?t.size:-1!=t.size.indexOf("px")?
o:-1!=t.size.indexOf("em")?q*o:-1!=t.size.indexOf("%")?q/100*o:-1!=t.size.indexOf("pt")?o/0.75:q;n.size*=0.981;q=n.style+" "+n.variant+" "+n.weight+" "+n.size+"px "+n.family;o=this.element_.currentStyle;t=this.textAlign.toLowerCase();switch(t){case "left":case "center":case "right":break;case "end":t="ltr"==o.direction?"right":"left";break;case "start":t="rtl"==o.direction?"right":"left";break;default:t="left"}switch(this.textBaseline){case "hanging":case "top":g=n.size/1.75;break;case "middle":break;
default:case null:case "alphabetic":case "ideographic":case "bottom":g=-n.size/2.25}switch(t){case "right":c=1E3;k=0.05;break;case "center":c=k=500}a=this.getCoords_(a+0,b+g);r.push('<g_vml_:line from="',-c,' 0" to="',k,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!e,'" stroked="',!!e,'" style="position:absolute;width:1px;height:1px;">');e?v(this,r):w(this,r,{x:-c,y:0},{x:k,y:n.size});e=j[0][0].toFixed(3)+","+j[1][0].toFixed(3)+","+j[0][1].toFixed(3)+","+j[1][1].toFixed(3)+",0,0";
a=F(a.x/M)+","+F(a.y/M);r.push('<g_vml_:skew on="t" matrix="',e,'" ',' offset="',a,'" origin="',c,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',d(f),'" style="v-text-align:',t,";font:",d(q),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",r.join(""))};B.fillText=function(a,b,d,c){this.drawText_(a,b,d,c,!1)};B.strokeText=function(a,b,d,c){this.drawText_(a,b,d,c,!0)};B.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",
'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};B.clip=function(){};B.arcTo=function(){};B.createPattern=function(a,b){return new J(a,b)};A.prototype.addColorStop=function(a,b){b=n(b);this.colors_.push({offset:a,
color:b.color,alpha:b.alpha})};B=I.prototype=Error();B.INDEX_SIZE_ERR=1;B.DOMSTRING_SIZE_ERR=2;B.HIERARCHY_REQUEST_ERR=3;B.WRONG_DOCUMENT_ERR=4;B.INVALID_CHARACTER_ERR=5;B.NO_DATA_ALLOWED_ERR=6;B.NO_MODIFICATION_ALLOWED_ERR=7;B.NOT_FOUND_ERR=8;B.NOT_SUPPORTED_ERR=9;B.INUSE_ATTRIBUTE_ERR=10;B.INVALID_STATE_ERR=11;B.SYNTAX_ERR=12;B.INVALID_MODIFICATION_ERR=13;B.NAMESPACE_ERR=14;B.INVALID_ACCESS_ERR=15;B.VALIDATION_ERR=16;B.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=ga;CanvasRenderingContext2D=t;CanvasGradient=
A;CanvasPattern=J;DOMException=I}();
(function(){jQuery.color={};jQuery.color.make=function(e,d,c,r){var a={};a.r=e||0;a.g=d||0;a.b=c||0;a.a=null!=r?r:1;a.add=function(d,c){for(var b=0;b<d.length;++b)a[d.charAt(b)]+=c;return a.normalize()};a.scale=function(d,c){for(var b=0;b<d.length;++b)a[d.charAt(b)]*=c;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function d(a,b,c){return b<a?a:b>c?c:b}a.r=d(0,parseInt(a.r),255);a.g=d(0,parseInt(a.g),
255);a.b=d(0,parseInt(a.b),255);a.a=d(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(e,d){var c;do{c=e.css(d).toLowerCase();if(""!=c&&"transparent"!=c)break;e=e.parent()}while(!jQuery.nodeName(e.get(0),"body"));"rgba(0, 0, 0, 0)"==c&&(c="transparent");return jQuery.color.parse(c)};jQuery.color.parse=function(e){var d,c=jQuery.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return c(parseInt(d[1],
10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return c(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return c(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return c(2.55*
parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return c(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return c(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));e=jQuery.trim(e).toLowerCase();if("transparent"==e)return c(255,255,255,0);d=r[e];return c(d[0],d[1],d[2])};var r={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(r){function e(c,e,a,j){function g(a,f){for(var f=[K].concat(f),b=0;b<a.length;++b)a[b].apply(this,f)}function b(a){for(var b=[],d=0;d<a.length;++d){var c=r.extend(!0,{},f.series);a[d].data?(c.data=a[d].data,delete a[d].data,r.extend(!0,c,a[d]),a[d].data=c.data):c.data=a[d];b.push(c)}G=b;b=G.length;d=[];c=[];for(a=0;a<G.length;++a){var z=G[a].color;null!=z&&(--b,"number"==typeof z?c.push(z):d.push(r.color.parse(G[a].color)))}for(a=0;a<c.length;++a)b=Math.max(b,c[a]+1);d=[];for(a=c=0;d.length<
b;)z=f.colors.length==a?r.color.make(100,100,100):r.color.parse(f.colors[a]),z.scale("rgb",1+0.2*(1==c%2?-1:1)*Math.ceil(c/2)),d.push(z),++a,a>=f.colors.length&&(a=0,++c);for(a=b=0;a<G.length;++a){c=G[a];null==c.color?(c.color=d[b].toString(),++b):"number"==typeof c.color&&(c.color=d[c.color].toString());if(null==c.lines.show){var e,z=!0;for(e in c)if(c[e]&&c[e].show){z=!1;break}z&&(c.lines.show=!0)}c.xaxis=n(L,k(c,"x"));c.yaxis=n(N,k(c,"y"))}b=function(a){a&&(a.datamin=j,a.datamax=t,a.used=!1)};
e=function(a,b,f){b<a.datamin&&(a.datamin=b);f>a.datamax&&(a.datamax=f)};for(var j=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,o,Q,q,u,v,a=0;a<L.length;++a)b(L[a]);for(a=0;a<N.length;++a)b(N[a]);for(a=0;a<G.length;++a)b=G[a],b.datapoints={points:[]},g(X.processRawData,[b,b.data,b.datapoints]);for(a=0;a<G.length;++a){var b=G[a],ca=b.data,R=b.datapoints.format;if(!R){R=[];R.push({x:!0,number:!0,required:!0});R.push({y:!0,number:!0,required:!0});if(b.bars.show||b.lines.show&&b.lines.fill)R.push({y:!0,
number:!0,required:!1,defaultValue:0}),b.bars.horizontal&&(delete R[R.length-1].y,R[R.length-1].x=!0);b.datapoints.format=R}if(null==b.datapoints.pointsize){null==b.datapoints.pointsize&&(b.datapoints.pointsize=R.length);Q=b.datapoints.pointsize;z=b.datapoints.points;insertSteps=b.lines.show&&b.lines.steps;b.xaxis.used=b.yaxis.used=!0;for(d=o=0;d<ca.length;++d,o+=Q){v=ca[d];var C=null==v;if(!C)for(c=0;c<Q;++c){q=v[c];if(u=R[c])if(u.number&&null!=q&&(q=+q,isNaN(q)&&(q=null)),null==q)u.required&&(C=
!0),null!=u.defaultValue&&(q=u.defaultValue);z[o+c]=q}if(C)for(c=0;c<Q;++c)q=z[o+c],null!=q&&(u=R[c],u.x&&e(b.xaxis,q,q),u.y&&e(b.yaxis,q,q)),z[o+c]=null;else if(insertSteps&&0<o&&null!=z[o-Q]&&z[o-Q]!=z[o]&&z[o-Q+1]!=z[o+1]){for(c=0;c<Q;++c)z[o+Q+c]=z[o+c];z[o+1]=z[o-Q+1];o+=Q}}}}for(a=0;a<G.length;++a)b=G[a],g(X.processDatapoints,[b,b.datapoints]);for(a=0;a<G.length;++a){b=G[a];z=b.datapoints.points;Q=b.datapoints.pointsize;v=o=j;C=ca=t;for(d=0;d<z.length;d+=Q)if(null!=z[d])for(c=0;c<Q;++c)if(q=
z[d+c],u=R[c])if(u.x&&(q<o&&(o=q),q>ca&&(ca=q)),u.y)q<v&&(v=q),q>C&&(C=q);b.bars.show&&(d="left"==b.bars.align?0:-b.bars.barWidth/2,b.bars.horizontal?(v+=d,C+=d+b.bars.barWidth):(o+=d,ca+=d+b.bars.barWidth));e(b.xaxis,o,ca);e(b.yaxis,v,C)}r.each(p(),function(a,b){b.datamin==j&&(b.datamin=null);b.datamax==t&&(b.datamax=null)})}function k(a,b){var f=a[b+"axis"];"object"==typeof f&&(f=f.n);"number"!=typeof f&&(f=1);return f}function o(a){var b={},f,d;for(f=0;f<L.length;++f)(d=L[f])&&d.used&&(b["x"+d.n]=
d.c2p(a.left));for(f=0;f<N.length;++f)(d=N[f])&&d.used&&(b["y"+d.n]=d.c2p(a.top));void 0!==b.x1&&(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function p(){var a=[],b,f;for(b=0;b<L.length;++b)(f=L[b])&&f.used&&a.push(f);for(b=0;b<N.length;++b)(f=N[b])&&f.used&&a.push(f);return a}function n(a,b){a[b-1]||(a[b-1]={n:b,direction:a==L?"x":"y",options:r.extend(!0,{},a==L?f.xaxis:f.yaxis)});return a[b-1]}function q(a){function b(a){return a}var f,d,c=a.options.transform||b,e=a.options.inverseTransform;"x"==
a.direction?(f=a.scale=$/(c(a.max)-c(a.min)),d=c(a.min),a.p2c=c==b?function(a){return(a-d)*f}:function(a){return(c(a)-d)*f},a.c2p=e?function(a){return e(d+a/f)}:function(a){return d+a/f}):(f=a.scale=W/(c(a.max)-c(a.min)),d=c(a.max),a.p2c=c==b?function(a){return(d-a)*f}:function(a){return(d-c(a))*f},a.c2p=e?function(a){return e(d-a/f)}:function(a){return d-a/f})}function t(a){function b(f,d){return r('<div style="position:absolute;top:-10000px;'+d+'font-size:smaller"><div class="'+a.direction+"Axis "+
a.direction+a.n+'Axis">'+f.join("")+"</div></div>").appendTo(c)}if(a){var f=a.options,d,z=a.ticks||[],e=[],j,k=f.labelWidth,f=f.labelHeight;if("x"==a.direction){if(null==k&&(k=Math.floor(U/(0<z.length?z.length:1))),null==f){e=[];for(d=0;d<z.length;++d)(j=z[d].label)&&e.push('<div class="tickLabel" style="float:left;width:'+k+'px">'+j+"</div>");0<e.length&&(e.push('<div style="clear:left"></div>'),z=b(e,"width:10000px;"),f=z.height(),z.remove())}}else if(null==k||null==f){for(d=0;d<z.length;++d)(j=
z[d].label)&&e.push('<div class="tickLabel">'+j+"</div>");0<e.length&&(z=b(e,""),null==k&&(k=z.children().width()),null==f&&(f=z.find("div.tickLabel").height()),z.remove())}null==k&&(k=0);null==f&&(f=0);a.labelWidth=k;a.labelHeight=f}}function H(a){if(a&&(a.used||a.labelWidth||a.labelHeight)){var b=a.labelWidth,d=a.labelHeight,c=a.options.position,z=a.options.tickLength,e=f.grid.axisMargin,j=f.grid.labelMargin,k="x"==a.direction?L:N,n=r.grep(k,function(a){return a&&a.options.position==c&&(a.labelHeight||
a.labelWidth)});r.inArray(a,n)==n.length-1&&(e=0);null==z&&(z="full");k=r.grep(k,function(a){return a&&(a.labelHeight||a.labelWidth)});k=0==r.inArray(a,k);!k&&"full"==z&&(z=5);isNaN(+z)||(j+=+z);"x"==a.direction?(d+=j,"bottom"==c?(E.bottom+=d+e,a.box={top:V-E.bottom,height:d}):(a.box={top:E.top+e,height:d},E.top+=d+e)):(b+=j,"left"==c?(a.box={left:E.left+e,width:b},E.left+=b+e):(E.right+=b+e,a.box={left:U-E.right,width:b}));a.position=c;a.tickLength=z;a.box.padding=j;a.innermost=k}}function v(){var a=
p(),b;for(b=0;b<a.length;++b){var d=a[b],e=d.options,z=+(null!=e.min?e.min:d.datamin),j=+(null!=e.max?e.max:d.datamax),k=j-z;if(0==k){if(k=0==j?1:0.01,null==e.min&&(z-=k),null==e.max||null!=e.min)j+=k}else{var n=e.autoscaleMargin;if(null!=n&&(null==e.min&&(z-=k*n,0>z&&(null!=d.datamin&&0<=d.datamin)&&(z=0)),null==e.max))j+=k*n,0<j&&(null!=d.datamax&&0>=d.datamax)&&(j=0)}d.min=z;d.max=j}E.left=E.right=E.top=E.bottom=0;if(f.grid.show){for(b=0;b<a.length;++b){w(a[b]);d=a[b];d.ticks=[];z=d.options.ticks;
e=null;null==z||"number"==typeof z&&0<z?e=d.tickGenerator(d):z&&(e=r.isFunction(z)?z({min:d.min,max:d.max}):z);j=z=void 0;for(z=0;z<e.length;++z)k=null,n=e[z],"object"==typeof n?(j=n[0],1<n.length&&(k=n[1])):j=n,null==k&&(k=d.tickFormatter(j,d)),d.ticks[z]={v:j,label:k};d=a[b];e=a[b].ticks;if(null!=d.options.autoscaleMargin&&0<e.length&&(null==d.options.min&&(d.min=Math.min(d.min,e[0].v)),null==d.options.max&&1<e.length))d.max=Math.max(d.max,e[e.length-1].v)}for(b=0;b<L.length;++b)t(L[b]);for(b=0;b<
N.length;++b)t(N[b]);for(b=L.length-1;0<=b;--b)H(L[b]);for(b=N.length-1;0<=b;--b)H(N[b]);for(d=b=0;d<G.length;++d)b=Math.max(b,2*(G[d].points.radius+G[d].points.lineWidth/2));for(var o in E)E[o]+=f.grid.borderWidth,E[o]=Math.max(b,E[o])}$=U-E.left-E.right;W=V-E.bottom-E.top;for(b=0;b<a.length;++b)q(a[b]);if(f.grid.show){for(b=0;b<a.length;++b)o=a[b],"x"==o.direction?(o.box.left=E.left,o.box.width=$):(o.box.top=E.top,o.box.height=W);c.find(".tickLabels").remove();a=['<div class="tickLabels" style="font-size:smaller">'];
o=p();for(b=0;b<o.length;++b){d=o[b];e=d.box;a.push('<div class="'+d.direction+"Axis "+d.direction+d.n+'Axis" style="color:'+d.options.color+'">');for(z=0;z<d.ticks.length;++z)if(j=d.ticks[z],j.label&&!(j.v<d.min||j.v>d.max)){k={};"x"==d.direction?(n="center",k.left=Math.round(E.left+d.p2c(j.v)-d.labelWidth/2),"bottom"==d.position?k.top=e.top+e.padding:k.bottom=V-(e.top+e.height-e.padding)):(k.top=Math.round(E.top+d.p2c(j.v)-d.labelHeight/2),"left"==d.position?(k.right=U-(e.left+e.width-e.padding),
n="right"):(k.left=e.left+e.padding,n="left"));k.width=d.labelWidth;var n=["position:absolute","text-align:"+n],g;for(g in k)n.push(g+":"+k[g]+"px");a.push('<div class="tickLabel" style="'+n.join(";")+'">'+j.label+"</div>")}a.push("</div>")}a.push("</div>");c.append(a.join(""))}c.find(".legend").remove();if(f.legend.show){g=[];a=!1;o=f.legend.labelFormatter;for(e=0;e<G.length;++e)if(b=G[e],d=b.label)0==e%f.legend.noColumns&&(a&&g.push("</tr>"),g.push("<tr>"),a=!0),o&&(d=o(d,b)),g.push('<td class="legendColorBox"><div style="border:1px solid '+
f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+b.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+d+"</td>");a&&g.push("</tr>");0!=g.length&&(a='<table style="font-size:smaller;color:'+f.grid.color+'">'+g.join("")+"</table>",null!=f.legend.container?r(f.legend.container).html(a):(g="",o=f.legend.position,b=f.legend.margin,null==b[0]&&(b=[b,b]),"n"==o.charAt(0)?g+="top:"+(b[1]+E.top)+"px;":"s"==o.charAt(0)&&(g+="bottom:"+(b[1]+E.bottom)+
"px;"),"e"==o.charAt(1)?g+="right:"+(b[0]+E.right)+"px;":"w"==o.charAt(1)&&(g+="left:"+(b[0]+E.left)+"px;"),a=r('<div class="legend">'+a.replace('style="','style="position:absolute;'+g+";")+"</div>").appendTo(c),0!=f.legend.backgroundOpacity&&(o=f.legend.backgroundColor,null==o&&(o=(o=f.grid.backgroundColor)&&"string"==typeof o?r.color.parse(o):r.color.extract(a,"background-color"),o.a=1,o=o.toString()),b=a.children(),r('<div style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+
g+"background-color:"+o+';"> </div>').prependTo(a).css("opacity",f.legend.backgroundOpacity))))}}function w(a){var b=a.options,f;f="number"==typeof b.ticks&&0<b.ticks?b.ticks:"x"==a.direction?0.3*Math.sqrt(U):0.3*Math.sqrt(V);f=(a.max-a.min)/f;var c,e,j,k;if("time"==b.mode){var o={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};k=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],
[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];c=0;null!=b.minTickSize&&(c="number"==typeof b.tickSize?b.tickSize:b.minTickSize[0]*o[b.minTickSize[1]]);for(e=0;e<k.length-1&&!(f<(k[e][0]*o[k[e][1]]+k[e+1][0]*o[k[e+1][1]])/2&&k[e][0]*o[k[e][1]]>=c);++e);c=k[e][0];j=k[e][1];"year"==j&&(e=Math.pow(10,Math.floor(Math.log(f/o.year)/Math.LN10)),k=f/o.year/e,c=(1.5>k?1:3>k?2:7.5>k?5:10)*e);
a.tickSize=b.tickSize||[c,j];e=function(a){var b=[],f=a.tickSize[0],c=a.tickSize[1],e=new Date(a.min),j=f*o[c];c=="second"&&e.setUTCSeconds(d(e.getUTCSeconds(),f));c=="minute"&&e.setUTCMinutes(d(e.getUTCMinutes(),f));c=="hour"&&e.setUTCHours(d(e.getUTCHours(),f));c=="month"&&e.setUTCMonth(d(e.getUTCMonth(),f));c=="year"&&e.setUTCFullYear(d(e.getUTCFullYear(),f));e.setUTCMilliseconds(0);j>=o.minute&&e.setUTCSeconds(0);j>=o.hour&&e.setUTCMinutes(0);j>=o.day&&e.setUTCHours(0);j>=o.day*4&&e.setUTCDate(1);
j>=o.year&&e.setUTCMonth(0);var z=0,k=Number.NaN,n;do{n=k;k=e.getTime();b.push(k);if(c=="month")if(f<1){e.setUTCDate(1);var oa=e.getTime();e.setUTCMonth(e.getUTCMonth()+1);var g=e.getTime();e.setTime(k+z*o.hour+(g-oa)*f);z=e.getUTCHours();e.setUTCHours(0)}else e.setUTCMonth(e.getUTCMonth()+f);else c=="year"?e.setUTCFullYear(e.getUTCFullYear()+f):e.setTime(k+j)}while(k<a.max&&k!=n);return b};c=function(a,f){var d=new Date(a);if(b.timeformat!=null)return r.plot.formatDate(d,b.timeformat,b.monthNames);
var c=f.tickSize[0]*o[f.tickSize[1]],e=f.max-f.min,j=b.twelveHourClock?" %p":"";fmt=c<o.minute?"%h:%M:%S"+j:c<o.day?e<2*o.day?"%h:%M"+j:"%b %d %h:%M"+j:c<o.month?"%b %d":c<o.year?e<o.year?"%b":"%b %y":"%y";return r.plot.formatDate(d,fmt,b.monthNames)}}else{j=b.tickDecimals;var n=-Math.floor(Math.log(f)/Math.LN10);null!=j&&n>j&&(n=j);e=Math.pow(10,-n);k=f/e;if(1.5>k)c=1;else if(3>k){if(c=2,2.25<k&&(null==j||n+1<=j))c=2.5,++n}else c=7.5>k?5:10;c*=e;null!=b.minTickSize&&c<b.minTickSize&&(c=b.minTickSize);
a.tickDecimals=Math.max(0,null!=j?j:n);a.tickSize=b.tickSize||c;e=function(a){var b=[],f=d(a.min,a.tickSize),c=0,e=Number.NaN,j;do{j=e;e=f+c*a.tickSize;b.push(e);++c}while(e<a.max&&e!=j);return b};c=function(a,b){return a.toFixed(b.tickDecimals)}}if(null!=b.alignTicksWithAxis){var g=("x"==a.direction?L:N)[b.alignTicksWithAxis-1];if(g&&g.used&&g!=a){e=e(a);if(0<e.length&&(null==b.min&&(a.min=Math.min(a.min,e[0])),null==b.max&&1<e.length))a.max=Math.max(a.max,e[e.length-1]);e=function(a){var b=[],f,
d;for(d=0;d<g.ticks.length;++d)f=(g.ticks[d].v-g.min)/(g.max-g.min),f=a.min+f*(a.max-a.min),b.push(f);return b};"time"!=a.mode&&null==b.tickDecimals&&(f=Math.max(0,-Math.floor(Math.log(f)/Math.LN10)+1),k=e(a),1<k.length&&/\..*0$/.test((k[1]-k[0]).toFixed(f))||(a.tickDecimals=f))}}a.tickGenerator=e;a.tickFormatter=r.isFunction(b.tickFormatter)?function(a,f){return""+b.tickFormatter(a,f)}:c}function D(){u.clearRect(0,0,U,V);var a=f.grid;a.show&&!a.aboveData&&J();for(var b=0;b<G.length;++b){g(X.drawSeries,
[u,G[b]]);var d=G[b];d.lines.show&&I(d);d.bars.show&&C(d);d.points.show&&S(d)}g(X.draw,[u]);a.show&&a.aboveData&&J()}function A(a,b){var f,d,c,e,j;e=p();for(i=0;i<e.length;++i)if(f=e[i],f.direction==b&&(j=b+f.n+"axis",!a[j]&&1==f.n&&(j=b+"axis"),a[j])){d=a[j].from;c=a[j].to;break}a[j]||(f="x"==b?L[0]:N[0],d=a[b+"1"],c=a[b+"2"]);null!=d&&(null!=c&&d>c)&&(e=d,d=c,c=e);return{from:d,to:c,axis:f}}function J(){var a;u.save();u.translate(E.left,E.top);f.grid.backgroundColor&&(u.fillStyle=ja(f.grid.backgroundColor,
W,0,"rgba(255, 255, 255, 0)"),u.fillRect(0,0,$,W));var b=f.grid.markings;if(b){if(r.isFunction(b)){var d=K.getAxes();d.xmin=d.xaxis.min;d.xmax=d.xaxis.max;d.ymin=d.yaxis.min;d.ymax=d.yaxis.max;b=b(d)}for(a=0;a<b.length;++a){var d=b[a],c=A(d,"x"),e=A(d,"y");null==c.from&&(c.from=c.axis.min);null==c.to&&(c.to=c.axis.max);null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);c.to<c.axis.min||(c.from>c.axis.max||e.to<e.axis.min||e.from>e.axis.max)||(c.from=Math.max(c.from,c.axis.min),c.to=Math.min(c.to,
c.axis.max),e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),c.from==c.to&&e.from==e.to||(c.from=c.axis.p2c(c.from),c.to=c.axis.p2c(c.to),e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),c.from==c.to||e.from==e.to?(u.beginPath(),u.strokeStyle=d.color||f.grid.markingsColor,u.lineWidth=d.lineWidth||f.grid.markingsLineWidth,u.moveTo(c.from,e.from),u.lineTo(c.to,e.to),u.stroke()):(u.fillStyle=d.color||f.grid.markingsColor,u.fillRect(c.from,e.to,c.to-c.from,e.from-e.to))))}}d=p();b=f.grid.borderWidth;
for(c=0;c<d.length;++c){e=d[c];a=e.box;var j=e.tickLength,k,o,n,g;u.strokeStyle=e.options.tickColor||r.color.parse(e.options.color).scale("a",0.22).toString();u.lineWidth=1;"x"==e.direction?(k=0,o="full"==j?"top"==e.position?0:W:a.top-E.top+("top"==e.position?a.height:0)):(o=0,k="full"==j?"left"==e.position?0:$:a.left-E.left+("left"==e.position?a.width:0));e.innermost||(u.beginPath(),n=g=0,"x"==e.direction?n=$:g=W,1==u.lineWidth&&(k=Math.floor(k)+0.5,o=Math.floor(o)+0.5),u.moveTo(k,o),u.lineTo(k+
n,o+g),u.stroke());u.beginPath();for(a=0;a<e.ticks.length;++a){var t=e.ticks[a].v;n=g=0;t<e.min||(t>e.max||"full"==j&&0<b&&(t==e.min||t==e.max))||("x"==e.direction?(k=e.p2c(t),g="full"==j?-W:j,"top"==e.position&&(g=-g)):(o=e.p2c(t),n="full"==j?-$:j,"left"==e.position&&(n=-n)),1==u.lineWidth&&("x"==e.direction?k=Math.floor(k)+0.5:o=Math.floor(o)+0.5),u.moveTo(k,o),u.lineTo(k+n,o+g))}u.stroke()}b&&(u.lineWidth=b,u.strokeStyle=f.grid.borderColor,u.strokeRect(-b/2,-b/2,$+b,W+b));u.restore()}function I(a){function b(a,
f,d,c,e){var j=a.points,a=a.pointsize,k=null,o=null;u.beginPath();for(var n=a;n<j.length;n+=a){var g=j[n-a],q=j[n-a+1],t=j[n],p=j[n+1];if(!(null==g||null==t)){if(q<=p&&q<e.min){if(p<e.min)continue;g=(e.min-q)/(p-q)*(t-g)+g;q=e.min}else if(p<=q&&p<e.min){if(q<e.min)continue;t=(e.min-q)/(p-q)*(t-g)+g;p=e.min}if(q>=p&&q>e.max){if(p>e.max)continue;g=(e.max-q)/(p-q)*(t-g)+g;q=e.max}else if(p>=q&&p>e.max){if(q>e.max)continue;t=(e.max-q)/(p-q)*(t-g)+g;p=e.max}if(g<=t&&g<c.min){if(t<c.min)continue;q=(c.min-
g)/(t-g)*(p-q)+q;g=c.min}else if(t<=g&&t<c.min){if(g<c.min)continue;p=(c.min-g)/(t-g)*(p-q)+q;t=c.min}if(g>=t&&g>c.max){if(t>c.max)continue;q=(c.max-g)/(t-g)*(p-q)+q;g=c.max}else if(t>=g&&t>c.max){if(g>c.max)continue;p=(c.max-g)/(t-g)*(p-q)+q;t=c.max}(g!=k||q!=o)&&u.moveTo(c.p2c(g)+f,e.p2c(q)+d);k=t;o=p;u.lineTo(c.p2c(t)+f,e.p2c(p)+d)}}u.stroke()}u.save();u.translate(E.left,E.top);u.lineJoin="round";var d=a.lines.lineWidth,f=a.shadowSize;if(0<d&&0<f){u.lineWidth=f;u.strokeStyle="rgba(0,0,0,0.1)";
var c=Math.PI/18;b(a.datapoints,Math.sin(c)*(d/2+f/2),Math.cos(c)*(d/2+f/2),a.xaxis,a.yaxis);u.lineWidth=f/2;b(a.datapoints,Math.sin(c)*(d/2+f/4),Math.cos(c)*(d/2+f/4),a.xaxis,a.yaxis)}u.lineWidth=d;u.strokeStyle=a.color;if(f=T(a.lines,a.color,0,W)){u.fillStyle=f;for(var e=a.datapoints,f=a.xaxis,c=a.yaxis,j=e.points,e=e.pointsize,k=Math.min(Math.max(0,c.min),c.max),o=0,n=!1,g=1,t=0,r=0;!(0<e&&o>j.length+e);){var o=o+e,q=j[o-e],p=j[o-e+g],v=j[o],C=j[o+g];if(n){if(0<e&&null!=q&&null==v){r=o;e=-e;g=
2;continue}if(0>e&&o==t+e){u.fill();n=!1;e=-e;g=1;o=t=r+e;continue}}if(!(null==q||null==v)){if(q<=v&&q<f.min){if(v<f.min)continue;p=(f.min-q)/(v-q)*(C-p)+p;q=f.min}else if(v<=q&&v<f.min){if(q<f.min)continue;C=(f.min-q)/(v-q)*(C-p)+p;v=f.min}if(q>=v&&q>f.max){if(v>f.max)continue;p=(f.max-q)/(v-q)*(C-p)+p;q=f.max}else if(v>=q&&v>f.max){if(q>f.max)continue;C=(f.max-q)/(v-q)*(C-p)+p;v=f.max}n||(u.beginPath(),u.moveTo(f.p2c(q),c.p2c(k)),n=!0);if(p>=c.max&&C>=c.max)u.lineTo(f.p2c(q),c.p2c(c.max)),u.lineTo(f.p2c(v),
c.p2c(c.max));else if(p<=c.min&&C<=c.min)u.lineTo(f.p2c(q),c.p2c(c.min)),u.lineTo(f.p2c(v),c.p2c(c.min));else{var w=q,H=v;p<=C&&p<c.min&&C>=c.min?(q=(c.min-p)/(C-p)*(v-q)+q,p=c.min):C<=p&&(C<c.min&&p>=c.min)&&(v=(c.min-p)/(C-p)*(v-q)+q,C=c.min);p>=C&&p>c.max&&C<=c.max?(q=(c.max-p)/(C-p)*(v-q)+q,p=c.max):C>=p&&(C>c.max&&p<=c.max)&&(v=(c.max-p)/(C-p)*(v-q)+q,C=c.max);q!=w&&u.lineTo(f.p2c(w),c.p2c(p));u.lineTo(f.p2c(q),c.p2c(p));u.lineTo(f.p2c(v),c.p2c(C));v!=H&&(u.lineTo(f.p2c(v),c.p2c(C)),u.lineTo(f.p2c(H),
c.p2c(C)))}}}}0<d&&b(a.datapoints,0,0,a.xaxis,a.yaxis);u.restore()}function S(a){function b(a,f,c,d,e,j,k){for(var o=a.points,a=a.pointsize,g=0;g<o.length;g+=a){var n=o[g],q=o[g+1];null==n||(n<j.min||n>j.max||q<k.min||q>k.max)||(u.beginPath(),u.arc(j.p2c(n),k.p2c(q)+d,f,0,e,!1),c&&(u.fillStyle=c,u.fill()),u.stroke())}}u.save();u.translate(E.left,E.top);var f=a.lines.lineWidth,c=a.shadowSize,d=a.points.radius;0<f&&0<c&&(c/=2,u.lineWidth=c,u.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,d,null,c+c/2,
Math.PI,a.xaxis,a.yaxis),u.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,d,null,c/2,Math.PI,a.xaxis,a.yaxis));u.lineWidth=f;u.strokeStyle=a.color;b(a.datapoints,d,T(a.points,a.color),0,2*Math.PI,a.xaxis,a.yaxis);u.restore()}function F(a,b,c,f,d,e,j,k,o,g,n,q){var t,p,r,v;n?(v=p=r=!0,t=!1,n=c,c=b+f,d=b+d,a<n&&(b=a,a=n,n=b,t=!0,p=!1)):(t=p=r=!0,v=!1,n=a+f,a+=d,d=c,c=b,c<d&&(b=c,c=d,d=b,v=!0,r=!1));if(!(a<k.min||n>k.max||c<o.min||d>o.max))if(n<k.min&&(n=k.min,t=!1),a>k.max&&(a=k.max,p=!1),d<o.min&&(d=
o.min,v=!1),c>o.max&&(c=o.max,r=!1),n=k.p2c(n),d=o.p2c(d),a=k.p2c(a),c=o.p2c(c),j&&(g.beginPath(),g.moveTo(n,d),g.lineTo(n,c),g.lineTo(a,c),g.lineTo(a,d),g.fillStyle=j(d,c),g.fill()),0<q&&(t||p||r||v))g.beginPath(),g.moveTo(n,d+e),t?g.lineTo(n,c+e):g.moveTo(n,c+e),r?g.lineTo(a,c+e):g.moveTo(a,c+e),p?g.lineTo(a,d+e):g.moveTo(a,d+e),v?g.lineTo(n,d+e):g.moveTo(n,d+e),g.stroke()}function C(a){u.save();u.translate(E.left,E.top);u.lineWidth=a.bars.lineWidth;u.strokeStyle=a.color;for(var b="left"==a.bars.align?
0:-a.bars.barWidth/2,c=a.datapoints,d=b+a.bars.barWidth,f=a.bars.fill?function(b,c){return T(a.bars,a.color,b,c)}:null,e=a.xaxis,j=a.yaxis,k=c.points,c=c.pointsize,g=0;g<k.length;g+=c)null!=k[g]&&F(k[g],k[g+1],k[g+2],b,d,0,f,e,j,u,a.bars.horizontal,a.bars.lineWidth);u.restore()}function T(a,b,c,d){var f=a.fill;if(!f)return null;if(a.fillColor)return ja(a.fillColor,c,d,b);a=r.color.parse(b);a.a="number"==typeof f?f:0.4;a.normalize();return a.toString()}function ma(a){f.grid.hoverable&&M("plothover",
a,function(a){return!1!=a.hoverable})}function la(a){M("plotclick",a,function(a){return!1!=a.clickable})}function M(a,b,d){var e=ea.offset(),j=b.pageX-e.left-E.left,k=b.pageY-e.top-E.top,g=o({left:j,top:k});g.pageX=b.pageX;g.pageY=b.pageY;var b=f.grid.mouseActiveRadius,n=b*b+1,q=null,t,p;for(t=G.length-1;0<=t;--t)if(d(G[t])){var r=G[t],v=r.xaxis,C=r.yaxis,u=r.datapoints.points,w=r.datapoints.pointsize,H=v.c2p(j),A=C.c2p(k),O=b/v.scale,T=b/C.scale;if(r.lines.show||r.points.show)for(p=0;p<u.length;p+=
w){var B=u[p],D=u[p+1];if(null!=B&&!(B-H>O||B-H<-O||D-A>T||D-A<-T))B=Math.abs(v.p2c(B)-j),D=Math.abs(C.p2c(D)-k),D=B*B+D*D,D<n&&(n=D,q=[t,p/w])}if(r.bars.show&&!q){v="left"==r.bars.align?0:-r.bars.barWidth/2;r=v+r.bars.barWidth;for(p=0;p<u.length;p+=w)if(B=u[p],D=u[p+1],C=u[p+2],null!=B&&(G[t].bars.horizontal?H<=Math.max(C,B)&&H>=Math.min(C,B)&&A>=D+v&&A<=D+r:H>=B+v&&H<=B+r&&A>=Math.min(C,D)&&A<=Math.max(C,D)))q=[t,p/w]}}q?(t=q[0],p=q[1],w=G[t].datapoints.pointsize,d={datapoint:G[t].datapoints.points.slice(p*
w,(p+1)*w),dataIndex:p,series:G[t],seriesIndex:t}):d=null;d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+e.left+E.left),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+e.top+E.top));if(f.grid.autoHighlight){for(e=0;e<Z.length;++e)j=Z[e],j.auto==a&&(!d||!(j.series==d.series&&j.point==d.datapoint))&&aa(j.series,j.point);d&&ga(d.series,d.datapoint,a)}c.trigger(a,[g,d])}function Y(){na||(na=setTimeout(ia,30))}function ia(){na=null;P.save();P.clearRect(0,0,U,V);P.translate(E.left,E.top);var a,
b;for(a=0;a<Z.length;++a)if(b=Z[a],b.series.bars.show)fa(b.series,b.point);else{var d=b.series,c=b.point;b=c[0];var c=c[1],f=d.xaxis,e=d.yaxis;if(!(b<f.min||b>f.max||c<e.min||c>e.max)){var j=d.points.radius+d.points.lineWidth/2;P.lineWidth=j;P.strokeStyle=r.color.parse(d.color).scale("a",0.5).toString();d=1.5*j;P.beginPath();P.arc(f.p2c(b),e.p2c(c),d,0,2*Math.PI,!1);P.stroke()}}P.restore();g(X.drawOverlay,[P])}function ga(a,b,d){"number"==typeof a&&(a=G[a]);if("number"==typeof b)var c=a.datapoints.pointsize,
b=a.datapoints.points.slice(c*b,c*(b+1));c=B(a,b);-1==c?(Z.push({series:a,point:b,auto:d}),Y()):d||(Z[c].auto=!1)}function aa(a,b){null==a&&null==b&&(Z=[],Y());"number"==typeof a&&(a=G[a]);"number"==typeof b&&(b=a.data[b]);var c=B(a,b);-1!=c&&(Z.splice(c,1),Y())}function B(a,b){for(var c=0;c<Z.length;++c){var d=Z[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function fa(a,b){P.lineWidth=a.bars.lineWidth;P.strokeStyle=r.color.parse(a.color).scale("a",0.5).toString();var c=
r.color.parse(a.color).scale("a",0.5).toString(),d="left"==a.bars.align?0:-a.bars.barWidth/2;F(b[0],b[1],b[2]||0,d,d+a.bars.barWidth,0,function(){return c},a.xaxis,a.yaxis,P,a.bars.horizontal,a.bars.lineWidth)}function ja(a,b,c,d){if("string"==typeof a)return a;for(var b=u.createLinearGradient(0,c,0,b),c=0,f=a.colors.length;c<f;++c){var e=a.colors[c];if("string"!=typeof e){var j=r.color.parse(d);null!=e.brightness&&(j=j.scale("rgb",e.brightness));null!=e.opacity&&(j.a*=e.opacity);e=j.toString()}b.addColorStop(c/
(f-1),e)}return b}var G=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,
tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,
markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},ha=null,da=null,ea=null,u=null,P=null,L=[],N=[],E={left:0,right:0,top:0,bottom:0},U=0,V=0,$=0,W=0,X={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[]},K=this;K.setData=b;K.setupGrid=v;K.draw=D;K.getPlaceholder=function(){return c};K.getCanvas=function(){return ha};K.getPlotOffset=function(){return E};K.width=
function(){return $};K.height=function(){return W};K.offset=function(){var a=ea.offset();a.left+=E.left;a.top+=E.top;return a};K.getData=function(){return G};K.getAxis=function(a,b){var c=(a==x?L:N)[b-1];c&&!c.used&&(c=null);return c};K.getAxes=function(){var a={},b;for(b=0;b<L.length;++b)a["x"+(b?b+1:"")+"axis"]=L[b]||{};for(b=0;b<N.length;++b)a["y"+(b?b+1:"")+"axis"]=N[b]||{};a.x2axis||(a.x2axis={n:2});a.y2axis||(a.y2axis={n:2});return a};K.getXAxes=function(){return L};K.getYAxes=function(){return N};
K.getUsedAxes=p;K.c2p=o;K.p2c=function(a){var b={},c,d,f;for(c=0;c<L.length;++c)if((d=L[c])&&d.used)if(f="x"+d.n,null==a[f]&&1==d.n&&(f="x"),a[f]){b.left=d.p2c(a[f]);break}for(c=0;c<N.length;++c)if((d=N[c])&&d.used)if(f="y"+d.n,null==a[f]&&1==d.n&&(f="y"),a[f]){b.top=d.p2c(a[f]);break}return b};K.getOptions=function(){return f};K.highlight=ga;K.unhighlight=aa;K.triggerRedrawOverlay=Y;K.pointOffset=function(a){return{left:parseInt(L[k(a,"x")-1].p2c(+a.x)+E.left),top:parseInt(N[k(a,"y")-1].p2c(+a.y)+
E.top)}};K.hooks=X;for(da=0;da<j.length;++da){var ka=j[da];ka.init(K);ka.options&&r.extend(!0,f,ka.options)}r.extend(!0,f,a);null==f.xaxis.color&&(f.xaxis.color=f.grid.color);null==f.yaxis.color&&(f.yaxis.color=f.grid.color);null==f.xaxis.tickColor&&(f.xaxis.tickColor=f.grid.tickColor);null==f.yaxis.tickColor&&(f.yaxis.tickColor=f.grid.tickColor);null==f.grid.borderColor&&(f.grid.borderColor=f.grid.color);null==f.grid.tickColor&&(f.grid.tickColor=r.color.parse(f.grid.color).scale("a",0.22).toString());
for(a=0;a<Math.max(1,f.xaxes.length);++a)f.xaxes[a]=r.extend(!0,{},f.xaxis,f.xaxes[a]);for(a=0;a<Math.max(1,f.yaxes.length);++a)f.yaxes[a]=r.extend(!0,{},f.yaxis,f.yaxes[a]);f.xaxis.noTicks&&null==f.xaxis.ticks&&(f.xaxis.ticks=f.xaxis.noTicks);f.yaxis.noTicks&&null==f.yaxis.ticks&&(f.yaxis.ticks=f.yaxis.noTicks);f.x2axis&&(f.y2axis.position="top",f.xaxes[1]=f.x2axis);f.y2axis&&(void 0===f.y2axis.autoscaleMargin&&(f.y2axis.autoscaleMargin=0.02),f.y2axis.position="right",f.yaxes[1]=f.y2axis);f.grid.coloredAreas&&
(f.grid.markings=f.grid.coloredAreas);f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor);f.lines&&r.extend(!0,f.series.lines,f.lines);f.points&&r.extend(!0,f.series.points,f.points);f.bars&&r.extend(!0,f.series.bars,f.bars);f.shadowSize&&(f.series.shadowSize=f.shadowSize);for(a=0;a<f.xaxes.length;++a)n(L,a+1).options=f.xaxes[a];for(a=0;a<f.yaxes.length;++a)n(N,a+1).options=f.yaxes[a];for(var ba in X)f.hooks[ba]&&f.hooks[ba].length&&(X[ba]=X[ba].concat(f.hooks[ba]));g(X.processOptions,
[f]);ba=function(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;c.getContext||(c=window.G_vmlCanvasManager.initElement(c));return c};U=c.width();V=c.height();c.html("");"static"==c.css("position")&&c.css("position","relative");if(0>=U||0>=V)throw"Invalid dimensions for plot, width = "+U+", height = "+V;window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);ha=r(ba(U,V)).appendTo(c).get(0);u=ha.getContext("2d");da=r(ba(U,V)).css({position:"absolute",left:0,top:0}).appendTo(c).get(0);
P=da.getContext("2d");P.stroke();b(e);v();D();ea=r([da,ha]);f.grid.hoverable&&ea.mousemove(ma);f.grid.clickable&&ea.click(la);g(X.bindEvents,[ea]);var Z=[],na=null}function d(c,d){return d*Math.floor(c/d)}r.plot=function(c,d,a){return new e(r(c),d,a,r.plot.plugins)};r.plot.plugins=[];r.plot.formatDate=function(c,d,a){var e=function(a){a=""+a;return 1==a.length?"0"+a:a},g=[],b=!1,k=!1,o=c.getUTCHours(),p=12>o;null==a&&(a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=d.search(/%p|%P/)&&
(12<o?o-=12:0==o&&(o=12));for(var n=0;n<d.length;++n){var q=d.charAt(n);if(b){switch(q){case "h":q=""+o;break;case "H":q=e(o);break;case "M":q=e(c.getUTCMinutes());break;case "S":q=e(c.getUTCSeconds());break;case "d":q=""+c.getUTCDate();break;case "m":q=""+(c.getUTCMonth()+1);break;case "y":q=""+c.getUTCFullYear();break;case "b":q=""+a[c.getUTCMonth()];break;case "p":q=p?"am":"pm";break;case "P":q=p?"AM":"PM";break;case "0":q="",k=!0}q&&k&&(q=e(q),k=!1);g.push(q);k||(b=!1)}else"%"==q?b=!0:g.push(q)}return g.join("")}})(jQuery);
(function(){jQuery.color={};jQuery.color.make=function(e,d,c,r){var a={};a.r=e||0;a.g=d||0;a.b=c||0;a.a=null!=r?r:1;a.add=function(c,d){for(var b=0;b<c.length;++b)a[c.charAt(b)]+=d;return a.normalize()};a.scale=function(c,d){for(var b=0;b<c.length;++b)a[c.charAt(b)]*=d;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function c(a,b,d){return b<a?a:b>d?d:b}a.r=c(0,parseInt(a.r),255);a.g=c(0,parseInt(a.g),
255);a.b=c(0,parseInt(a.b),255);a.a=c(0,a.a,1);return a};a.clone=function(){return jQuery.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};jQuery.color.extract=function(e,d){var c;do{c=e.css(d).toLowerCase();if(""!=c&&"transparent"!=c)break;e=e.parent()}while(!jQuery.nodeName(e.get(0),"body"));"rgba(0, 0, 0, 0)"==c&&(c="transparent");return jQuery.color.parse(c)};jQuery.color.parse=function(e){var d,c=jQuery.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return c(parseInt(d[1],
10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return c(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return c(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return c(2.55*
parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return c(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return c(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));e=jQuery.trim(e).toLowerCase();if("transparent"==e)return c(255,255,255,0);d=r[e];return c(d[0],d[1],d[2])};var r={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(r){r.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(d,c,e){if(null!=c.fillBetween){var a;a:{var d=d.getData(),j;for(j=0;j<d.length;++j)if(d[j].id==c.fillBetween){a=d[j];break a}"number"==typeof c.fillBetween?(j=c.fillBetween,a=0>j||j>=d.length?null:d[j]):a=null}if(a){d=e.pointsize;j=e.points;var g=a.datapoints.pointsize;a=a.datapoints.points;for(var b=[],k,o,p,n,q=c.lines.show,t=2<d&&e.format[2].y,r=q&&c.lines.steps,v=!0,w=0,D=0,A;!(w>=j.length);){A=b.length;
if(null==j[w]){for(m=0;m<d;++m)b.push(j[w+m]);w+=d}else if(D>=a.length){if(!q)for(m=0;m<d;++m)b.push(j[w+m]);w+=d}else if(null==a[D]){for(m=0;m<d;++m)b.push(null);v=!0;D+=g}else{k=j[w];o=j[w+1];c=a[D];p=a[D+1];n=0;if(k==c){for(m=0;m<d;++m)b.push(j[w+m]);n=p;w+=d;D+=g}else if(k>c){if(q&&0<w&&null!=j[w-d]){k=o+(j[w-d+1]-o)*(c-k)/(j[w-d]-k);b.push(c);b.push(k);for(m=2;m<d;++m)b.push(j[w+m]);n=p}D+=g}else{if(v&&q){w+=d;continue}for(m=0;m<d;++m)b.push(j[w+m]);q&&(0<D&&null!=a[D-g])&&(n=p+(a[D-g+1]-p)*
(k-c)/(a[D-g]-c));w+=d}v=!1;A!=b.length&&t&&(b[A+2]=n)}if(r&&A!=b.length&&0<A&&null!=b[A]&&b[A]!=b[A-d]&&b[A+1]!=b[A-d+1]){for(m=0;m<d;++m)b[A+d+m]=b[A+m];b[A+1]=b[A-d+1]}}e.points=b}}})},options:{series:{fillBetween:null}},name:"fillbetween",version:"1.0"})})(jQuery);
(function(r){function e(b){var c=this,o,p=b.data||{};if(p.elem)c=b.dragTarget=p.elem,b.dragProxy=g.proxy||c,b.cursorOffsetX=p.pageX-p.left,b.cursorOffsetY=p.pageY-p.top,b.offsetX=b.pageX-b.cursorOffsetX,b.offsetY=b.pageY-b.cursorOffsetY;else if(g.dragging||0<p.which&&b.which!=p.which||r(b.target).is(p.not))return;switch(b.type){case "mousedown":return r.extend(p,r(c).offset(),{elem:c,target:b.target,pageX:b.pageX,pageY:b.pageY}),a.add(document,"mousemove mouseup",e,p),O(c,!1),g.dragging=null,!1;case !g.dragging&&
"mousemove":if(Math.pow(b.pageX-p.pageX,2)+Math.pow(b.pageY-p.pageY,2)<p.distance)break;b.target=p.target;o=d(b,"dragstart",c);!1!==o&&(g.dragging=c,g.proxy=b.dragProxy=r(o||c)[0]);case "mousemove":if(g.dragging){o=d(b,"drag",c);j.drop&&(j.drop.allowed=!1!==o,j.drop.handler(b));if(!1!==o)break;b.type="mouseup"}case "mouseup":a.remove(document,"mousemove mouseup",e),g.dragging&&(j.drop&&j.drop.handler(b),d(b,"dragend",c)),O(c,!0),g.dragging=g.proxy=p.elem=!1}return!0}function d(a,c,d){a.type=c;c=r.event.handle.call(d,
a);return!1===c?!1:c||a.result}function c(){return!1===g.dragging}function O(a,c){a&&(a.unselectable=c?"off":"on",a.onselectstart=function(){return c},a.style&&(a.style.MozUserSelect=c?"":"none"))}r.fn.drag=function(a,c,d){c&&this.bind("dragstart",a);d&&this.bind("dragend",d);return!a?this.trigger("drag"):this.bind("drag",c?c:a)};var a=r.event,j=a.special,g=j.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(b){b=r.extend({distance:g.distance,which:g.which,not:g.not},b||{});b.distance=
Math.pow(b.distance,2);a.add(this,"mousedown",e,b);this.attachEvent&&this.attachEvent("ondragstart",c)},teardown:function(){a.remove(this,"mousedown",e);this===g.dragging&&(g.dragging=g.proxy=!1);O(this,!0);this.detachEvent&&this.detachEvent("ondragstart",c)}};j.dragstart=j.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(r){function e(c){var d=[].slice.call(arguments,1),a=0,c=r.event.fix(c||window.event);c.type="mousewheel";c.wheelDelta&&(a=c.wheelDelta/120);c.detail&&(a=-c.detail/3);d.unshift(c,a);return r.event.handle.apply(this,d)}var d=["DOMMouseScroll","mousewheel"];r.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var c=d.length;c;)this.addEventListener(d[--c],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var c=d.length;c;)this.removeEventListener(d[--c],
e,!1);else this.onmousewheel=null}};r.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},unmousewheel:function(c){return this.unbind("mousewheel",c)}})})(jQuery);
(function(r){r.plot.plugins.push({init:function(e){e.zoomOut=function(d){d||(d={});d.amount||(d.amount=e.getOptions().zoom.amount);d.amount=1/d.amount;e.zoom(d)};e.zoom=function(d){d||(d={});var c=d.center,O=d.amount||e.getOptions().zoom.amount,a=e.width(),j=e.height();c||(c={left:a/2,top:j/2});var g=c.left/a,b=c.top/j,k={x:{min:c.left-g*a/O,max:c.left+(1-g)*a/O},y:{min:c.top-b*j/O,max:c.top+(1-b)*j/O}};r.each(e.getUsedAxes(),function(a,b){var c=b.options,d=k[b.direction].min,e=k[b.direction].max,
d=b.c2p(d),e=b.c2p(e);if(d>e)var j=d,d=e,e=j;var j=e-d,g=c.zoomRange;if(!g||!(null!=g[0]&&j<g[0]||null!=g[1]&&j>g[1]))c.min=d,c.max=e});e.setupGrid();e.draw();d.preventEvent||e.getPlaceholder().trigger("plotzoom",[e])};e.pan=function(d){var c={x:+d.left,y:+d.top};isNaN(c.x)&&(c.x=0);isNaN(c.y)&&(c.y=0);r.each(e.getUsedAxes(),function(d,a){var e=a.options,g,b,k=c[a.direction];g=a.c2p(a.p2c(a.min)+k);b=a.c2p(a.p2c(a.max)+k);var o=e.panRange;if(o){if(o[0]!=null&&o[0]>g){k=o[0]-g;g=g+k;b=b+k}if(o[1]!=
null&&o[1]<b){k=o[1]-b;g=g+k;b=b+k}}e.min=g;e.max=b});e.setupGrid();e.draw();d.preventEvent||e.getPlaceholder().trigger("plotpan",[e])};e.hooks.bindEvents.push(function(d,c){var e=d.getOptions();if(e.zoom.interactive){var a=function(a,b){var c=d.offset();c.left=a.pageX-c.left;c.top=a.pageY-c.top;b?d.zoomOut({center:c}):d.zoom({center:c})};c[e.zoom.trigger](a);c.mousewheel(function(b,c){a(b,0>c);return!1})}if(e.pan.interactive){var j=0,g=0,b=null;c.bind("dragstart",{distance:10},function(a){if(1!=
a.which)return!1;eventHolderCursor=c.css("cursor");c.css("cursor","move");j=a.pageX;g=a.pageY});c.bind("drag",function(a){!b&&e.pan.frameRate&&(b=setTimeout(function(){d.pan({left:j-a.pageX,top:g-a.pageY});j=a.pageX;g=a.pageY;b=null},1E3*(1/e.pan.frameRate)))});c.bind("dragend",function(a){b&&(clearTimeout(b),b=null);c.css("cursor","default");d.pan({left:j-a.pageX,top:g-a.pageY})})}})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,
frameRate:20}},name:"navigate",version:"1.2"})})(jQuery);
(function(r){r.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(d,c,e){if(null!=c.stack){for(var a,d=d.getData(),j=null,g=0;g<d.length&&c!=d[g];++g)d[g].stack==c.stack&&(j=d[g]);if(a=j){d=e.pointsize;j=e.points;g=a.datapoints.pointsize;a=a.datapoints.points;var b=[],k,o,p,n,q,t,r=c.lines.show;n=c.bars.horizontal;var v=2<d&&(n?e.format[2].x:e.format[2].y),c=r&&c.lines.steps;p=!0;for(var w=n?1:0,D=n?0:1,A=0,J=0,I;!(A>=j.length);){I=b.length;if(null==j[A]){for(m=0;m<d;++m)b.push(j[A+
m]);A+=d}else if(J>=a.length){if(!r)for(m=0;m<d;++m)b.push(j[A+m]);A+=d}else if(null==a[J]){for(m=0;m<d;++m)b.push(null);p=!0;J+=g}else{k=j[A+w];o=j[A+D];n=a[J+w];q=a[J+D];t=0;if(k==n){for(m=0;m<d;++m)b.push(j[A+m]);b[I+D]+=q;t=q;A+=d;J+=g}else if(k>n){if(r&&0<A&&null!=j[A-d]){p=o+(j[A-d+D]-o)*(n-k)/(j[A-d+w]-k);b.push(n);b.push(p+q);for(m=2;m<d;++m)b.push(j[A+m]);t=q}J+=g}else{if(p&&r){A+=d;continue}for(m=0;m<d;++m)b.push(j[A+m]);r&&(0<J&&null!=a[J-g])&&(t=q+(a[J-g+D]-q)*(k-n)/(a[J-g+w]-n));b[I+
D]+=t;A+=d}p=!1;I!=b.length&&v&&(b[I+2]+=t)}if(c&&I!=b.length&&0<I&&null!=b[I]&&b[I]!=b[I-d]&&b[I+1]!=b[I-d+1]){for(m=0;m<d;++m)b[I+d+m]=b[I+m];b[I+1]=b[I-d+1]}}e.points=b}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})})(jQuery);
(function(r){function e(c,d,a){c=c.getPlotOffset();if(a.images&&a.images.show)for(var e=a.datapoints.points,g=a.datapoints.pointsize,b=0;b<e.length;b+=g){var k=e[b],o=e[b+1],p=e[b+2],n=e[b+3],q=e[b+4],t=a.xaxis,r=a.yaxis,v;if(k&&!(0>=k.width||0>=k.height))if(o>n&&(v=n,n=o,o=v),p>q&&(v=q,q=p,p=v),"center"==a.images.anchor&&(v=0.5*(n-o)/(k.width-1),o-=v,n+=v,v=0.5*(q-p)/(k.height-1),p-=v,q+=v),!(o==n||p==q||o>=t.max||n<=t.min||p>=r.max||q<=r.min)){var w=0,D=0,A=k.width,J=k.height;o<t.min&&(w+=(A-w)*
(t.min-o)/(n-o),o=t.min);n>t.max&&(A+=(A-w)*(t.max-n)/(n-o),n=t.max);p<r.min&&(J+=(D-J)*(r.min-p)/(q-p),p=r.min);q>r.max&&(D+=(D-J)*(r.max-q)/(q-p),q=r.max);o=t.p2c(o);n=t.p2c(n);p=r.p2c(p);q=r.p2c(q);o>n&&(v=n,n=o,o=v);p>q&&(v=q,q=p,p=v);v=d.globalAlpha;d.globalAlpha*=a.images.alpha;d.drawImage(k,w,D,A-w,J-D,o+c.left,p+c.top,n-o,q-p);d.globalAlpha=v}}}function d(c,d,a,e){d.images.show&&(e.format=[{required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0},{x:!0,number:!0,required:!0},
{y:!0,number:!0,required:!0}])}r.plot.image={};r.plot.image.loadDataImages=function(c,d,a){var e=[],g=[],b=d.series.images.show;r.each(c,function(a,c){if(b||c.images.show)c.data&&(c=c.data),r.each(c,function(a,b){if(typeof b[0]=="string"){e.push(b[0]);g.push(b)}})});r.plot.image.load(e,function(b){r.each(g,function(a,c){var d=c[0];b[d]&&(c[0]=b[d])});a()})};r.plot.image.load=function(c,d){var a=c.length,e={};0==a&&d({});r.each(c,function(c,b){var k=function(){--a;e[b]=this;0==a&&d(e)};r("<img />").load(k).error(k).attr("src",
b)})};r.plot.plugins.push({init:function(c){c.hooks.processRawData.push(d);c.hooks.drawSeries.push(e)},options:{series:{images:{show:!1,alpha:1,anchor:"corner"}}},name:"image",version:"1.1"})})(jQuery);
(function(r){var e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(d,c){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+c.color+';">'+d+"<br/>"+Math.round(c.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};r.plot.plugins.push({init:function(d){function c(a){S||
(S=!0,n=a.getCanvas(),q=r(n).parent(),e=a.getOptions(),a.setData(O(a.getData())))}function O(a){for(var b=0;b<a.length;++b)if("number"==typeof a[b].data)a[b].data=[[1,a[b].data]];else if("undefined"==typeof a[b].data||"undefined"==typeof a[b].data[0])"undefined"!=typeof a[b].data&&"undefined"!=typeof a[b].data.label&&(a[b].label=a[b].data.label),a[b].data=[[1,0]];for(var b=a,c=0;c<b.length;++c){var d=parseFloat(b[c].data[0][1]);d&&(w+=d)}for(var c=b=0,d=e.series.pie.combine.color,j=[],g=0;g<a.length;++g)a[g].data[0][1]=
parseFloat(a[g].data[0][1]),a[g].data[0][1]||(a[g].data[0][1]=0),a[g].data[0][1]/w<=e.series.pie.combine.threshold?(b+=a[g].data[0][1],c++,d||(d=a[g].color)):j.push({data:[[1,a[g].data[0][1]]],color:a[g].color,label:a[g].label,angle:a[g].data[0][1]*2*Math.PI/w,percent:100*(a[g].data[0][1]/w)});0<c&&j.push({data:[[1,b]],color:d,label:e.series.pie.combine.label,angle:b*2*Math.PI/w,percent:100*(b/w)});return j}function a(a,b){function c(){ctx.clearRect(0,0,n.width,n.height);q.children().filter(".pieLabel, .pieLabelBackground").remove()}
function d(){function a(d,e,f){0>=d||(f?ctx.fillStyle=e:(ctx.strokeStyle=e,ctx.lineJoin="round"),ctx.beginPath(),d!=2*Math.PI?ctx.moveTo(0,0):r.browser.msie&&(d-=1E-4),ctx.arc(0,0,b,c,c+d,!1),ctx.closePath(),c+=d,f?ctx.fill():ctx.stroke())}startAngle=Math.PI*e.series.pie.startAngle;var b=1<e.series.pie.radius?e.series.pie.radius:t*e.series.pie.radius;ctx.save();ctx.translate(H,v);ctx.scale(1,e.series.pie.tilt);ctx.save();for(var c=startAngle,k=0;k<g.length;++k)g[k].startAngle=c,a(g[k].angle,g[k].color,
!0);ctx.restore();ctx.save();ctx.lineWidth=e.series.pie.stroke.width;c=startAngle;for(k=0;k<g.length;++k)a(g[k].angle,e.series.pie.stroke.color,!1);ctx.restore();j(ctx);if(e.series.pie.label.show)for(var k=startAngle,o=1<e.series.pie.label.radius?e.series.pie.label.radius:t*e.series.pie.label.radius,f=0;f<g.length;++f){if(g[f].percent>=100*e.series.pie.label.threshold){var p=g[f],C=k,w=f;if(0!=p.data[0][1]){var u=e.legend.labelFormatter,A=void 0,T=e.series.pie.label.formatter,A=u?u(p.label,p):p.label;
T&&(A=T(A,p));u=(C+p.angle+C)/2;C=H+Math.round(Math.cos(u)*o);u=v+Math.round(Math.sin(u)*o)*e.series.pie.tilt;q.append('<span class="pieLabel" id="pieLabel'+w+'" style="position:absolute;top:'+u+"px;left:"+C+'px;">'+A+"</span>");w=q.children("#pieLabel"+w);A=u-w.height()/2;u=C-w.width()/2;w.css("top",A);w.css("left",u);if(0<0-A||0<0-u||0>n.height-(A+w.height())||0>n.width-(u+w.width()))D=!0;0!=e.series.pie.label.background.opacity&&(C=e.series.pie.label.background.color,null==C&&(C=p.color),p="top:"+
A+"px;left:"+u+"px;",r('<div class="pieLabelBackground" style="position:absolute;width:'+w.width()+"px;height:"+w.height()+"px;"+p+"background-color:"+C+';"> </div>').insertBefore(w).css("opacity",e.series.pie.label.background.opacity))}}k+=g[f].angle}ctx.restore()}if(q){ctx=b;I=q.children().filter(".legend").children().width();t=Math.min(n.width,n.height/e.series.pie.tilt)/2;v=n.height/2+e.series.pie.offset.top;H=n.width/2;H="auto"==e.series.pie.offset.left?e.legend.position.match("w")?H+I/2:H-I/
2:H+e.series.pie.offset.left;H<t?H=t:H>n.width-t&&(H=n.width-t);for(var g=a.getData(),k=0;D&&k<A;){D=!1;0<k&&(t*=J);k+=1;c();if(0.8>=e.series.pie.tilt){var o=1<e.series.pie.radius?e.series.pie.radius:t*e.series.pie.radius;if(!(o>=n.width/2-5||o*e.series.pie.tilt>=n.height/2-15||10>=o)){ctx.save();ctx.translate(5,15);ctx.globalAlpha=0.02;ctx.fillStyle="#000";ctx.translate(H,v);ctx.scale(1,e.series.pie.tilt);for(var p=1;10>=p;p++)ctx.beginPath(),ctx.arc(0,0,o,0,2*Math.PI,!1),ctx.fill(),o-=p;ctx.restore()}}d()}k>=
A&&(c(),q.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>'));a.setSeries&&a.insertLegend&&(a.setSeries(g),a.insertLegend())}}function j(a){0<e.series.pie.innerRadius&&(a.save(),innerRadius=1<e.series.pie.innerRadius?e.series.pie.innerRadius:t*e.series.pie.innerRadius,a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=e.series.pie.stroke.color,a.arc(0,0,innerRadius,0,2*Math.PI,!1),a.fill(),a.closePath(),a.restore(),a.save(),a.beginPath(),
a.strokeStyle=e.series.pie.stroke.color,a.arc(0,0,innerRadius,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.restore())}function g(a){k("plothover",a)}function b(a){k("plotclick",a)}function k(a,b){var c=d.offset(),j=parseInt(b.pageX-c.left);a:{for(var c=parseInt(b.pageY-c.top),g=d.getData(),k=d.getOptions(),k=1<k.series.pie.radius?k.series.pie.radius:t*k.series.pie.radius,n=0;n<g.length;++n){var p=g[n];if(p.pie.show){ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,0,k,p.startAngle,p.startAngle+
p.angle,!1);ctx.closePath();x=j-H;y=c-v;if(ctx.isPointInPath){if(ctx.isPointInPath(j-H,c-v)){ctx.restore();j={datapoint:[p.percent,p.data],dataIndex:0,series:p,seriesIndex:n};break a}}else{p1X=k*Math.cos(p.startAngle);p1Y=k*Math.sin(p.startAngle);p2X=k*Math.cos(p.startAngle+p.angle/4);p2Y=k*Math.sin(p.startAngle+p.angle/4);p3X=k*Math.cos(p.startAngle+p.angle/2);p3Y=k*Math.sin(p.startAngle+p.angle/2);p4X=k*Math.cos(p.startAngle+p.angle/1.5);p4Y=k*Math.sin(p.startAngle+p.angle/1.5);p5X=k*Math.cos(p.startAngle+
p.angle);p5Y=k*Math.sin(p.startAngle+p.angle);arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]];arrPoint=[x,y];for(var r=!1,w=-1,A=arrPoly.length,D=A-1;++w<A;D=w)(arrPoly[w][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[D][1]||arrPoly[D][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[w][1])&&arrPoint[0]<(arrPoly[D][0]-arrPoly[w][0])*(arrPoint[1]-arrPoly[w][1])/(arrPoly[D][1]-arrPoly[w][1])+arrPoly[w][0]&&(r=!r);if(r){ctx.restore();j={datapoint:[p.percent,p.data],dataIndex:0,series:p,seriesIndex:n};break a}}ctx.restore()}}j=
null}if(e.grid.autoHighlight)for(c=0;c<F.length;++c)if(g=F[c],g.auto==a&&!(j&&g.series==j.series)&&(g=g.series,null==g&&(F=[],d.triggerRedrawOverlay()),"number"==typeof g&&(g=series[g]),g=o(g),-1!=g))F.splice(g,1),d.triggerRedrawOverlay();j&&(c=j.series,"number"==typeof c&&(c=series[c]),g=o(c),-1==g?(F.push({series:c,auto:a}),d.triggerRedrawOverlay()):a||(F[g].auto=!1),q.trigger(a,[{pageX:b.pageX,pageY:b.pageY},j]))}function o(a){for(var b=0;b<F.length;++b)if(F[b].series==a)return b;return-1}function p(a,
b){var c=a.getOptions(),d=1<c.series.pie.radius?c.series.pie.radius:t*c.series.pie.radius;b.save();b.translate(H,v);b.scale(1,c.series.pie.tilt);for(i=0;i<F.length;++i){var e=F[i].series;0>e.angle||(b.fillStyle="rgba(255, 255, 255, "+c.series.pie.highlight.opacity+")",b.beginPath(),e.angle!=2*Math.PI&&b.moveTo(0,0),b.arc(0,0,d,e.startAngle,e.startAngle+e.angle,!1),b.closePath(),b.fill())}j(b);b.restore()}var n=null,q=null,t=null,H=null,v=null,w=0,D=!0,A=10,J=0.95,I=0,S=!1,F=[];d.hooks.processOptions.push(function(b,
d){d.series.pie.show&&(d.grid.show=!1,"auto"==d.series.pie.label.show&&(d.series.pie.label.show=d.legend.show?!1:!0),"auto"==d.series.pie.radius&&(d.series.pie.radius=d.series.pie.label.show?0.75:1),1<d.series.pie.tilt&&(d.series.pie.tilt=1),0>d.series.pie.tilt&&(d.series.pie.tilt=0),b.hooks.processDatapoints.push(c),b.hooks.drawOverlay.push(p),b.hooks.draw.push(a))});d.hooks.bindEvents.push(function(a,c){var d=a.getOptions();d.series.pie.show&&d.grid.hoverable&&c.unbind("mousemove").mousemove(g);
d.series.pie.show&&d.grid.clickable&&c.unbind("click").click(b)})},options:e,name:"pie",version:"1.0"})})(jQuery);
(function(r){r.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(d,c,e){if(c.threshold){var a=e.pointsize,j,g,b,k,o=r.extend({},c);o.datapoints={points:[],pointsize:a};o.label=null;o.color=c.threshold.color;o.threshold=null;o.originSeries=c;o.data=[];var p=c.threshold.below,n=e.points,q=c.lines.show;threspoints=[];newpoints=[];for(c=0;c<n.length;c+=a){j=n[c];g=n[c+1];k=b;b=g<p?threspoints:newpoints;if(q&&k!=b&&null!=j&&0<c&&null!=n[c-a]){var t=(j-n[c-a])/(g-n[c-a+1])*(p-
g)+j;k.push(t);k.push(p);for(m=2;m<a;++m)k.push(n[c+m]);b.push(null);b.push(null);for(m=2;m<a;++m)b.push(n[c+m]);b.push(t);b.push(p);for(m=2;m<a;++m)b.push(n[c+m])}b.push(j);b.push(g)}e.points=newpoints;o.datapoints.points=threspoints;0<o.datapoints.points.length&&d.getData().push(o)}})},options:{series:{threshold:null}},name:"threshold",version:"1.0"})})(jQuery);
(function(r){r.plot.plugins.push({init:function(e){var d=-1,c=-1,r=!1;e.setCrosshair=function(a){a?(a=e.p2c(a),d=Math.max(0,Math.min(a.left,e.width())),c=Math.max(0,Math.min(a.top,e.height()))):d=-1;e.triggerRedrawOverlay()};e.clearCrosshair=e.setCrosshair;e.lockCrosshair=function(a){a&&e.setCrosshair(a);r=!0};e.unlockCrosshair=function(){r=!1};e.hooks.bindEvents.push(function(a,e){a.getOptions().crosshair.mode&&(e.mouseout(function(){!r&&-1!=d&&(d=-1,a.triggerRedrawOverlay())}),e.mousemove(function(e){if(!r)if(a.getSelection&&
a.getSelection())d=-1;else{var b=a.offset();d=Math.max(0,Math.min(e.pageX-b.left,a.width()));c=Math.max(0,Math.min(e.pageY-b.top,a.height()));a.triggerRedrawOverlay()}}))});e.hooks.drawOverlay.push(function(a,e){var g=a.getOptions().crosshair;if(g.mode){var b=a.getPlotOffset();e.save();e.translate(b.left,b.top);-1!=d&&(e.strokeStyle=g.color,e.lineWidth=g.lineWidth,e.lineJoin="round",e.beginPath(),-1!=g.mode.indexOf("x")&&(e.moveTo(d,0),e.lineTo(d,a.height())),-1!=g.mode.indexOf("y")&&(e.moveTo(0,
c),e.lineTo(a.width(),c)),e.stroke());e.restore()}})},options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})})(jQuery);
(function(r){r.plot.plugins.push({init:function(e){function d(c){n.active&&(e.getPlaceholder().trigger("plotselecting",[a()]),b(c))}function c(a){1==a.which&&(document.body.focus(),void 0!==document.onselectstart&&null==q.onselectstart&&(q.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==q.ondrag&&(q.ondrag=document.ondrag,document.ondrag=function(){return false}),g(n.first,a),n.active=!0,r(document).one("mouseup",O))}function O(a){void 0!==
document.onselectstart&&(document.onselectstart=q.onselectstart);void 0!==document.ondrag&&(document.ondrag=q.ondrag);n.active=!1;b(a);p()?j():(e.getPlaceholder().trigger("plotunselected",[]),e.getPlaceholder().trigger("plotselecting",[null]));return!1}function a(){if(!p())return null;var a={},b=n.first,c=n.second;r.each(e.getAxes(),function(d,e){if(e.used){var g=e.c2p(b[e.direction]),j=e.c2p(c[e.direction]);a[d]={from:Math.min(g,j),to:Math.max(g,j)}}});return a}function j(){var b=a();e.getPlaceholder().trigger("plotselected",
[b]);b.xaxis&&b.yaxis&&e.getPlaceholder().trigger("selected",[{x1:b.xaxis.from,y1:b.yaxis.from,x2:b.xaxis.to,y2:b.yaxis.to}])}function g(a,b){var c=e.getOptions(),d=e.getPlaceholder().offset(),g=e.getPlotOffset(),j=b.pageX-d.left-g.left,k=e.width();a.x=0>j?0:j>k?k:j;d=b.pageY-d.top-g.top;g=e.height();a.y=0>d?0:d>g?g:d;"y"==c.selection.mode&&(a.x=a==n.first?0:e.width());"x"==c.selection.mode&&(a.y=a==n.first?0:e.height())}function b(a){null!=a.pageX&&(g(n.second,a),p()?(n.show=!0,e.triggerRedrawOverlay()):
k(!0))}function k(a){n.show&&(n.show=!1,e.triggerRedrawOverlay(),a||e.getPlaceholder().trigger("plotunselected",[]))}function o(a,b){var c,d,g,j,k;j=e.getUsedAxes();for(i=0;i<j.length;++i)if(c=j[i],c.direction==b&&(k=b+c.n+"axis",!a[k]&&1==c.n&&(k=b+"axis"),a[k])){d=a[k].from;g=a[k].to;break}a[k]||(c="x"==b?e.getXAxes()[0]:e.getYAxes()[0],d=a[b+"1"],g=a[b+"2"]);null!=d&&(null!=g&&d>g)&&(j=d,d=g,g=j);return{from:d,to:g,axis:c}}function p(){return 5<=Math.abs(n.second.x-n.first.x)&&5<=Math.abs(n.second.y-
n.first.y)}var n={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},q={};e.clearSelection=k;e.setSelection=function(a,b){var c,d=e.getOptions();"y"==d.selection.mode?(n.first.x=0,n.second.x=e.width()):(c=o(a,"x"),n.first.x=c.axis.p2c(c.from),n.second.x=c.axis.p2c(c.to));"x"==d.selection.mode?(n.first.y=0,n.second.y=e.height()):(c=o(a,"y"),n.first.y=c.axis.p2c(c.from),n.second.y=c.axis.p2c(c.to));n.show=!0;e.triggerRedrawOverlay();!b&&p()&&j()};e.getSelection=a;e.hooks.bindEvents.push(function(a,
b){var e=a.getOptions();null!=e.selection.mode&&b.mousemove(d);null!=e.selection.mode&&b.mousedown(c)});e.hooks.drawOverlay.push(function(a,b){if(n.show&&p()){var c=a.getPlotOffset(),d=a.getOptions();b.save();b.translate(c.left,c.top);c=r.color.parse(d.selection.color);b.strokeStyle=c.scale("a",0.8).toString();b.lineWidth=1;b.lineJoin="round";b.fillStyle=c.scale("a",0.4).toString();var c=Math.min(n.first.x,n.second.x),d=Math.min(n.first.y,n.second.y),e=Math.abs(n.second.x-n.first.x),g=Math.abs(n.second.y-
n.first.y);b.fillRect(c,d,e,g);b.strokeRect(c,d,e,g);b.restore()}})},options:{selection:{mode:null,color:"#e8cfac"}},name:"selection",version:"1.0"})})(jQuery);
(function(r,e){r(function(){r("#review-search").suggest({filter:"(all type:/type/domain)"});r("#review-search").bind("fb-select",function(a,b){window.location.href=e.h.fb_url("/review?","domain="+b.id)});var d=0,c=e.c.activeFlags.map(function(a){var b=new Date;b.setDate(b.getDate()-d++);return[b,a]}),d=0,O=e.c.activeJudgments.map(function(a){var b=new Date;b.setDate(b.getDate()-d++);return[b,a]}),a=r("#placeholder");r.plot(a,[{data:c,label:"Number of flags"},{data:O,label:"Number of judgments",yaxis:2}],
{xaxis:{mode:"time",label:"date"},yaxes:[{label:"Count"},{position:"left",label:"Count"}],grid:{hoverable:!0,clickable:!0},series:{points:{show:!0},lines:{show:!0}},legend:{show:!0,position:"se"}});var j=null;r("#placeholder-flags").bind("plothover",function(a,b,c){r("#x").text(b.x.toFixed(2));r("#y").text(b.y.toFixed(2));if(c){if(j!=c.datapoint){j=c.datapoint;r("#tooltip").remove();var b=new Date(c.datapoint[0]),d=c.datapoint[1].toFixed(0),a=c.pageX,c=c.pageY,b=b.toDateString()+" : "+d;r('<div id="tooltip">'+
b+"</div>").css({position:"absolute",display:"none",top:c-35,left:a+5,border:"1px solid #fdd",padding:"2px","background-color":"#fee",opacity:0.8}).appendTo("body").fadeIn(200)}}else r("#tooltip").remove(),j=null})})})(jQuery,window.freebase);
