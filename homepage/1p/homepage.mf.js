
/*
 * Copyright 2010, Google Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Additional Licenses for Third Party components can be found here:
 * http://wiki.freebase.com/wiki/Freebase_Site_License
 *
 */
document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new ea(this))}function O(a,g){var q=ta.call(arguments,2);return function(){return a.apply(g,q.concat(ta.call(arguments)))}}function v(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function y(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");
if(!a.styleSheets.ex_canvas_){a=a.createStyleSheet();a.owningElement.id="ex_canvas_";a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function M(a){var g=a.srcElement;switch(a.propertyName){case "width":g.getContext().clearRect();g.style.width=g.attributes.width.nodeValue+"px";g.firstChild.style.width=g.clientWidth+"px";break;case "height":g.getContext().clearRect();g.style.height=g.attributes.height.nodeValue+"px";g.firstChild.style.height=g.clientHeight+
"px";break}}function o(a){a=a.srcElement;if(a.firstChild){a.firstChild.style.width=a.clientWidth+"px";a.firstChild.style.height=a.clientHeight+"px"}}function A(){return[[1,0,0],[0,1,0],[0,0,1]]}function I(a,g){for(var q=A(),w=0;w<3;w++)for(var j=0;j<3;j++){for(var J=0,z=0;z<3;z++)J+=a[w][z]*g[z][j];q[w][j]=J}return q}function Q(a,g){g.fillStyle=a.fillStyle;g.lineCap=a.lineCap;g.lineJoin=a.lineJoin;g.lineWidth=a.lineWidth;g.miterLimit=a.miterLimit;g.shadowBlur=a.shadowBlur;g.shadowColor=a.shadowColor;
g.shadowOffsetX=a.shadowOffsetX;g.shadowOffsetY=a.shadowOffsetY;g.strokeStyle=a.strokeStyle;g.globalAlpha=a.globalAlpha;g.font=a.font;g.textAlign=a.textAlign;g.textBaseline=a.textBaseline;g.arcScaleX_=a.arcScaleX_;g.arcScaleY_=a.arcScaleY_;g.lineScale_=a.lineScale_}function V(a){var g=a.indexOf("(",3),q=a.indexOf(")",g+1);g=a.substring(g+1,q).split(",");if(g.length==4&&a.substr(3,1)=="a")alpha=Number(g[3]);else g[3]=1;return g}function da(a,g,q){return Math.min(q,Math.max(g,a))}function aa(a,g,q){q<
0&&q++;q>1&&q--;return 6*q<1?a+(g-a)*6*q:2*q<1?g:3*q<2?a+(g-a)*(2/3-q)*6:a}function W(a){var g=1;a=String(a);if(a.charAt(0)=="#")a=a;else if(/^rgb/.test(a)){g=V(a);a="#";for(var q,w=0;w<3;w++){q=g[w].indexOf("%")!=-1?Math.floor(parseFloat(g[w])/100*255):Number(g[w]);a+=qa[da(q,0,255)]}g=g[3]}else if(/^hsl/.test(a)){a=g=V(a);h=parseFloat(a[0])/360%360;h<0&&h++;s=da(parseFloat(a[1])/100,0,1);l=da(parseFloat(a[2])/100,0,1);if(s==0)a=q=w=l;else{w=l<0.5?l*(1+s):l+s-l*s;var j=2*l-w;a=aa(j,w,h+1/3);q=aa(j,
w,h);w=aa(j,w,h-1/3)}a="#"+qa[Math.floor(a*255)]+qa[Math.floor(q*255)]+qa[Math.floor(w*255)];g=g[3]}else a=Ba[a]||a;return{color:a,alpha:g}}function R(a){switch(a){case "butt":return"flat";case "round":return"round";case "square":default:return"square"}}function ea(a){this.m_=A();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=fa*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign=
"left";this.textBaseline="alphabetic";this.canvas=a;var g=a.ownerDocument.createElement("div");g.style.width=a.clientWidth+"px";g.style.height=a.clientHeight+"px";g.style.overflow="hidden";g.style.position="absolute";a.appendChild(g);this.element_=g;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function na(a,g,q,w){a.currentPath_.push({type:"bezierCurveTo",cp1x:g.x,cp1y:g.y,cp2x:q.x,cp2y:q.y,x:w.x,y:w.y});a.currentX_=w.x;a.currentY_=w.y}function ka(a,g){var q=W(a.strokeStyle),w=q.color;q=q.alpha*
a.globalAlpha;var j=a.lineScale_*a.lineWidth;if(j<1)q*=j;g.push("<g_vml_:stroke",' opacity="',q,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',R(a.lineCap),'"',' weight="',j,'px"',' color="',w,'" />')}function ga(a,g,q,w){var j=a.fillStyle,J=a.arcScaleX_,z=a.arcScaleY_,S=w.x-q.x,G=w.y-q.y;if(j instanceof ia){var P=0;w={x:0,y:0};var T=0,ba=1;if(j.type_=="gradient"){P=j.x1_/J;q=j.y1_/z;var X=a.getCoords_(j.x0_/J,j.y0_/z);P=a.getCoords_(P,q);P=Math.atan2(P.x-X.x,P.y-X.y)*
180/Math.PI;if(P<0)P+=360;if(P<1.0E-6)P=0}else{X=a.getCoords_(j.x0_,j.y0_);w={x:(X.x-q.x)/S,y:(X.y-q.y)/G};S/=J*fa;G/=z*fa;ba=oa.max(S,G);T=2*j.r0_/ba;ba=2*j.r1_/ba-T}J=j.colors_;J.sort(function(la,xa){return la.offset-xa.offset});z=J.length;X=J[0].color;q=J[z-1].color;S=J[0].alpha*a.globalAlpha;a=J[z-1].alpha*a.globalAlpha;G=[];for(var ca=0;ca<z;ca++){var Y=J[ca];G.push(Y.offset*ba+T+" "+Y.color)}g.push('<g_vml_:fill type="',j.type_,'"',' method="none" focus="100%"',' color="',X,'"',' color2="',
q,'"',' colors="',G.join(","),'"',' opacity="',a,'"',' g_o_:opacity2="',S,'"',' angle="',P,'"',' focusposition="',w.x,",",w.y,'" />')}else if(j instanceof va)S&&G&&g.push("<g_vml_:fill",' position="',-q.x/S*J*J,",",-q.y/G*z*z,'"',' type="tile"',' src="',j.src_,'" />');else{j=W(a.fillStyle);g.push('<g_vml_:fill color="',j.color,'" opacity="',j.alpha*a.globalAlpha,'" />')}}function ma(a,g,q){if(isFinite(g[0][0])&&isFinite(g[0][1])&&isFinite(g[1][0])&&isFinite(g[1][1])&&isFinite(g[2][0])&&isFinite(g[2][1])){a.m_=
g;if(q)a.lineScale_=Ca(ya(g[0][0]*g[1][1]-g[0][1]*g[1][0]))}}function ia(a){this.type_=a;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function va(a,g){if(!a||a.nodeType!=1||a.tagName!="IMG")throw new ra("TYPE_MISMATCH_ERR");if(a.readyState!="complete")throw new ra("INVALID_STATE_ERR");switch(g){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=g;break;default:throw new ra("SYNTAX_ERR");}this.src_=
a.src;this.width_=a.width;this.height_=a.height}function ra(a){this.code=this[a];this.message=a+": DOM Exception "+this.code}var oa=Math,$=oa.round,wa=oa.sin,za=oa.cos,ya=oa.abs,Ca=oa.sqrt,fa=10,pa=fa/2,ta=Array.prototype.slice;y(document);var Aa={init:function(a){if(/MSIE/.test(navigator.userAgent)&&!window.opera){a=a||document;a.createElement("canvas");a.attachEvent("onreadystatechange",O(this.init_,this,a))}},init_:function(a){a=a.getElementsByTagName("canvas");for(var g=0;g<a.length;g++)this.initElement(a[g])},
initElement:function(a){if(!a.getContext){a.getContext=t;y(a.ownerDocument);a.innerHTML="";a.attachEvent("onpropertychange",M);a.attachEvent("onresize",o);var g=a.attributes;if(g.width&&g.width.specified)a.style.width=g.width.nodeValue+"px";else a.width=a.clientWidth;if(g.height&&g.height.specified)a.style.height=g.height.nodeValue+"px";else a.height=a.clientHeight}return a}};Aa.init();for(var qa=[],N=0;N<16;N++)for(var ua=0;ua<16;ua++)qa[N*16+ua]=N.toString(16)+ua.toString(16);var Ba={aliceblue:"#F0F8FF",
antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",
darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",
honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",
limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",
paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",
violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},sa={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},U={};N=ea.prototype;N.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};N.beginPath=function(){this.currentPath_=[]};N.moveTo=function(a,g){var q=this.getCoords_(a,g);this.currentPath_.push({type:"moveTo",x:q.x,y:q.y});this.currentX_=q.x;this.currentY_=q.y};
N.lineTo=function(a,g){var q=this.getCoords_(a,g);this.currentPath_.push({type:"lineTo",x:q.x,y:q.y});this.currentX_=q.x;this.currentY_=q.y};N.bezierCurveTo=function(a,g,q,w,j,J){j=this.getCoords_(j,J);a=this.getCoords_(a,g);q=this.getCoords_(q,w);na(this,a,q,j)};N.quadraticCurveTo=function(a,g,q,w){a=this.getCoords_(a,g);q=this.getCoords_(q,w);w={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};na(this,w,{x:w.x+(q.x-this.currentX_)/3,y:w.y+(q.y-this.currentY_)/
3},q)};N.arc=function(a,g,q,w,j,J){q*=fa;var z=J?"at":"wa",S=a+za(w)*q-pa,G=g+wa(w)*q-pa;w=a+za(j)*q-pa;j=g+wa(j)*q-pa;if(S==w&&!J)S+=0.125;a=this.getCoords_(a,g);S=this.getCoords_(S,G);w=this.getCoords_(w,j);this.currentPath_.push({type:z,x:a.x,y:a.y,radius:q,xStart:S.x,yStart:S.y,xEnd:w.x,yEnd:w.y})};N.rect=function(a,g,q,w){this.moveTo(a,g);this.lineTo(a+q,g);this.lineTo(a+q,g+w);this.lineTo(a,g+w);this.closePath()};N.strokeRect=function(a,g,q,w){var j=this.currentPath_;this.beginPath();this.moveTo(a,
g);this.lineTo(a+q,g);this.lineTo(a+q,g+w);this.lineTo(a,g+w);this.closePath();this.stroke();this.currentPath_=j};N.fillRect=function(a,g,q,w){var j=this.currentPath_;this.beginPath();this.moveTo(a,g);this.lineTo(a+q,g);this.lineTo(a+q,g+w);this.lineTo(a,g+w);this.closePath();this.fill();this.currentPath_=j};N.createLinearGradient=function(a,g,q,w){var j=new ia("gradient");j.x0_=a;j.y0_=g;j.x1_=q;j.y1_=w;return j};N.createRadialGradient=function(a,g,q,w,j,J){var z=new ia("gradientradial");z.x0_=a;
z.y0_=g;z.r0_=q;z.x1_=w;z.y1_=j;z.r1_=J;return z};N.drawImage=function(a){var g,q,w,j,J,z,S,G;w=a.runtimeStyle.width;j=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height="auto";var P=a.width,T=a.height;a.runtimeStyle.width=w;a.runtimeStyle.height=j;if(arguments.length==3){g=arguments[1];q=arguments[2];J=z=0;S=w=P;G=j=T}else if(arguments.length==5){g=arguments[1];q=arguments[2];w=arguments[3];j=arguments[4];J=z=0;S=P;G=T}else if(arguments.length==9){J=arguments[1];z=arguments[2];
S=arguments[3];G=arguments[4];g=arguments[5];q=arguments[6];w=arguments[7];j=arguments[8]}else throw Error("Invalid number of arguments");var ba=this.getCoords_(g,q),X=[];X.push(" <g_vml_:group",' coordsize="',fa*10,",",fa*10,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var ca=[];ca.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",
$(ba.x/fa),",","Dy=",$(ba.y/fa),"");var Y=this.getCoords_(g+w,q),la=this.getCoords_(g,q+j);g=this.getCoords_(g+w,q+j);ba.x=oa.max(ba.x,Y.x,la.x,g.x);ba.y=oa.max(ba.y,Y.y,la.y,g.y);X.push("padding:0 ",$(ba.x/fa),"px ",$(ba.y/fa),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",ca.join(""),", sizingmethod='clip');")}else X.push("top:",$(ba.y/fa),"px;left:",$(ba.x/fa),"px;");X.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',fa*w,"px;"," height:",fa*j,'px"',' cropleft="',J/P,'"',' croptop="',
z/T,'"',' cropright="',(P-J-S)/P,'"',' cropbottom="',(T-z-G)/T,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",X.join(""))};N.stroke=function(a){for(var g={x:null,y:null},q={x:null,y:null},w=0;w<this.currentPath_.length;w+=5E3){var j=[];j.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',fa*10,",",fa*10,'"',' stroked="',!a,'"',' path="');for(var J=w;J<Math.min(w+5E3,this.currentPath_.length);J++){J%
5E3==0&&J>0&&j.push(" m ",$(this.currentPath_[J-1].x),",",$(this.currentPath_[J-1].y));var z=this.currentPath_[J];switch(z.type){case "moveTo":j.push(" m ",$(z.x),",",$(z.y));break;case "lineTo":j.push(" l ",$(z.x),",",$(z.y));break;case "close":j.push(" x ");z=null;break;case "bezierCurveTo":j.push(" c ",$(z.cp1x),",",$(z.cp1y),",",$(z.cp2x),",",$(z.cp2y),",",$(z.x),",",$(z.y));break;case "at":case "wa":j.push(" ",z.type," ",$(z.x-this.arcScaleX_*z.radius),",",$(z.y-this.arcScaleY_*z.radius)," ",
$(z.x+this.arcScaleX_*z.radius),",",$(z.y+this.arcScaleY_*z.radius)," ",$(z.xStart),",",$(z.yStart)," ",$(z.xEnd),",",$(z.yEnd));break}if(z){if(g.x==null||z.x<g.x)g.x=z.x;if(q.x==null||z.x>q.x)q.x=z.x;if(g.y==null||z.y<g.y)g.y=z.y;if(q.y==null||z.y>q.y)q.y=z.y}}j.push(' ">');a?ga(this,j,g,q):ka(this,j);j.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",j.join(""))}};N.fill=function(){this.stroke(true)};N.closePath=function(){this.currentPath_.push({type:"close"})};N.getCoords_=
function(a,g){var q=this.m_;return{x:fa*(a*q[0][0]+g*q[1][0]+q[2][0])-pa,y:fa*(a*q[0][1]+g*q[1][1]+q[2][1])-pa}};N.save=function(){var a={};Q(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=I(A(),this.m_)};N.restore=function(){if(this.aStack_.length){Q(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};N.translate=function(a,g){ma(this,I([[1,0,0],[0,1,0],[a,g,1]],this.m_),false)};N.rotate=function(a){var g=za(a);a=wa(a);ma(this,I([[g,a,0],[-a,g,0],[0,0,1]],this.m_),false)};N.scale=
function(a,g){this.arcScaleX_*=a;this.arcScaleY_*=g;ma(this,I([[a,0,0],[0,g,0],[0,0,1]],this.m_),true)};N.transform=function(a,g,q,w,j,J){ma(this,I([[a,g,0],[q,w,0],[j,J,1]],this.m_),true)};N.setTransform=function(a,g,q,w,j,J){ma(this,[[a,g,0],[q,w,0],[j,J,1]],true)};N.drawText_=function(a,g,q,w,j){var J=this.m_;w=0;var z=1E3,S={x:0,y:0},G=[],P;P=this.font;if(U[P])P=U[P];else{var T=document.createElement("div").style;try{T.font=P}catch(ba){}P=U[P]={style:T.fontStyle||sa.style,variant:T.fontVariant||
sa.variant,weight:T.fontWeight||sa.weight,size:T.fontSize||sa.size,family:T.fontFamily||sa.family}}T=P;var X=this.element_;P={};for(var ca in T)P[ca]=T[ca];ca=parseFloat(X.currentStyle.fontSize);X=parseFloat(T.size);P.size=typeof T.size=="number"?T.size:T.size.indexOf("px")!=-1?X:T.size.indexOf("em")!=-1?ca*X:T.size.indexOf("%")!=-1?ca/100*X:T.size.indexOf("pt")!=-1?X/0.75:ca;P.size*=0.981;ca=P.style+" "+P.variant+" "+P.weight+" "+P.size+"px "+P.family;X=this.element_.currentStyle;T=this.textAlign.toLowerCase();
switch(T){case "left":case "center":case "right":break;case "end":T=X.direction=="ltr"?"right":"left";break;case "start":T=X.direction=="rtl"?"right":"left";break;default:T="left"}switch(this.textBaseline){case "hanging":case "top":S.y=P.size/1.75;break;case "middle":break;default:case null:case "alphabetic":case "ideographic":case "bottom":S.y=-P.size/2.25;break}switch(T){case "right":w=1E3;z=0.05;break;case "center":w=z=500;break}g=this.getCoords_(g+S.x,q+S.y);G.push('<g_vml_:line from="',-w,' 0" to="',
z,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!j,'" stroked="',!!j,'" style="position:absolute;width:1px;height:1px;">');j?ka(this,G):ga(this,G,{x:-w,y:0},{x:z,y:P.size});j=J[0][0].toFixed(3)+","+J[1][0].toFixed(3)+","+J[0][1].toFixed(3)+","+J[1][1].toFixed(3)+",0,0";g=$(g.x/fa)+","+$(g.y/fa);G.push('<g_vml_:skew on="t" matrix="',j,'" ',' offset="',g,'" origin="',w,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',v(a),'" style="v-text-align:',T,
";font:",v(ca),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",G.join(""))};N.fillText=function(a,g,q,w){this.drawText_(a,g,q,w,false)};N.strokeText=function(a,g,q,w){this.drawText_(a,g,q,w,true)};N.measureText=function(a){if(!this.textMeasureEl_){this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>');this.textMeasureEl_=this.element_.lastChild}var g=this.element_.ownerDocument;
this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(g.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};N.clip=function(){};N.arcTo=function(){};N.createPattern=function(a,g){return new va(a,g)};ia.prototype.addColorStop=function(a,g){g=W(g);this.colors_.push({offset:a,color:g.color,alpha:g.alpha})};N=ra.prototype=new Error;N.INDEX_SIZE_ERR=1;N.DOMSTRING_SIZE_ERR=2;N.HIERARCHY_REQUEST_ERR=3;N.WRONG_DOCUMENT_ERR=4;N.INVALID_CHARACTER_ERR=
5;N.NO_DATA_ALLOWED_ERR=6;N.NO_MODIFICATION_ALLOWED_ERR=7;N.NOT_FOUND_ERR=8;N.NOT_SUPPORTED_ERR=9;N.INUSE_ATTRIBUTE_ERR=10;N.INVALID_STATE_ERR=11;N.SYNTAX_ERR=12;N.INVALID_MODIFICATION_ERR=13;N.NAMESPACE_ERR=14;N.INVALID_ACCESS_ERR=15;N.VALIDATION_ERR=16;N.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=Aa;CanvasRenderingContext2D=ea;CanvasGradient=ia;CanvasPattern=va;DOMException=ra}();
(function(){jQuery.color={};jQuery.color.make=function(O,v,y,M){var o={};o.r=O||0;o.g=v||0;o.b=y||0;o.a=M!=null?M:1;o.add=function(A,I){for(var Q=0;Q<A.length;++Q)o[A.charAt(Q)]+=I;return o.normalize()};o.scale=function(A,I){for(var Q=0;Q<A.length;++Q)o[A.charAt(Q)]*=I;return o.normalize()};o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"};o.normalize=function(){function A(I,Q,V){return Q<I?I:Q>V?V:Q}o.r=A(0,parseInt(o.r),255);o.g=A(0,
parseInt(o.g),255);o.b=A(0,parseInt(o.b),255);o.a=A(0,o.a,1);return o};o.clone=function(){return jQuery.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};jQuery.color.extract=function(O,v){var y;do{y=O.css(v).toLowerCase();if(y!=""&&y!="transparent")break;O=O.parent()}while(!jQuery.nodeName(O.get(0),"body"));if(y=="rgba(0, 0, 0, 0)")y="transparent";return jQuery.color.parse(y)};jQuery.color.parse=function(O){var v,y=jQuery.color.make;if(v=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(O))return y(parseInt(v[1],
10),parseInt(v[2],10),parseInt(v[3],10));if(v=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(O))return y(parseInt(v[1],10),parseInt(v[2],10),parseInt(v[3],10),parseFloat(v[4]));if(v=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(O))return y(parseFloat(v[1])*2.55,parseFloat(v[2])*2.55,parseFloat(v[3])*2.55);if(v=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(O))return y(parseFloat(v[1])*
2.55,parseFloat(v[2])*2.55,parseFloat(v[3])*2.55,parseFloat(v[4]));if(v=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(O))return y(parseInt(v[1],16),parseInt(v[2],16),parseInt(v[3],16));if(v=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(O))return y(parseInt(v[1]+v[1],16),parseInt(v[2]+v[2],16),parseInt(v[3]+v[3],16));O=jQuery.trim(O).toLowerCase();if(O=="transparent")return y(255,255,255,0);else{v=t[O];return y(v[0],v[1],v[2])}};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,
220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(t){function O(y,M,o,A){function I(b,c){c=[Y].concat(c);for(var d=0;d<b.length;++d)b[d].apply(this,c)}function Q(b){for(var c=[],d=0;d<b.length;++d){var f=t.extend(true,{},a.series);if(b[d].data){f.data=b[d].data;delete b[d].data;t.extend(true,f,b[d]);b[d].data=f.data}else f.data=b[d];c.push(f)}U=c;c=U.length;d=[];f=[];for(b=0;b<U.length;++b){var e=U[b].color;if(e!=null){--c;typeof e=="number"?f.push(e):d.push(t.color.parse(U[b].color))}}for(b=0;b<f.length;++b)c=Math.max(c,f[b]+1);d=[];for(b=
f=0;d.length<c;){e=a.colors.length==b?t.color.make(100,100,100):t.color.parse(a.colors[b]);e.scale("rgb",1+(f%2==1?-1:1)*Math.ceil(f/2)*0.2);d.push(e);++b;if(b>=a.colors.length){b=0;++f}}for(b=c=0;b<U.length;++b){f=U[b];if(f.color==null){f.color=d[c].toString();++c}else if(typeof f.color=="number")f.color=d[f.color].toString();if(f.lines.show==null){var r;e=true;for(r in f)if(f[r]&&f[r].show){e=false;break}if(e)f.lines.show=true}f.xaxis=W(z,V(f,"x"));f.yaxis=W(S,V(f,"y"))}R()}function V(b,c){var d=
b[c+"axis"];if(typeof d=="object")d=d.n;if(typeof d!="number")d=1;return d}function da(b){var c={},d,f;for(d=0;d<z.length;++d)if((f=z[d])&&f.used)c["x"+f.n]=f.c2p(b.left);for(d=0;d<S.length;++d)if((f=S[d])&&f.used)c["y"+f.n]=f.c2p(b.top);if(c.x1!==undefined)c.x=c.x1;if(c.y1!==undefined)c.y=c.y1;return c}function aa(){var b=[],c,d;for(c=0;c<z.length;++c)(d=z[c])&&d.used&&b.push(d);for(c=0;c<S.length;++c)(d=S[c])&&d.used&&b.push(d);return b}function W(b,c){b[c-1]||(b[c-1]={n:c,direction:b==z?"x":"y",
options:t.extend(true,{},b==z?a.xaxis:a.yaxis)});return b[c-1]}function R(){function b(C){if(C){C.datamin=d;C.datamax=f;C.used=false}}function c(C,H,Z){if(H<C.datamin)C.datamin=H;if(Z>C.datamax)C.datamax=Z}var d=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,e,r,k,n,m,p,u,E,K,L;for(e=0;e<z.length;++e)b(z[e]);for(e=0;e<S.length;++e)b(S[e]);for(e=0;e<U.length;++e){m=U[e];m.datapoints={points:[]};I(ca.processRawData,[m,m.data,m.datapoints])}for(e=0;e<U.length;++e){m=U[e];var F=m.data,D=m.datapoints.format;
if(!D){D=[];D.push({x:true,number:true,required:true});D.push({y:true,number:true,required:true});if(m.bars.show||m.lines.show&&m.lines.fill){D.push({y:true,number:true,required:false,defaultValue:0});if(m.bars.horizontal){delete D[D.length-1].y;D[D.length-1].x=true}}m.datapoints.format=D}if(m.datapoints.pointsize==null){if(m.datapoints.pointsize==null)m.datapoints.pointsize=D.length;u=m.datapoints.pointsize;p=m.datapoints.points;insertSteps=m.lines.show&&m.lines.steps;m.xaxis.used=m.yaxis.used=true;
for(r=k=0;r<F.length;++r,k+=u){L=F[r];var B=L==null;if(!B)for(n=0;n<u;++n){E=L[n];if(K=D[n]){if(K.number&&E!=null){E=+E;if(isNaN(E))E=null}if(E==null){if(K.required)B=true;if(K.defaultValue!=null)E=K.defaultValue}}p[k+n]=E}if(B)for(n=0;n<u;++n){E=p[k+n];if(E!=null){K=D[n];K.x&&c(m.xaxis,E,E);K.y&&c(m.yaxis,E,E)}p[k+n]=null}else if(insertSteps&&k>0&&p[k-u]!=null&&p[k-u]!=p[k]&&p[k-u+1]!=p[k+1]){for(n=0;n<u;++n)p[k+u+n]=p[k+n];p[k+1]=p[k-u+1];k+=u}}}}for(e=0;e<U.length;++e){m=U[e];I(ca.processDatapoints,
[m,m.datapoints])}for(e=0;e<U.length;++e){m=U[e];p=m.datapoints.points;u=m.datapoints.pointsize;L=k=d;B=F=f;for(r=0;r<p.length;r+=u)if(p[r]!=null)for(n=0;n<u;++n){E=p[r+n];if(K=D[n]){if(K.x){if(E<k)k=E;if(E>F)F=E}if(K.y){if(E<L)L=E;if(E>B)B=E}}}if(m.bars.show){r=m.bars.align=="left"?0:-m.bars.barWidth/2;if(m.bars.horizontal){L+=r;B+=r+m.bars.barWidth}else{k+=r;F+=r+m.bars.barWidth}}c(m.xaxis,k,F);c(m.yaxis,L,B)}t.each(aa(),function(C,H){if(H.datamin==d)H.datamin=null;if(H.datamax==f)H.datamax=null})}
function ea(b){function c(k){return k}var d,f,e=b.options.transform||c,r=b.options.inverseTransform;if(b.direction=="x"){d=b.scale=ba/(e(b.max)-e(b.min));f=e(b.min);b.p2c=e==c?function(k){return(k-f)*d}:function(k){return(e(k)-f)*d};b.c2p=r?function(k){return r(f+k/d)}:function(k){return f+k/d}}else{d=b.scale=X/(e(b.max)-e(b.min));f=e(b.max);b.p2c=e==c?function(k){return(f-k)*d}:function(k){return(f-e(k))*d};b.c2p=r?function(k){return r(f-k/d)}:function(k){return f-k/d}}}function na(b){function c(m,
p){return t('<div style="position:absolute;top:-10000px;'+p+'font-size:smaller"><div class="'+b.direction+"Axis "+b.direction+b.n+'Axis">'+m.join("")+"</div></div>").appendTo(y)}if(b){var d=b.options,f,e=b.ticks||[],r=[],k,n=d.labelWidth;d=d.labelHeight;if(b.direction=="x"){if(n==null)n=Math.floor(P/(e.length>0?e.length:1));if(d==null){r=[];for(f=0;f<e.length;++f)(k=e[f].label)&&r.push('<div class="tickLabel" style="float:left;width:'+n+'px">'+k+"</div>");if(r.length>0){r.push('<div style="clear:left"></div>');
e=c(r,"width:10000px;");d=e.height();e.remove()}}}else if(n==null||d==null){for(f=0;f<e.length;++f)(k=e[f].label)&&r.push('<div class="tickLabel">'+k+"</div>");if(r.length>0){e=c(r,"");if(n==null)n=e.children().width();if(d==null)d=e.find("div.tickLabel").height();e.remove()}}if(n==null)n=0;if(d==null)d=0;b.labelWidth=n;b.labelHeight=d}}function ka(b){if(!(!b||!b.used&&!(b.labelWidth||b.labelHeight))){var c=b.labelWidth,d=b.labelHeight,f=b.options.position,e=b.options.tickLength,r=a.grid.axisMargin,
k=a.grid.labelMargin,n=b.direction=="x"?z:S,m=t.grep(n,function(p){return p&&p.options.position==f&&(p.labelHeight||p.labelWidth)});if(t.inArray(b,m)==m.length-1)r=0;if(e==null)e="full";n=t.grep(n,function(p){return p&&(p.labelHeight||p.labelWidth)});n=t.inArray(b,n)==0;if(!n&&e=="full")e=5;isNaN(+e)||(k+=+e);if(b.direction=="x"){d+=k;if(f=="bottom"){G.bottom+=d+r;b.box={top:T-G.bottom,height:d}}else{b.box={top:G.top+r,height:d};G.top+=d+r}}else{c+=k;if(f=="left"){b.box={left:G.left+r,width:c};G.left+=
c+r}else{G.right+=c+r;b.box={left:P-G.right,width:c}}}b.position=f;b.tickLength=e;b.box.padding=k;b.innermost=n}}function ga(){var b=aa(),c;for(c=0;c<b.length;++c){var d=b[c],f=d.options,e=+(f.min!=null?f.min:d.datamin),r=+(f.max!=null?f.max:d.datamax),k=r-e;if(k==0){k=r==0?1:0.01;if(f.min==null)e-=k;if(f.max==null||f.min!=null)r+=k}else{var n=f.autoscaleMargin;if(n!=null){if(f.min==null){e-=k*n;if(e<0&&d.datamin!=null&&d.datamin>=0)e=0}if(f.max==null){r+=k*n;if(r>0&&d.datamax!=null&&d.datamax<=0)r=
0}}}d.min=e;d.max=r}G.left=G.right=G.top=G.bottom=0;if(a.grid.show){for(c=0;c<b.length;++c){ma(b[c]);d=b[c];d.ticks=[];e=d.options.ticks;f=null;if(e==null||typeof e=="number"&&e>0)f=d.tickGenerator(d);else if(e)f=t.isFunction(e)?e({min:d.min,max:d.max}):e;for(e=0;e<f.length;++e){k=null;n=f[e];if(typeof n=="object"){r=n[0];if(n.length>1)k=n[1]}else r=n;if(k==null)k=d.tickFormatter(r,d);d.ticks[e]={v:r,label:k}}d=b[c];f=b[c].ticks;if(d.options.autoscaleMargin!=null&&f.length>0){if(d.options.min==null)d.min=
Math.min(d.min,f[0].v);if(d.options.max==null&&f.length>1)d.max=Math.max(d.max,f[f.length-1].v)}}for(c=0;c<z.length;++c)na(z[c]);for(c=0;c<S.length;++c)na(S[c]);for(c=z.length-1;c>=0;--c)ka(z[c]);for(c=S.length-1;c>=0;--c)ka(S[c]);for(d=c=0;d<U.length;++d)c=Math.max(c,2*(U[d].points.radius+U[d].points.lineWidth/2));for(var m in G){G[m]+=a.grid.borderWidth;G[m]=Math.max(c,G[m])}}ba=P-G.left-G.right;X=T-G.bottom-G.top;for(c=0;c<b.length;++c)ea(b[c]);if(a.grid.show){for(c=0;c<b.length;++c){m=b[c];if(m.direction==
"x"){m.box.left=G.left;m.box.width=ba}else{m.box.top=G.top;m.box.height=X}}y.find(".tickLabels").remove();b=['<div class="tickLabels" style="font-size:smaller">'];m=aa();for(c=0;c<m.length;++c){d=m[c];f=d.box;b.push('<div class="'+d.direction+"Axis "+d.direction+d.n+'Axis" style="color:'+d.options.color+'">');for(e=0;e<d.ticks.length;++e){r=d.ticks[e];if(!(!r.label||r.v<d.min||r.v>d.max)){k={};if(d.direction=="x"){n="center";k.left=Math.round(G.left+d.p2c(r.v)-d.labelWidth/2);if(d.position=="bottom")k.top=
f.top+f.padding;else k.bottom=T-(f.top+f.height-f.padding)}else{k.top=Math.round(G.top+d.p2c(r.v)-d.labelHeight/2);if(d.position=="left"){k.right=P-(f.left+f.width-f.padding);n="right"}else{k.left=f.left+f.padding;n="left"}}k.width=d.labelWidth;n=["position:absolute","text-align:"+n];for(var p in k)n.push(p+":"+k[p]+"px");b.push('<div class="tickLabel" style="'+n.join(";")+'">'+r.label+"</div>")}}b.push("</div>")}b.push("</div>");y.append(b.join(""))}y.find(".legend").remove();if(a.legend.show){p=
[];b=false;m=a.legend.labelFormatter;for(f=0;f<U.length;++f){c=U[f];if(d=c.label){if(f%a.legend.noColumns==0){b&&p.push("</tr>");p.push("<tr>");b=true}if(m)d=m(d,c);p.push('<td class="legendColorBox"><div style="border:1px solid '+a.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+d+"</td>")}}b&&p.push("</tr>");if(p.length!=0){b='<table style="font-size:smaller;color:'+a.grid.color+'">'+
p.join("")+"</table>";if(a.legend.container!=null)t(a.legend.container).html(b);else{p="";m=a.legend.position;c=a.legend.margin;if(c[0]==null)c=[c,c];if(m.charAt(0)=="n")p+="top:"+(c[1]+G.top)+"px;";else if(m.charAt(0)=="s")p+="bottom:"+(c[1]+G.bottom)+"px;";if(m.charAt(1)=="e")p+="right:"+(c[0]+G.right)+"px;";else if(m.charAt(1)=="w")p+="left:"+(c[0]+G.left)+"px;";b=t('<div class="legend">'+b.replace('style="','style="position:absolute;'+p+";")+"</div>").appendTo(y);if(a.legend.backgroundOpacity!=
0){m=a.legend.backgroundColor;if(m==null){m=(m=a.grid.backgroundColor)&&typeof m=="string"?t.color.parse(m):t.color.extract(b,"background-color");m.a=1;m=m.toString()}c=b.children();t('<div style="position:absolute;width:'+c.width()+"px;height:"+c.height()+"px;"+p+"background-color:"+m+';"> </div>').prependTo(b).css("opacity",a.legend.backgroundOpacity)}}}}}function ma(b){var c=b.options,d=(b.max-b.min)/(typeof c.ticks=="number"&&c.ticks>0?c.ticks:b.direction=="x"?0.3*Math.sqrt(P):0.3*Math.sqrt(T)),
f,e,r,k;if(c.mode=="time"){var n={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*60*1E3};k=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];f=0;if(c.minTickSize!=null)f=typeof c.tickSize=="number"?c.tickSize:c.minTickSize[0]*
n[c.minTickSize[1]];for(e=0;e<k.length-1;++e)if(d<(k[e][0]*n[k[e][1]]+k[e+1][0]*n[k[e+1][1]])/2&&k[e][0]*n[k[e][1]]>=f)break;f=k[e][0];r=k[e][1];if(r=="year"){e=Math.pow(10,Math.floor(Math.log(d/n.year)/Math.LN10));k=d/n.year/e;f=k<1.5?1:k<3?2:k<7.5?5:10;f*=e}b.tickSize=c.tickSize||[f,r];e=function(u){var E=[],K=u.tickSize[0],L=u.tickSize[1],F=new Date(u.min),D=K*n[L];L=="second"&&F.setUTCSeconds(v(F.getUTCSeconds(),K));L=="minute"&&F.setUTCMinutes(v(F.getUTCMinutes(),K));L=="hour"&&F.setUTCHours(v(F.getUTCHours(),
K));L=="month"&&F.setUTCMonth(v(F.getUTCMonth(),K));L=="year"&&F.setUTCFullYear(v(F.getUTCFullYear(),K));F.setUTCMilliseconds(0);D>=n.minute&&F.setUTCSeconds(0);D>=n.hour&&F.setUTCMinutes(0);D>=n.day&&F.setUTCHours(0);D>=n.day*4&&F.setUTCDate(1);D>=n.year&&F.setUTCMonth(0);var B=0,C=Number.NaN,H;do{H=C;C=F.getTime();E.push(C);if(L=="month")if(K<1){F.setUTCDate(1);var Z=F.getTime();F.setUTCMonth(F.getUTCMonth()+1);var ha=F.getTime();F.setTime(C+B*n.hour+(ha-Z)*K);B=F.getUTCHours();F.setUTCHours(0)}else F.setUTCMonth(F.getUTCMonth()+
K);else L=="year"?F.setUTCFullYear(F.getUTCFullYear()+K):F.setTime(C+D)}while(C<u.max&&C!=H);return E};f=function(u,E){var K=new Date(u);if(c.timeformat!=null)return t.plot.formatDate(K,c.timeformat,c.monthNames);var L=E.tickSize[0]*n[E.tickSize[1]],F=E.max-E.min,D=c.twelveHourClock?" %p":"";fmt=L<n.minute?"%h:%M:%S"+D:L<n.day?F<2*n.day?"%h:%M"+D:"%b %d %h:%M"+D:L<n.month?"%b %d":L<n.year?F<n.year?"%b":"%b %y":"%y";return t.plot.formatDate(K,fmt,c.monthNames)}}else{r=c.tickDecimals;var m=-Math.floor(Math.log(d)/
Math.LN10);if(r!=null&&m>r)m=r;e=Math.pow(10,-m);k=d/e;if(k<1.5)f=1;else if(k<3){f=2;if(k>2.25&&(r==null||m+1<=r)){f=2.5;++m}}else f=k<7.5?5:10;f*=e;if(c.minTickSize!=null&&f<c.minTickSize)f=c.minTickSize;b.tickDecimals=Math.max(0,r!=null?r:m);b.tickSize=c.tickSize||f;e=function(u){var E=[],K=v(u.min,u.tickSize),L=0,F=Number.NaN,D;do{D=F;F=K+L*u.tickSize;E.push(F);++L}while(F<u.max&&F!=D);return E};f=function(u,E){return u.toFixed(E.tickDecimals)}}if(c.alignTicksWithAxis!=null){var p=(b.direction==
"x"?z:S)[c.alignTicksWithAxis-1];if(p&&p.used&&p!=b){e=e(b);if(e.length>0){if(c.min==null)b.min=Math.min(b.min,e[0]);if(c.max==null&&e.length>1)b.max=Math.max(b.max,e[e.length-1])}e=function(u){var E=[],K,L;for(L=0;L<p.ticks.length;++L){K=(p.ticks[L].v-p.min)/(p.max-p.min);K=u.min+K*(u.max-u.min);E.push(K)}return E};if(b.mode!="time"&&c.tickDecimals==null){d=Math.max(0,-Math.floor(Math.log(d)/Math.LN10)+1);k=e(b);if(!(k.length>1&&/\..*0$/.test((k[1]-k[0]).toFixed(d))))b.tickDecimals=d}}}b.tickGenerator=
e;b.tickFormatter=t.isFunction(c.tickFormatter)?function(u,E){return""+c.tickFormatter(u,E)}:f}function ia(){j.clearRect(0,0,P,T);var b=a.grid;b.show&&!b.aboveData&&ra();for(var c=0;c<U.length;++c){I(ca.drawSeries,[j,U[c]]);var d=U[c];d.lines.show&&oa(d);d.bars.show&&za(d);d.points.show&&$(d)}I(ca.draw,[j]);b.show&&b.aboveData&&ra()}function va(b,c){var d,f,e,r,k;r=aa();for(i=0;i<r.length;++i){d=r[i];if(d.direction==c){k=c+d.n+"axis";if(!b[k]&&d.n==1)k=c+"axis";if(b[k]){f=b[k].from;e=b[k].to;break}}}if(!b[k]){d=
c=="x"?z[0]:S[0];f=b[c+"1"];e=b[c+"2"]}if(f!=null&&e!=null&&f>e){r=f;f=e;e=r}return{from:f,to:e,axis:d}}function ra(){var b;j.save();j.translate(G.left,G.top);if(a.grid.backgroundColor){j.fillStyle=sa(a.grid.backgroundColor,X,0,"rgba(255, 255, 255, 0)");j.fillRect(0,0,ba,X)}var c=a.grid.markings;if(c){if(t.isFunction(c)){var d=Y.getAxes();d.xmin=d.xaxis.min;d.xmax=d.xaxis.max;d.ymin=d.yaxis.min;d.ymax=d.yaxis.max;c=c(d)}for(b=0;b<c.length;++b){d=c[b];var f=va(d,"x"),e=va(d,"y");if(f.from==null)f.from=
f.axis.min;if(f.to==null)f.to=f.axis.max;if(e.from==null)e.from=e.axis.min;if(e.to==null)e.to=e.axis.max;if(!(f.to<f.axis.min||f.from>f.axis.max||e.to<e.axis.min||e.from>e.axis.max)){f.from=Math.max(f.from,f.axis.min);f.to=Math.min(f.to,f.axis.max);e.from=Math.max(e.from,e.axis.min);e.to=Math.min(e.to,e.axis.max);if(!(f.from==f.to&&e.from==e.to)){f.from=f.axis.p2c(f.from);f.to=f.axis.p2c(f.to);e.from=e.axis.p2c(e.from);e.to=e.axis.p2c(e.to);if(f.from==f.to||e.from==e.to){j.beginPath();j.strokeStyle=
d.color||a.grid.markingsColor;j.lineWidth=d.lineWidth||a.grid.markingsLineWidth;j.moveTo(f.from,e.from);j.lineTo(f.to,e.to);j.stroke()}else{j.fillStyle=d.color||a.grid.markingsColor;j.fillRect(f.from,e.to,f.to-f.from,e.from-e.to)}}}}}d=aa();c=a.grid.borderWidth;for(f=0;f<d.length;++f){e=d[f];b=e.box;var r=e.tickLength,k,n,m,p;j.strokeStyle=e.options.tickColor||t.color.parse(e.options.color).scale("a",0.22).toString();j.lineWidth=1;if(e.direction=="x"){k=0;n=r=="full"?e.position=="top"?0:X:b.top-G.top+
(e.position=="top"?b.height:0)}else{n=0;k=r=="full"?e.position=="left"?0:ba:b.left-G.left+(e.position=="left"?b.width:0)}if(!e.innermost){j.beginPath();m=p=0;if(e.direction=="x")m=ba;else p=X;if(j.lineWidth==1){k=Math.floor(k)+0.5;n=Math.floor(n)+0.5}j.moveTo(k,n);j.lineTo(k+m,n+p);j.stroke()}j.beginPath();for(b=0;b<e.ticks.length;++b){var u=e.ticks[b].v;m=p=0;if(!(u<e.min||u>e.max||r=="full"&&c>0&&(u==e.min||u==e.max))){if(e.direction=="x"){k=e.p2c(u);p=r=="full"?-X:r;if(e.position=="top")p=-p}else{n=
e.p2c(u);m=r=="full"?-ba:r;if(e.position=="left")m=-m}if(j.lineWidth==1)if(e.direction=="x")k=Math.floor(k)+0.5;else n=Math.floor(n)+0.5;j.moveTo(k,n);j.lineTo(k+m,n+p)}}j.stroke()}if(c){j.lineWidth=c;j.strokeStyle=a.grid.borderColor;j.strokeRect(-c/2,-c/2,ba+c,X+c)}j.restore()}function oa(b){function c(k,n,m,p,u){var E=k.points;k=k.pointsize;var K=null,L=null;j.beginPath();for(var F=k;F<E.length;F+=k){var D=E[F-k],B=E[F-k+1],C=E[F],H=E[F+1];if(!(D==null||C==null)){if(B<=H&&B<u.min){if(H<u.min)continue;
D=(u.min-B)/(H-B)*(C-D)+D;B=u.min}else if(H<=B&&H<u.min){if(B<u.min)continue;C=(u.min-B)/(H-B)*(C-D)+D;H=u.min}if(B>=H&&B>u.max){if(H>u.max)continue;D=(u.max-B)/(H-B)*(C-D)+D;B=u.max}else if(H>=B&&H>u.max){if(B>u.max)continue;C=(u.max-B)/(H-B)*(C-D)+D;H=u.max}if(D<=C&&D<p.min){if(C<p.min)continue;B=(p.min-D)/(C-D)*(H-B)+B;D=p.min}else if(C<=D&&C<p.min){if(D<p.min)continue;H=(p.min-D)/(C-D)*(H-B)+B;C=p.min}if(D>=C&&D>p.max){if(C>p.max)continue;B=(p.max-D)/(C-D)*(H-B)+B;D=p.max}else if(C>=D&&C>p.max){if(D>
p.max)continue;H=(p.max-D)/(C-D)*(H-B)+B;C=p.max}if(D!=K||B!=L)j.moveTo(p.p2c(D)+n,u.p2c(B)+m);K=C;L=H;j.lineTo(p.p2c(C)+n,u.p2c(H)+m)}}j.stroke()}function d(k,n,m){var p=k.points;k=k.pointsize;for(var u=Math.min(Math.max(0,m.min),m.max),E=0,K=false,L=1,F=0,D=0;;){if(k>0&&E>p.length+k)break;E+=k;var B=p[E-k],C=p[E-k+L],H=p[E],Z=p[E+L];if(K){if(k>0&&B!=null&&H==null){D=E;k=-k;L=2;continue}if(k<0&&E==F+k){j.fill();K=false;k=-k;L=1;E=F=D+k;continue}}if(!(B==null||H==null)){if(B<=H&&B<n.min){if(H<n.min)continue;
C=(n.min-B)/(H-B)*(Z-C)+C;B=n.min}else if(H<=B&&H<n.min){if(B<n.min)continue;Z=(n.min-B)/(H-B)*(Z-C)+C;H=n.min}if(B>=H&&B>n.max){if(H>n.max)continue;C=(n.max-B)/(H-B)*(Z-C)+C;B=n.max}else if(H>=B&&H>n.max){if(B>n.max)continue;Z=(n.max-B)/(H-B)*(Z-C)+C;H=n.max}if(!K){j.beginPath();j.moveTo(n.p2c(B),m.p2c(u));K=true}if(C>=m.max&&Z>=m.max){j.lineTo(n.p2c(B),m.p2c(m.max));j.lineTo(n.p2c(H),m.p2c(m.max))}else if(C<=m.min&&Z<=m.min){j.lineTo(n.p2c(B),m.p2c(m.min));j.lineTo(n.p2c(H),m.p2c(m.min))}else{var ha=
B,ja=H;if(C<=Z&&C<m.min&&Z>=m.min){B=(m.min-C)/(Z-C)*(H-B)+B;C=m.min}else if(Z<=C&&Z<m.min&&C>=m.min){H=(m.min-C)/(Z-C)*(H-B)+B;Z=m.min}if(C>=Z&&C>m.max&&Z<=m.max){B=(m.max-C)/(Z-C)*(H-B)+B;C=m.max}else if(Z>=C&&Z>m.max&&C<=m.max){H=(m.max-C)/(Z-C)*(H-B)+B;Z=m.max}B!=ha&&j.lineTo(n.p2c(ha),m.p2c(C));j.lineTo(n.p2c(B),m.p2c(C));j.lineTo(n.p2c(H),m.p2c(Z));if(H!=ja){j.lineTo(n.p2c(H),m.p2c(Z));j.lineTo(n.p2c(ja),m.p2c(Z))}}}}}j.save();j.translate(G.left,G.top);j.lineJoin="round";var f=b.lines.lineWidth,
e=b.shadowSize;if(f>0&&e>0){j.lineWidth=e;j.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;c(b.datapoints,Math.sin(r)*(f/2+e/2),Math.cos(r)*(f/2+e/2),b.xaxis,b.yaxis);j.lineWidth=e/2;c(b.datapoints,Math.sin(r)*(f/2+e/4),Math.cos(r)*(f/2+e/4),b.xaxis,b.yaxis)}j.lineWidth=f;j.strokeStyle=b.color;if(e=ya(b.lines,b.color,0,X)){j.fillStyle=e;d(b.datapoints,b.xaxis,b.yaxis)}f>0&&c(b.datapoints,0,0,b.xaxis,b.yaxis);j.restore()}function $(b){function c(r,k,n,m,p,u,E){var K=r.points;r=r.pointsize;for(var L=
0;L<K.length;L+=r){var F=K[L],D=K[L+1];if(!(F==null||F<u.min||F>u.max||D<E.min||D>E.max)){j.beginPath();j.arc(u.p2c(F),E.p2c(D)+m,k,0,p,false);if(n){j.fillStyle=n;j.fill()}j.stroke()}}}j.save();j.translate(G.left,G.top);var d=b.lines.lineWidth,f=b.shadowSize,e=b.points.radius;if(d>0&&f>0){f/=2;j.lineWidth=f;j.strokeStyle="rgba(0,0,0,0.1)";c(b.datapoints,e,null,f+f/2,Math.PI,b.xaxis,b.yaxis);j.strokeStyle="rgba(0,0,0,0.2)";c(b.datapoints,e,null,f/2,Math.PI,b.xaxis,b.yaxis)}j.lineWidth=d;j.strokeStyle=
b.color;c(b.datapoints,e,ya(b.points,b.color),0,2*Math.PI,b.xaxis,b.yaxis);j.restore()}function wa(b,c,d,f,e,r,k,n,m,p,u,E){var K,L,F,D;if(u){D=L=F=true;K=false;u=d;b=b;d=c+f;e=c+e;if(b<u){c=b;b=u;u=c;K=true;L=false}}else{K=L=F=true;D=false;u=b+f;b+=e;e=d;d=c;if(d<e){c=d;d=e;e=c;D=true;F=false}}if(!(b<n.min||u>n.max||d<m.min||e>m.max)){if(u<n.min){u=n.min;K=false}if(b>n.max){b=n.max;L=false}if(e<m.min){e=m.min;D=false}if(d>m.max){d=m.max;F=false}u=n.p2c(u);e=m.p2c(e);b=n.p2c(b);d=m.p2c(d);if(k){p.beginPath();
p.moveTo(u,e);p.lineTo(u,d);p.lineTo(b,d);p.lineTo(b,e);p.fillStyle=k(e,d);p.fill()}if(E>0&&(K||L||F||D)){p.beginPath();p.moveTo(u,e+r);K?p.lineTo(u,d+r):p.moveTo(u,d+r);F?p.lineTo(b,d+r):p.moveTo(b,d+r);L?p.lineTo(b,e+r):p.moveTo(b,e+r);D?p.lineTo(u,e+r):p.moveTo(u,e+r);p.stroke()}}}function za(b){j.save();j.translate(G.left,G.top);j.lineWidth=b.bars.lineWidth;j.strokeStyle=b.color;var c=b.bars.align=="left"?0:-b.bars.barWidth/2;(function(d,f,e,r,k,n,m){var p=d.points;d=d.pointsize;for(var u=0;u<
p.length;u+=d)p[u]!=null&&wa(p[u],p[u+1],p[u+2],f,e,r,k,n,m,j,b.bars.horizontal,b.bars.lineWidth)})(b.datapoints,c,c+b.bars.barWidth,0,b.bars.fill?function(d,f){return ya(b.bars,b.color,d,f)}:null,b.xaxis,b.yaxis);j.restore()}function ya(b,c,d,f){var e=b.fill;if(!e)return null;if(b.fillColor)return sa(b.fillColor,d,f,c);b=t.color.parse(c);b.a=typeof e=="number"?e:0.4;b.normalize();return b.toString()}function Ca(b){a.grid.hoverable&&pa("plothover",b,function(c){return c.hoverable!=false})}function fa(b){pa("plotclick",
b,function(c){return c.clickable!=false})}function pa(b,c,d){var f=w.offset(),e=c.pageX-f.left-G.left,r=c.pageY-f.top-G.top,k=da({left:e,top:r});k.pageX=c.pageX;k.pageY=c.pageY;c=a.grid.mouseActiveRadius;var n=c*c+1,m=null,p,u;for(p=U.length-1;p>=0;--p)if(d(U[p])){var E=U[p],K=E.xaxis,L=E.yaxis,F=E.datapoints.points,D=E.datapoints.pointsize,B=K.c2p(e),C=L.c2p(r),H=c/K.scale,Z=c/L.scale;if(E.lines.show||E.points.show)for(u=0;u<F.length;u+=D){var ha=F[u],ja=F[u+1];if(ha!=null)if(!(ha-B>H||ha-B<-H||
ja-C>Z||ja-C<-Z)){ha=Math.abs(K.p2c(ha)-e);ja=Math.abs(L.p2c(ja)-r);ja=ha*ha+ja*ja;if(ja<n){n=ja;m=[p,u/D]}}}if(E.bars.show&&!m){K=E.bars.align=="left"?0:-E.bars.barWidth/2;E=K+E.bars.barWidth;for(u=0;u<F.length;u+=D){ha=F[u];ja=F[u+1];L=F[u+2];if(ha!=null)if(U[p].bars.horizontal?B<=Math.max(L,ha)&&B>=Math.min(L,ha)&&C>=ja+K&&C<=ja+E:B>=ha+K&&B<=ha+E&&C>=Math.min(L,ja)&&C<=Math.max(L,ja))m=[p,u/D]}}}if(m){p=m[0];u=m[1];D=U[p].datapoints.pointsize;d={datapoint:U[p].datapoints.points.slice(u*D,(u+1)*
D),dataIndex:u,series:U[p],seriesIndex:p}}else d=null;if(d){d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+f.left+G.left);d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+f.top+G.top)}if(a.grid.autoHighlight){for(f=0;f<la.length;++f){e=la[f];e.auto==b&&!(d&&e.series==d.series&&e.point==d.datapoint)&&N(e.series,e.point)}d&&qa(d.series,d.datapoint,b)}y.trigger(b,[k,d])}function ta(){xa||(xa=setTimeout(Aa,30))}function Aa(){xa=null;J.save();J.clearRect(0,0,P,T);J.translate(G.left,G.top);var b,
c;for(b=0;b<la.length;++b){c=la[b];if(c.series.bars.show)Ba(c.series,c.point);else{var d=c.series,f=c.point;c=f[0];f=f[1];var e=d.xaxis,r=d.yaxis;if(!(c<e.min||c>e.max||f<r.min||f>r.max)){var k=d.points.radius+d.points.lineWidth/2;J.lineWidth=k;J.strokeStyle=t.color.parse(d.color).scale("a",0.5).toString();d=1.5*k;J.beginPath();J.arc(e.p2c(c),r.p2c(f),d,0,2*Math.PI,false);J.stroke()}}}J.restore();I(ca.drawOverlay,[J])}function qa(b,c,d){if(typeof b=="number")b=U[b];if(typeof c=="number"){var f=b.datapoints.pointsize;
c=b.datapoints.points.slice(f*c,f*(c+1))}f=ua(b,c);if(f==-1){la.push({series:b,point:c,auto:d});ta()}else if(!d)la[f].auto=false}function N(b,c){if(b==null&&c==null){la=[];ta()}if(typeof b=="number")b=U[b];if(typeof c=="number")c=b.data[c];var d=ua(b,c);if(d!=-1){la.splice(d,1);ta()}}function ua(b,c){for(var d=0;d<la.length;++d){var f=la[d];if(f.series==b&&f.point[0]==c[0]&&f.point[1]==c[1])return d}return-1}function Ba(b,c){J.lineWidth=b.bars.lineWidth;J.strokeStyle=t.color.parse(b.color).scale("a",
0.5).toString();var d=t.color.parse(b.color).scale("a",0.5).toString(),f=b.bars.align=="left"?0:-b.bars.barWidth/2;wa(c[0],c[1],c[2]||0,f,f+b.bars.barWidth,0,function(){return d},b.xaxis,b.yaxis,J,b.bars.horizontal,b.bars.lineWidth)}function sa(b,c,d,f){if(typeof b=="string")return b;else{c=j.createLinearGradient(0,d,0,c);d=0;for(var e=b.colors.length;d<e;++d){var r=b.colors[d];if(typeof r!="string"){var k=t.color.parse(f);if(r.brightness!=null)k=k.scale("rgb",r.brightness);if(r.opacity!=null)k.a*=
r.opacity;r=k.toString()}c.addColorStop(d/(e-1),r)}return c}}var U=[],a={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickLength:null,
alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,
borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},hooks:{}},g=null,q=null,w=null,j=null,J=null,z=[],S=[],G={left:0,right:0,top:0,bottom:0},P=0,T=0,ba=0,X=0,ca={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[]},Y=this;Y.setData=Q;Y.setupGrid=ga;Y.draw=ia;Y.getPlaceholder=function(){return y};
Y.getCanvas=function(){return g};Y.getPlotOffset=function(){return G};Y.width=function(){return ba};Y.height=function(){return X};Y.offset=function(){var b=w.offset();b.left+=G.left;b.top+=G.top;return b};Y.getData=function(){return U};Y.getAxis=function(b,c){var d=(b==x?z:S)[c-1];if(d&&!d.used)d=null;return d};Y.getAxes=function(){var b={},c;for(c=0;c<z.length;++c)b["x"+(c?c+1:"")+"axis"]=z[c]||{};for(c=0;c<S.length;++c)b["y"+(c?c+1:"")+"axis"]=S[c]||{};if(!b.x2axis)b.x2axis={n:2};if(!b.y2axis)b.y2axis=
{n:2};return b};Y.getXAxes=function(){return z};Y.getYAxes=function(){return S};Y.getUsedAxes=aa;Y.c2p=da;Y.p2c=function(b){var c={},d,f,e;for(d=0;d<z.length;++d)if((f=z[d])&&f.used){e="x"+f.n;if(b[e]==null&&f.n==1)e="x";if(b[e]){c.left=f.p2c(b[e]);break}}for(d=0;d<S.length;++d)if((f=S[d])&&f.used){e="y"+f.n;if(b[e]==null&&f.n==1)e="y";if(b[e]){c.top=f.p2c(b[e]);break}}return c};Y.getOptions=function(){return a};Y.highlight=qa;Y.unhighlight=N;Y.triggerRedrawOverlay=ta;Y.pointOffset=function(b){return{left:parseInt(z[V(b,
"x")-1].p2c(+b.x)+G.left),top:parseInt(S[V(b,"y")-1].p2c(+b.y)+G.top)}};Y.hooks=ca;(function(){for(var b=0;b<A.length;++b){var c=A[b];c.init(Y);c.options&&t.extend(true,a,c.options)}})(Y);(function(b){t.extend(true,a,b);if(a.xaxis.color==null)a.xaxis.color=a.grid.color;if(a.yaxis.color==null)a.yaxis.color=a.grid.color;if(a.xaxis.tickColor==null)a.xaxis.tickColor=a.grid.tickColor;if(a.yaxis.tickColor==null)a.yaxis.tickColor=a.grid.tickColor;if(a.grid.borderColor==null)a.grid.borderColor=a.grid.color;
if(a.grid.tickColor==null)a.grid.tickColor=t.color.parse(a.grid.color).scale("a",0.22).toString();for(b=0;b<Math.max(1,a.xaxes.length);++b)a.xaxes[b]=t.extend(true,{},a.xaxis,a.xaxes[b]);for(b=0;b<Math.max(1,a.yaxes.length);++b)a.yaxes[b]=t.extend(true,{},a.yaxis,a.yaxes[b]);if(a.xaxis.noTicks&&a.xaxis.ticks==null)a.xaxis.ticks=a.xaxis.noTicks;if(a.yaxis.noTicks&&a.yaxis.ticks==null)a.yaxis.ticks=a.yaxis.noTicks;if(a.x2axis){a.y2axis.position="top";a.xaxes[1]=a.x2axis}if(a.y2axis){if(a.y2axis.autoscaleMargin===
undefined)a.y2axis.autoscaleMargin=0.02;a.y2axis.position="right";a.yaxes[1]=a.y2axis}if(a.grid.coloredAreas)a.grid.markings=a.grid.coloredAreas;if(a.grid.coloredAreasColor)a.grid.markingsColor=a.grid.coloredAreasColor;a.lines&&t.extend(true,a.series.lines,a.lines);a.points&&t.extend(true,a.series.points,a.points);a.bars&&t.extend(true,a.series.bars,a.bars);if(a.shadowSize)a.series.shadowSize=a.shadowSize;for(b=0;b<a.xaxes.length;++b)W(z,b+1).options=a.xaxes[b];for(b=0;b<a.yaxes.length;++b)W(S,b+
1).options=a.yaxes[b];for(var c in ca)if(a.hooks[c]&&a.hooks[c].length)ca[c]=ca[c].concat(a.hooks[c]);I(ca.processOptions,[a])})(o);(function(){function b(c,d){var f=document.createElement("canvas");f.width=c;f.height=d;f.getContext||(f=window.G_vmlCanvasManager.initElement(f));return f}P=y.width();T=y.height();y.html("");y.css("position")=="static"&&y.css("position","relative");if(P<=0||T<=0)throw"Invalid dimensions for plot, width = "+P+", height = "+T;window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document);
g=t(b(P,T)).appendTo(y).get(0);j=g.getContext("2d");q=t(b(P,T)).css({position:"absolute",left:0,top:0}).appendTo(y).get(0);J=q.getContext("2d");J.stroke()})();Q(M);ga();ia();w=t([q,g]);a.grid.hoverable&&w.mousemove(Ca);a.grid.clickable&&w.click(fa);I(ca.bindEvents,[w]);var la=[],xa=null}function v(y,M){return M*Math.floor(y/M)}t.plot=function(y,M,o){return new O(t(y),M,o,t.plot.plugins)};t.plot.plugins=[];t.plot.formatDate=function(y,M,o){var A=function(ea){ea=""+ea;return ea.length==1?"0"+ea:ea},
I=[],Q=false,V=false,da=y.getUTCHours(),aa=da<12;if(o==null)o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(M.search(/%p|%P/)!=-1)if(da>12)da-=12;else if(da==0)da=12;for(var W=0;W<M.length;++W){var R=M.charAt(W);if(Q){switch(R){case "h":R=""+da;break;case "H":R=A(da);break;case "M":R=A(y.getUTCMinutes());break;case "S":R=A(y.getUTCSeconds());break;case "d":R=""+y.getUTCDate();break;case "m":R=""+(y.getUTCMonth()+1);break;case "y":R=""+y.getUTCFullYear();break;case "b":R=
""+o[y.getUTCMonth()];break;case "p":R=aa?"am":"pm";break;case "P":R=aa?"AM":"PM";break;case "0":R="";V=true;break}if(R&&V){R=A(R);V=false}I.push(R);V||(Q=false)}else if(R=="%")Q=true;else I.push(R)}return I.join("")}})(jQuery);
(function(){jQuery.color={};jQuery.color.make=function(O,v,y,M){var o={};o.r=O||0;o.g=v||0;o.b=y||0;o.a=M!=null?M:1;o.add=function(A,I){for(var Q=0;Q<A.length;++Q)o[A.charAt(Q)]+=I;return o.normalize()};o.scale=function(A,I){for(var Q=0;Q<A.length;++Q)o[A.charAt(Q)]*=I;return o.normalize()};o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"};o.normalize=function(){function A(I,Q,V){return Q<I?I:Q>V?V:Q}o.r=A(0,parseInt(o.r),255);o.g=A(0,
parseInt(o.g),255);o.b=A(0,parseInt(o.b),255);o.a=A(0,o.a,1);return o};o.clone=function(){return jQuery.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};jQuery.color.extract=function(O,v){var y;do{y=O.css(v).toLowerCase();if(y!=""&&y!="transparent")break;O=O.parent()}while(!jQuery.nodeName(O.get(0),"body"));if(y=="rgba(0, 0, 0, 0)")y="transparent";return jQuery.color.parse(y)};jQuery.color.parse=function(O){var v,y=jQuery.color.make;if(v=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(O))return y(parseInt(v[1],
10),parseInt(v[2],10),parseInt(v[3],10));if(v=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(O))return y(parseInt(v[1],10),parseInt(v[2],10),parseInt(v[3],10),parseFloat(v[4]));if(v=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(O))return y(parseFloat(v[1])*2.55,parseFloat(v[2])*2.55,parseFloat(v[3])*2.55);if(v=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(O))return y(parseFloat(v[1])*
2.55,parseFloat(v[2])*2.55,parseFloat(v[3])*2.55,parseFloat(v[4]));if(v=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(O))return y(parseInt(v[1],16),parseInt(v[2],16),parseInt(v[3],16));if(v=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(O))return y(parseInt(v[1]+v[1],16),parseInt(v[2]+v[2],16),parseInt(v[3]+v[3],16));O=jQuery.trim(O).toLowerCase();if(O=="transparent")return y(255,255,255,0);else{v=t[O];return y(v[0],v[1],v[2])}};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,
220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(t){function O(y){return(y=/^\s*?[\+-]?(\d*\.?\d*?)\s*?$/.exec(y))&&y.length>0?y[1]:false}function v(y,M){var o=false;t.each(y,function(A,I){o||(o=I==M)});return o}t.tinysort={id:"TinySort",version:"1.0.4",defaults:{order:"asc",attr:"",place:"start",returns:false}};t.fn.extend({tinysort:function(y,M){if(y&&typeof y!="string"){M=y;y=null}var o=t.extend({},t.tinysort.defaults,M),A={};this.each(function(ka){var ga=!y||y==""?t(this):t(this).find(y),ma=o.order=="rand"?""+Math.random():o.attr==
""?ga.text():ga.attr(o.attr),ia=t(this).parent();A[ia]||(A[ia]={s:[],n:[]});ga.length>0?A[ia].s.push({s:ma,e:t(this),n:ka}):A[ia].n.push({e:t(this),n:ka})});for(var I in A){var Q=A[I];Q.s.sort(function(ka,ga){var ma=ka.s.toLowerCase?ka.s.toLowerCase():ka.s,ia=ga.s.toLowerCase?ga.s.toLowerCase():ga.s;if(O(ka.s)&&O(ga.s)){ma=parseFloat(ka.s);ia=parseFloat(ga.s)}return(o.order=="asc"?1:-1)*(ma<ia?-1:ma>ia?1:0)})}var V=[];for(I in A){Q=A[I];var da=[],aa=t(this).length;switch(o.place){case "first":t.each(Q.s,
function(ka,ga){aa=Math.min(aa,ga.n)});break;case "org":t.each(Q.s,function(ka,ga){da.push(ga.n)});break;case "end":aa=Q.n.length;break;default:aa=0}for(var W=[0,0],R=0;R<t(this).length;R++){var ea=R>=aa&&R<aa+Q.s.length;if(v(da,R))ea=true;var na=(ea?Q.s:Q.n)[W[ea?0:1]].e;na.parent().append(na);if(ea||!o.returns)V.push(na.get(0));W[ea?0:1]++}}return this.pushStack(V)}});t.fn.TinySort=t.fn.Tinysort=t.fn.tsort=t.fn.tinysort})(jQuery);
(function(t){function O(M,o,A){var I=this,Q=M.add(this),V=M.find(A.tabs),da=o.jquery?o:M.children(o),aa;V.length||(V=M.children());da.length||(da=M.parent().find(o));da.length||(da=t(o));t.extend(this,{click:function(W,R){var ea=V.eq(W);if(typeof W=="string"&&W.replace("#","")){ea=V.filter("[href*="+W.replace("#","")+"]");W=Math.max(V.index(ea),0)}if(A.rotate){var na=V.length-1;if(W<0)return I.click(na,R);if(W>na)return I.click(0,R)}if(!ea.length){if(aa>=0)return I;W=A.initialIndex;ea=V.eq(W)}if(W===
aa)return I;R=R||t.Event();R.type="onBeforeClick";Q.trigger(R,[W]);if(!R.isDefaultPrevented()){v[A.effect].call(I,W,function(){R.type="onClick";Q.trigger(R,[W])});aa=W;V.removeClass(A.current);ea.addClass(A.current);return I}},getConf:function(){return A},getTabs:function(){return V},getPanes:function(){return da},getCurrentPane:function(){return da.eq(aa)},getCurrentTab:function(){return V.eq(aa)},getIndex:function(){return aa},next:function(){return I.click(aa+1)},prev:function(){return I.click(aa-
1)},destroy:function(){V.unbind(A.event).removeClass(A.current);da.find("a[href^=#]").unbind("click.T");return I}});t.each("onBeforeClick,onClick".split(","),function(W,R){t.isFunction(A[R])&&t(I).bind(R,A[R]);I[R]=function(ea){t(I).bind(R,ea);return I}});if(A.history&&t.fn.history){t.tools.history.init(V);A.event="history"}V.each(function(W){t(this).bind(A.event,function(R){I.click(W,R);return R.preventDefault()})});da.find("a[href^=#]").bind("click.T",function(W){I.click(t(this).attr("href"),W)});
if(location.hash)I.click(location.hash);else if(A.initialIndex===0||A.initialIndex>0)I.click(A.initialIndex)}t.tools=t.tools||{version:"1.2.3"};t.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(M,o){v[M]=o}};var v={"default":function(M,o){this.getPanes().hide().eq(M).show();o.call()},fade:function(M,o){var A=this.getConf(),I=A.fadeOutSpeed,Q=this.getPanes();I?Q.fadeOut(I):Q.hide();
Q.eq(M).fadeIn(A.fadeInSpeed,o)},slide:function(M,o){this.getPanes().slideUp(200);this.getPanes().eq(M).slideDown(400,o)},ajax:function(M,o){this.getPanes().eq(0).load(this.getTabs().eq(M).attr("href"),o)}},y;t.tools.tabs.addEffect("horizontal",function(M,o){y||(y=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){t(this).hide()});this.getPanes().eq(M).animate({width:y},function(){t(this).show();o.call()})});t.fn.tabs=function(M,o){var A=this.data("tabs");if(A){A.destroy();
this.removeData("tabs")}if(t.isFunction(o))o={onBeforeClick:o};o=t.extend({},t.tools.tabs.conf,o);this.each(function(){A=new O(t(this),M,o);t(this).data("tabs",A)});return o.api?A:this}})(jQuery);
(function(t,O){O.homepage={};O.homepage.update_pointer=function(v){var y=v.position(),M=t("#pointer");if(M.position().top!==y.top){M.is(":hidden")&&M.css({top:y.top+"px"});var o=v.text();t("#pointer-text").fadeOut(function(){t("#pointer-text").html(o)});M.fadeIn().animate({top:y.top+"px"},function(){t("#pointer-text").fadeIn()})}};t.tools.tabs.addEffect("load_pane",function(v,y){var M=this.getPanes(),o=M.eq(v),A=this.getTabs().eq(v);if(A.closest("li").is("#tab-all")){t("#all-domains-nav").fadeIn("fast");
A=t(".toc-letter.active > a:first");if(A.length===0)A=t(".toc-letter > a:first");y();A.click()}else{A.closest(".domain-explorer-tab").is("#tab-all")||t("#all-domains-nav").hide();if(A.closest("li").is(".toc-letter")){O.homepage.update_pointer(t("#tab-all > a:first"));t(".toc-letter").removeClass("active");A.closest("li").addClass("active")}else O.homepage.update_pointer(A);if(o.is(":empty")||t.trim(o.text()).length==0){t("#pointer").queue(function(I){t("#pointer").addClass("processing");I()});o.load(A.attr("href"),
function(){M.hide();O.homepage.sort_domains(o);o.fadeIn(y);O.homepage.init_activity_charts(o);t("#pointer").queue(function(I){t("#pointer").removeClass("processing");I()})})}else{M.hide();o.fadeIn(y)}}});O.homepage.sort_domains=function(){var v=t(".domain-activity-controls select").val(),y=t("ul.category-domain-list > li.sorted-domain"),M="desc";if(v==="name")M="asc";y.tsort(".domain-info",{attr:"data-"+v,order:M,place:"end"})};O.homepage.init_activity_charts=function(v){t(".activity-chart-assertions",
v).each(function(){for(var y=t(this),M=JSON.parse(y.attr("data-activity")),o=[],A=1;A<M.length;A++){var I=parseInt(M[A].e,10);o.push([A,I])}t.plot(y,[{data:o,lines:{show:true},points:{show:true,radius:2,fill:true,fillColor:"#f71"},shadowSize:0,color:"#f71"}],{grid:{show:true,color:"#fff",borderWidth:0,hoverable:true,autoHighlight:true,mouseActiveRadius:3},legend:{show:false},xaxis:{tickFormatter:function(){return""},ticks:[]},yaxis:{tickFormatter:function(){return""},ticks:[]}})})};O.homepage.init=
function(){var v=t("#domain-explorer-tabs");v.tabs("#explorer-panes > div",{initialIndex:parseInt(v.attr("data-index")||0,10),effect:"load_pane"});t(".domain-activity-controls select").change(O.homepage.sort_domains)};setTimeout(O.homepage.init,0)})(jQuery,window.freebase);
